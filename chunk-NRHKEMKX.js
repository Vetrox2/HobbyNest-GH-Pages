import{a as L}from"./chunk-CDTT7FRJ.js";import{b as U}from"./chunk-PZJLA765.js";import"./chunk-3RNCWNF7.js";import"./chunk-32NLWDRR.js";import"./chunk-4QVHTKOU.js";import{a as G,b as j}from"./chunk-THLBEF7B.js";import{a as N,c as W,g as $,i as Q}from"./chunk-O63GIMFI.js";import"./chunk-6S5I5LFA.js";import"./chunk-52EUMQZR.js";import{t as A}from"./chunk-XPGUH72Q.js";import{$b as C,D as E,Fb as H,Hb as a,Jb as M,Kc as F,Mb as p,Ob as f,Pb as g,Qb as o,Rb as l,Sb as m,Wb as D,bb as y,bc as u,cc as k,dc as R,fb as r,gc as I,hc as w,ia as P,ic as x,mc as s,nc as _,ob as d,ra as h,sa as v,xc as V,z as T,zc as B}from"./chunk-TIIQBU2L.js";var X=["scrollContainer"],Z=["scrollWrapper"],ee=["*"],b=class e{scrollContainer;scrollWrapper;canScrollLeft=!1;canScrollRight=!1;scrollButtonVisible=!1;scrollSub;resizeObserver;ngAfterViewInit(){this.updateScrollButtons(),this.scrollSub=T(this.scrollContainer.nativeElement,"scroll").pipe(E(100)).subscribe(()=>this.updateScrollButtons()),this.resizeObserver=new ResizeObserver(()=>{this.onScrollContainerResized()}),this.resizeObserver.observe(this.scrollContainer.nativeElement)}ngOnDestroy(){this.scrollSub?.unsubscribe(),this.resizeObserver.disconnect()}onScrollContainerResized(){this.updateScrollButtons()}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}updateScrollButtons(){this.scrollButtonVisible=this.scrollContainer.nativeElement.clientWidth===this.scrollWrapper.nativeElement.clientWidth;let i=this.scrollContainer.nativeElement;this.canScrollLeft=i.scrollLeft>0,this.canScrollRight=i.scrollLeft<i.scrollWidth-i.clientWidth}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-horizontal-scroll"]],viewQuery:function(t,n){if(t&1&&(I(X,7),I(Z,7)),t&2){let c;w(c=x())&&(n.scrollContainer=c.first),w(c=x())&&(n.scrollWrapper=c.first)}},ngContentSelectors:ee,decls:11,vars:6,consts:[["scrollWrapper",""],["scrollContainer",""],[1,"scroll-wrapper"],[1,"scroll-btn","left",3,"click","disabled"],[1,"scroll-container",3,"scroll"],[1,"scroll-btn","right",3,"click","disabled"]],template:function(t,n){if(t&1){let c=D();k(),o(0,"div",2,0)(2,"button",3),C("click",function(){return h(c),v(n.scrollLeft())}),o(3,"mat-icon"),s(4,"keyboard_arrow_left"),l()(),o(5,"div",4,1),C("scroll",function(){return h(c),v(n.updateScrollButtons())}),R(7),l(),o(8,"button",5),C("click",function(){return h(c),v(n.scrollRight())}),o(9,"mat-icon"),s(10,"keyboard_arrow_right"),l()()()}t&2&&(r(2),M("hidden",!n.scrollButtonVisible),a("disabled",!n.canScrollLeft),r(6),M("hidden",!n.scrollButtonVisible),a("disabled",!n.canScrollRight))},dependencies:[j,G],styles:[".scroll-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;overflow:hidden;width:100%}.scroll-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:hidden;scroll-behavior:smooth;gap:var(--spacing-medium);padding:var(--spacing-medium) 0;width:fit-content}.scroll-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1;background-color:#000000e6;color:#fff;border:none;padding:var(--spacing-small) var(--spacing-medium);font-size:var(--font-size-base);border-radius:var(--border-radius-large);cursor:pointer;transition:opacity .2s ease-in-out}.scroll-btn.left[_ngcontent-%COMP%]{left:var(--spacing-small)}.scroll-btn.right[_ngcontent-%COMP%]{right:var(--spacing-small)}.scroll-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:default}.scroll-btn.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}"]})};var S=class e{mediaItem;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-media-item-tile"]],inputs:{mediaItem:"mediaItem"},decls:11,vars:9,consts:[["target","_blank",1,"link",3,"href"],[1,"tile"],["mat-card-image","","height","250","width","194","alt","Collection image","draggable","false",3,"src"],[1,"tile-content"],[3,"title"]],template:function(t,n){if(t&1&&(o(0,"a",0)(1,"mat-card",1),m(2,"img",2),o(3,"mat-card-content",3)(4,"h3",4),s(5),l(),o(6,"p"),s(7),l(),o(8,"p"),s(9),V(10,"date"),l()()()()),t&2){let c;a("href",n.mediaItem.sourceUrl,y),r(2),a("src",(c=n.mediaItem.imageUrl)!==null&&c!==void 0?c:"media-item-placeholder.png",y),r(2),a("title",n.mediaItem.title),r(),_(n.mediaItem.title),r(2),_(n.mediaItem.genre),r(2),_(B(10,6,n.mediaItem.releaseDate,"yyyy"))}},dependencies:[Q,N,W,$,A],styles:[".link[_ngcontent-%COMP%]{text-decoration:none}.tile[_ngcontent-%COMP%]{width:200px;height:350px;border:3px solid var(--background-color-steel);border-radius:var(--border-radius-medium);cursor:pointer;transition:transform .2s}.tile[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.tile[_ngcontent-%COMP%]   img[mat-card-image][_ngcontent-%COMP%]{object-fit:cover;border-top-left-radius:var(--border-radius-medium);border-top-right-radius:var(--border-radius-medium)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]{margin-top:var(--spacing-small)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-h4);color:var(--text-color);margin:var(--spacing-small) 0 var(--spacing-xs)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-additional);color:var(--text-color-grey);margin:0}"]})};var K=(e,i)=>i.id,z=(e,i)=>i.itemApiId;function te(e,i){if(e&1&&m(0,"app-collection-tile",1),e&2){let t=i.$implicit;a("collection",t)}}function ie(e,i){if(e&1&&(o(0,"section")(1,"h2"),s(2,"Recently Modified by You"),l(),o(3,"app-horizontal-scroll"),f(4,te,1,1,"app-collection-tile",1,K),l()()),e&2){let t=u();r(4),g(t.recentModifiedCollections())}}function ne(e,i){if(e&1&&m(0,"app-media-item-tile",2),e&2){let t=i.$implicit;a("mediaItem",t)}}function oe(e,i){if(e&1&&(o(0,"section")(1,"h2"),s(2,"Trending Among Friends"),l(),o(3,"app-horizontal-scroll"),f(4,ne,1,1,"app-media-item-tile",2,K),l()()),e&2){let t=u();r(4),g(t.trendingAmongFriends())}}function re(e,i){if(e&1&&m(0,"app-media-item-tile",2),e&2){let t=i.$implicit;a("mediaItem",t)}}function le(e,i){if(e&1&&(o(0,"section")(1,"h2"),s(2,"Trending Now: Movies"),l(),o(3,"app-horizontal-scroll"),f(4,re,1,1,"app-media-item-tile",2,z),l()()),e&2){let t=u();r(4),g(t.trendingMovies())}}function ae(e,i){if(e&1&&m(0,"app-media-item-tile",2),e&2){let t=i.$implicit;a("mediaItem",t)}}function se(e,i){if(e&1&&(o(0,"section")(1,"h2"),s(2,"Trending Now: Series"),l(),o(3,"app-horizontal-scroll"),f(4,ae,1,1,"app-media-item-tile",2,z),l()()),e&2){let t=u();r(4),g(t.trendingSeries())}}function ce(e,i){if(e&1&&m(0,"app-media-item-tile",2),e&2){let t=i.$implicit;a("mediaItem",t)}}function me(e,i){if(e&1&&(o(0,"section")(1,"h2"),s(2,"Trending Now: Games"),l(),o(3,"app-horizontal-scroll"),f(4,ce,1,1,"app-media-item-tile",2,z),l()()),e&2){let t=u();r(4),g(t.trendingGames())}}var J=class e{homeService=P(L);recentModifiedCollections=F(()=>this.homeService.recentModifiedCollections().slice(0,10));trendingAmongFriends=this.homeService.trendingAmongFriends;trendingMovies=this.homeService.trendingMovies;trendingGames=this.homeService.trendingGames;trendingSeries=this.homeService.trendingSeries;ngOnInit(){this.homeService.fetchData()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-home"]],decls:6,vars:5,consts:[[1,"main-container"],[3,"collection"],[3,"mediaItem"]],template:function(t,n){t&1&&(o(0,"div",0),H(1,ie,6,0,"section")(2,oe,6,0,"section")(3,le,6,0,"section")(4,se,6,0,"section")(5,me,6,0,"section"),l()),t&2&&(r(),p(n.recentModifiedCollections().length>0?1:-1),r(),p(n.trendingAmongFriends().length>0?2:-1),r(),p(n.trendingMovies().length>0?3:-1),r(),p(n.trendingSeries().length>0?4:-1),r(),p(n.trendingGames().length>0?5:-1))},dependencies:[b,U,S],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xxl)}"]})};export{J as HomeComponent};
