import{a as Fe}from"./chunk-KKJ6ZEZR.js";import{a as V,b as Le}from"./chunk-SKQFOZBO.js";import{a as q}from"./chunk-7J5C5MML.js";import{a as ee,b as Ve}from"./chunk-AZHIKCW5.js";import{d as Te,e as H,f as T,g as N,h as ke,i as ze,j as Ee,k as R}from"./chunk-FDNU37EC.js";import{a as $}from"./chunk-NGAUCSBV.js";import{c as ye,d as we,f as Se}from"./chunk-C3EB4CL5.js";import{a as A,b as j}from"./chunk-L6C4JCVS.js";import{a as b,b as S}from"./chunk-PHS2S37Z.js";import{a as B,b as be,c as E,d as Ie,f as Z,h as De,j as U}from"./chunk-D6Q4MSJD.js";import{a as xe}from"./chunk-GKIQHEYN.js";import{a as Oe}from"./chunk-SA4NHDBY.js";import{a as ue}from"./chunk-5RXDSADJ.js";import{b as O,c as K,f as w,g as ve,h as Pe}from"./chunk-TUSFAYHM.js";import{k as y,o as Me}from"./chunk-NL76DNNZ.js";import{c as Q,d as X,f as L,h as Y}from"./chunk-HU7WFQWJ.js";import{pa as fe}from"./chunk-M4MB4F5F.js";import{a as Ae}from"./chunk-BXC6A24G.js";import{$b as ge,Db as ae,Fa as ie,Fc as pe,Gc as _e,Hc as Ce,Ib as p,Jb as re,Jc as he,Kb as le,Lb as ce,Nb as _,Sb as v,Vb as me,Wb as de,Xb as i,Yb as r,Yc as P,Zb as s,_b as se,aa as ne,bc as x,db as oe,eb as I,ga as m,hb as o,jc as u,lc as c,qa as f,ra as M,rb as D,wc as l,xc as g,yc as z}from"./chunk-BNW6Q7MZ.js";var $e=(t,n)=>n.id,qe=t=>({count:t});function Ge(t,n){if(t&1){let e=x();i(0,"mat-list-item",8),u("click",function(){let d=f(e).$implicit,h=c(2);return M(h.select(d))}),i(1,"div",9)(2,"h4",10),l(3),r(),i(4,"p",11),l(5),r()()()}if(t&2){let e=n.$implicit,a=c().$implicit;o(3),g(e.name),o(2),g(a("collection.itemsCount",pe(2,qe,e.itemCount)))}}function We(t,n){if(t&1){let e=x();se(0),i(1,"h3",1),l(2),r(),i(3,"mat-dialog-content",2)(4,"div",3),u("click",function(){f(e);let d=c();return M(d.add())}),i(5,"mat-icon"),l(6,"add"),r(),i(7,"span"),l(8),r()(),s(9,"mat-divider"),i(10,"div",4)(11,"mat-list"),me(12,Ge,6,4,"mat-list-item",5,$e),r()(),s(14,"mat-divider"),r(),i(15,"mat-dialog-actions",6)(16,"button",7),l(17),r()(),ge()}if(t&2){let e=n.$implicit,a=c();o(2),g(e("collection.chooseCollection.title")),o(6),g(e("collection.chooseCollection.addNewCollection")),o(4),de(a.collections()),o(5),g(e("button.cancel"))}}var G=class t{collectionService=m(ue);dialog=m(T);data=m(H);dialogRef=m(Te);category;collections=P(()=>this.collectionService.selfCollections().filter(n=>n.category===this.category));add(){var n=this.dialog.open(Fe,{width:"550px",data:{collectionCategory:this.category}});n.afterClosed().subscribe(e=>{e&&typeof e==typeof Pe&&this.select(e)})}select(n){this.dialogRef.close(n)}ngOnInit(){this.category=this.data.category}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-choose-collection-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[1,"dialog-content"],[1,"add-collection-header",3,"click"],[1,"list-container"],[1,"collection-item"],["align","end"],["mat-flat-button","","mat-dialog-close",""],[1,"collection-item",3,"click"],[1,"collection-info"],[1,"collection-name"],[1,"collection-count"]],template:function(e,a){e&1&&p(0,We,18,3,"ng-container",0)},dependencies:[R,N,ke,Ee,ze,Se,ye,we,A,w,O,S,b,j,y],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-top:var(--spacing-small);margin-bottom:var(--spacing-small);font-size:var(--font-size-h3)!important;text-align:center}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small)}.add-collection-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-small);cursor:pointer;font-size:var(--font-size-base);color:var(--text-color);padding:var(--spacing-small);border-radius:var(--border-radius-small)}.add-collection-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:25px}.add-collection-header[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.list-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.collection-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:var(--border-radius-small);height:fit-content}.collection-item[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.collection-item[_ngcontent-%COMP%]   .collection-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--spacing-small) 0;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .collection-name[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-base);line-height:var(--font-size-base);font-weight:var(--font-weight-normal);color:var(--text-color)}.collection-item[_ngcontent-%COMP%]   .collection-count[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-small);line-height:var(--font-size-small);color:var(--text-color-grey)}mat-dialog-actions[_ngcontent-%COMP%]{padding:0 var(--spacing-large) var(--spacing-medium)}"]})};var k=class t{dialog=m(T);notificationService=m(ve);collectionItemsService=m(xe);openChooseCollectionDialog(n){return this.dialog.open(G,{width:"400px",minHeight:"300px",maxHeight:"min(700px, 70vh)",data:{category:n}}).afterClosed()}openChooseCollectionDialogAndAddMediaItem(n,e){this.openChooseCollectionDialog(n).subscribe(a=>{if(a){var d={mediaItemApiId:e,collectionId:a.id,toDo:!0,rating:0};this.collectionItemsService.addMediaItem(d).subscribe({next:h=>this.notificationService.showSuccess(),error:h=>{let F=h instanceof Error?h.message:typeof h=="string"?h:void 0;this.notificationService.showFailure(F)}})}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ke=()=>[E,Z,Ie,be,b,K,O,import("./chunk-TIIJR2BO.js").then(t=>t.ImgFallbackDirective),ee,import("./chunk-Z6LSDJTN.js").then(t=>t.NgStyle),A],Qe=(t,n)=>({color:t,"margin-left":n});function Xe(t,n){if(t&1&&(i(0,"span"),l(1),r()),t&2){let e,a=c(3);o(),g((e=a.mediaItem())==null?null:e.genre)}}function Ye(t,n){if(t&1&&(i(0,"span"),l(1),r()),t&2){let e,a=c(3);o(),g(a.formatLength((e=a.mediaItem())==null?null:e.length))}}function Ze(t,n){if(t&1&&(i(0,"span",10)(1,"span"),l(2),r(),i(3,"mat-icon"),l(4,"star"),r()()),t&2){let e,a=c(3);o(2),g((e=a.mediaItem())==null||e.voteAverage==null?null:e.voteAverage.toPrecision(2))}}function et(t,n){t&1&&s(0,"mat-divider",14)}function tt(t,n){if(t&1){let e=x();i(0,"div",4)(1,"div",5),s(2,"img",6),r(),i(3,"div",7)(4,"mat-card-header",8)(5,"section")(6,"mat-card-title"),l(7),i(8,"span",9),l(9),r()(),i(10,"mat-card-subtitle"),p(11,Xe,2,1,"span")(12,Ye,2,1,"span")(13,Ze,5,1,"span",10),r()(),i(14,"section",11)(15,"button",12),u("click",function(){f(e);let d=c(2);return M(d.openCollectionsDialog())}),i(16,"mat-icon"),l(17,"bookmark_add"),r()(),i(18,"a",13)(19,"mat-icon"),l(20,"link"),r()()()(),p(21,et,1,0,"mat-divider",14),i(22,"mat-card-content",15)(23,"section",16),l(24),s(25,"p",17),r()()()()}if(t&2){let e,a,d,h,F,J=c().$implicit,C=c();_("@fadeIn",void 0),o(2),_("src",(e=C.mediaItem())==null?null:e.imageUrl,I),o(5),z(" ",C.title()," "),o(),_("ngStyle",_e(14,Qe,C.releaseDate().textColor,C.releaseDate().marginLeft)),o(),z(" ",C.releaseDate().label," "),o(2),v((a=C.mediaItem())!=null&&a.genre?11:-1),o(),v((d=C.mediaItem())!=null&&d.length?12:-1),o(),v(((h=C.mediaItem())==null?null:h.voteAverage)!==null?13:-1),o(2),_("matTooltip",J("media.mediaItemDetails.addToCollectionTooltip")),o(3),_("href",(F=C.mediaItem())==null?null:F.sourceUrl,I)("matTooltip",J("media.mediaItemDetails.viewSourcePageTooltip")),o(3),v(C.responsive.isMobileSmall()?21:-1),o(3),z(" ",J("media.mediaItemDetails.overview")," "),o(),_("innerHTML",C.overview(),oe)}}function nt(t,n){t&1&&s(0,"div",22)}function it(t,n){t&1&&s(0,"mat-divider",14)}function ot(t,n){if(t&1){let e=x();i(0,"div",18)(1,"div",5),s(2,"img",19),r(),i(3,"div",7)(4,"mat-card-header",8)(5,"section",20),s(6,"div",21),p(7,nt,1,0,"div",22),s(8,"div",23),r(),i(9,"section",11)(10,"button",12),u("click",function(){f(e);let d=c(2);return M(d.openCollectionsDialog())}),i(11,"mat-icon"),l(12,"bookmark_add"),r()(),i(13,"a",13)(14,"mat-icon"),l(15,"link"),r()()()(),p(16,it,1,0,"mat-divider",14),i(17,"mat-card-content",15)(18,"section",16),l(19),s(20,"div",24),r()()()()}if(t&2){let e,a=c().$implicit,d=c();o(7),v(d.responsive.isMobileSmall()?7:-1),o(3),_("matTooltip",a("media.mediaItemDetails.addToCollectionTooltip")),o(3),_("href",(e=d.mediaItem())==null?null:e.sourceUrl,I)("matTooltip",a("media.mediaItemDetails.viewSourcePageTooltip")),o(3),v(d.responsive.isMobileSmall()?16:-1),o(3),z(" ",a("media.mediaItemDetails.overview")," ")}}function at(t,n){if(t&1&&(i(0,"mat-card",2),p(1,tt,26,17)(2,ot,21,6),le(3,1,Ke,null,2,null,null,0,re),i(5,"button",3)(6,"mat-icon"),l(7,"close"),r()()()),t&2){let e=c();o(3),ce(e.mediaItem())}}var W=class t{mediaService=m(Oe);chooseCollectionDialogService=m(k);translation=m(q);dateLabel=m(Le);responsive=m($);tba=Me("media.mediaItemDetails.tba");data=m(H);isValidDate=V.isValidDate;mediaItem=ae(null);title=P(()=>this.translation.getFieldByLang(this.mediaItem()?.title,this.mediaItem()?.titlePl));overview=P(()=>this.translation.getFieldByLang(this.mediaItem()?.overview,this.mediaItem()?.overviewPl));releaseDate=P(()=>V.isValidDate(this.mediaItem()?.releaseDate)?this.dateLabel.getMediaTileDateLabel(this.mediaItem().releaseDate):{label:this.tba(),textColor:"var(--text-color-grey)",marginLeft:"0"});openCollectionsDialog(){let n=this.mediaItem();n&&this.chooseCollectionDialogService.openChooseCollectionDialogAndAddMediaItem(n.category,n.itemApiId)}formatLength(n){return this.mediaService.formatLength(n,this.mediaItem()?.category)}ngOnInit(){if(!this.data.apiId||!this.data.category)return;let n={mediaItemApiId:this.data.apiId,collectionCategory:this.data.category};this.mediaService.getMediaItemDetails(n).subscribe(e=>{this.mediaItem.set(e)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-media-item-details-dialog"]],decls:1,vars:0,consts:[[300],["class","container",4,"transloco"],[1,"container"],["mat-flat-button","","mat-dialog-close","",1,"close-button"],[1,"item-container"],[1,"image-container"],["appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year",3,"ngStyle"],[1,"vote-average"],[1,"actions"],["mat-button","",1,"action-button",3,"click","matTooltip"],["mat-button","","target","_blank",1,"action-button",3,"href","matTooltip"],[1,"divider"],[1,"content"],[1,"overview"],[3,"innerHTML"],[1,"item-container","placeholder"],[1,"item-image"],[1,"header-section"],[1,"placeholder-line","title"],[1,"placeholder-line","year"],[1,"placeholder-line","subtitle"],[1,"placeholder-line","overview"]],template:function(e,a){e&1&&p(0,at,8,1,"mat-card",1)},dependencies:[R,N,U,B,E,Z,S,b,w,K,O,y,Ve,ee,j,A],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--secondary-color: #333333;--secondary-color-light: #4a4a4a;--secondary-color-hover: #444444;--secondary-color-light-hover: #555555;--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--background-color-steel: #424242;--background-color-lighter: #505050;--background-color-light-darker: #252525;--background-color-hover: #2a2a2a;--shadow-light: 0px 4px 6px rgba(0, 0, 0, .25);--shadow-medium: 0px 6px 10px rgba(0, 0, 0, .35);--shadow-heavy: 0px 8px 12px rgba(0, 0, 0, .45);--shadow-glow-light: 0 0 5px rgba(93, 63, 211, .15);--shadow-glow-medium: 0 0 8px rgba(93, 63, 211, .25);--shadow-glow-heavy: 0 0 12px rgba(93, 63, 211, .35);--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:50px;width:50px;height:50px;background-color:transparent}.close-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--spacing-medium) var(--spacing-small);min-height:150px;width:100%}@media (min-width: 600px){.container[_ngcontent-%COMP%]{flex-direction:row;padding:var(--spacing-large)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:hidden;gap:var(--spacing-medium)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{flex-direction:row;padding-right:var(--spacing-large);margin-right:var(--spacing-small);gap:var(--spacing-small)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium);height:160px;aspect-ratio:2/3}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{height:300px}}@media (min-width: 960px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{height:450px}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-medium);overflow-y:hidden;width:100%}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{gap:var(--spacing-xl)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:0}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;font-size:var(--font-size-h2);font-weight:var(--font-weight-bold)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:block;text-align:left}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}@media (max-width: 599px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{margin-left:0!important}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-top:var(--spacing-xs);font-size:var(--font-size-h5);text-align:center}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{text-align:left}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:var(--golden-star-color)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:var(--font-size-h5);line-height:var(--font-size-h5);height:var(--font-size-h5);width:var(--font-size-h5)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--spacing-small);justify-content:center;margin-top:var(--spacing-medium)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:left;margin-top:var(--spacing-large)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:50px;min-width:50px}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-h3);line-height:var(--font-size-h3);height:var(--font-size-h3);width:var(--font-size-h3)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 var(--spacing-medium)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:0;overflow:auto}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{font-size:var(--font-size-h3);text-align:left}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:var(--spacing-small);font-size:var(--font-size-h5)}.spacer[_ngcontent-%COMP%]{flex-grow:1}.placeholder[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{background-color:#ccc;animation:_ngcontent-%COMP%_pulse 2.5s infinite ease-in-out}.placeholder[_ngcontent-%COMP%]   .placeholder-line[_ngcontent-%COMP%]{height:14px;margin-top:var(--spacing-small);background-color:#ddd;border-radius:4px;animation:_ngcontent-%COMP%_pulse 2.5s infinite ease-in-out}@media (max-width: 599px){.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.title[_ngcontent-%COMP%]{width:80%;height:var(--font-size-h2);margin-top:0}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.year[_ngcontent-%COMP%]{width:60%;height:var(--font-size-h2)}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.subtitle[_ngcontent-%COMP%]{width:60%;height:var(--font-size-h5)}.placeholder[_ngcontent-%COMP%]   .placeholder-line.overview[_ngcontent-%COMP%]{width:100%;height:200px}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}'],data:{animation:[Q("fadeOut",[Y(":leave",[X("500ms ease-out",L({opacity:0}))])]),Q("fadeIn",[Y(":enter",[L({opacity:0}),X("600ms ease-in",L({opacity:1}))])])]}})};function rt(t,n){if(t&1&&(i(0,"p"),l(1),Ce(2,"date"),r()),t&2){let e=c(2);o(),g(he(2,1,e.mediaItem().releaseDate,"yyyy"))}}function lt(t,n){if(t&1&&(i(0,"p"),l(1),r()),t&2){let e=c().$implicit;o(),g(e("media.mediaItemTile.tba"))}}function ct(t,n){if(t&1){let e=x();i(0,"mat-card",1)(1,"div",2),u("click",function(){f(e);let d=c();return M(d.openDetails())}),i(2,"div"),s(3,"img",3),r(),i(4,"mat-card-content",4)(5,"h3",5),l(6),r(),i(7,"p"),l(8),r(),p(9,rt,3,4,"p")(10,lt,2,1,"p"),r()(),i(11,"button",6),u("click",function(){f(e);let d=c();return M(d.openCollectionsDialog())}),i(12,"mat-icon"),l(13,"bookmark_add"),r()()()}if(t&2){let e,a=c();o(3),_("src",(e=a.mediaItem().imageUrl)!==null&&e!==void 0?e:"media-item-placeholder.png",I),o(2),_("title",a.title()),o(),g(a.title()),o(2),g(a.mediaItem().genre),o(),v(a.isValidDate(a.mediaItem().releaseDate)?9:10)}}var He=class t{mediaItem=ie.required();dialog=m(T);chooseCollectionDialogService=m(k);translation=m(q);responsive=m($);isValidDate=V.isValidDate;title=P(()=>this.translation.getFieldByLang(this.mediaItem().title,this.mediaItem().titlePl));openCollectionsDialog(){this.chooseCollectionDialogService.openChooseCollectionDialogAndAddMediaItem(this.mediaItem().category,this.mediaItem().itemApiId)}openDetails(){this.dialog.open(W,{data:{apiId:this.mediaItem().itemApiId,category:this.mediaItem().category},width:this.responsive.isMobile()?"calc(100vw - 32px)":"1000px",maxWidth:"calc(100vw - 32px)",height:this.responsive.isMobile()?"":"498px",maxHeight:"calc(100vh - 32px)"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-media-item-tile"]],inputs:{mediaItem:[1,"mediaItem"]},decls:1,vars:0,consts:[["class","tile",4,"transloco"],[1,"tile"],[3,"click"],["mat-card-image","","appImgFallback","media-item-placeholder.png","alt","Collection image","draggable","false",3,"src"],[1,"tile-content"],[3,"title"],["mat-flat-button","",1,"add-btn",3,"click"]],template:function(e,a){e&1&&p(0,ct,14,5,"mat-card",0)},dependencies:[U,B,E,De,fe,w,O,S,b,Ae,y],styles:["[_ngcontent-%COMP%]:root{--secondary-color: #333333;--secondary-color-light: #4a4a4a;--secondary-color-hover: #444444;--secondary-color-light-hover: #555555;--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--background-color-steel: #424242;--background-color-lighter: #505050;--background-color-light-darker: #252525;--background-color-hover: #2a2a2a;--shadow-light: 0px 4px 6px rgba(0, 0, 0, .25);--shadow-medium: 0px 6px 10px rgba(0, 0, 0, .35);--shadow-heavy: 0px 8px 12px rgba(0, 0, 0, .45);--shadow-glow-light: 0 0 5px rgba(93, 63, 211, .15);--shadow-glow-medium: 0 0 8px rgba(93, 63, 211, .25);--shadow-glow-heavy: 0 0 12px rgba(93, 63, 211, .35);--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.link[_ngcontent-%COMP%]{text-decoration:none}.tile[_ngcontent-%COMP%]{width:inherit;min-width:140px;max-width:300px;border:3px solid var(--background-color-steel);border-radius:var(--border-radius-medium);cursor:pointer;transition:transform .2s}@media (min-width: 600px){.tile[_ngcontent-%COMP%]{min-width:200px}}.tile[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.tile[_ngcontent-%COMP%]   img[mat-card-image][_ngcontent-%COMP%]{width:100%;height:100%;aspect-ratio:2/3;object-fit:cover;border-top-left-radius:var(--border-radius-medium);border-top-right-radius:var(--border-radius-medium)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]{margin-top:var(--spacing-small)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-h4);color:var(--text-color);margin:var(--spacing-small) 0 var(--spacing-xs)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-additional);color:var(--text-color-grey);margin:0}.add-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:64px;height:64px;background-color:var(--background-color-dark)!important;border-radius:0 var(--border-radius-medium) 0 var(--border-radius-medium);opacity:.6;transition:opacity .3s ease}.add-btn[_ngcontent-%COMP%]:hover{opacity:.9}.add-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;margin:0}"]})};export{He as a};
