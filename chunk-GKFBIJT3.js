import{a,s as p}from"./chunk-TQO57KJH.js";import{_ as m,ca as n,ia as l,m as c,p as i}from"./chunk-7IX7LMTZ.js";var s=class o{apiService=l(a);collectionService=l(p);collectionItemEndpoint="collectionitem";searchItemEndpoint="mediasearch";addMediaItem(t){return this.apiService.post(this.collectionItemEndpoint+"/media",t).pipe(m(()=>{this.collectionService.increaseCollectionItemsCount(t.collectionId)}))}addCustomItem(t){return this.apiService.post(this.collectionItemEndpoint+"/custom",t).pipe(m(()=>{this.collectionService.increaseCollectionItemsCount(t.collectionId)}))}updateCustomItem(t){return this.apiService.patch(this.collectionItemEndpoint+"/custom",t)}updateCustomItemTitle(t,e){if(e=e.trim(),!t.customItem)return i(()=>new Error("An error occurred while updating custom item - item data is empty"));if(e===t.customItem.title)return c;if(!e||e.length>100)return i(()=>new Error("Maximum 100 characters. Not empty."));let r={id:t.id,title:e,description:t.customItem.description||""};return this.apiService.patch(this.collectionItemEndpoint+"/custom",r)}updateCustomItemDescription(t,e){if(e=e.trim(),!t.customItem)return i(()=>new Error("An error occurred while updating custom item - item data is empty"));if(e===t.customItem.description)return c;if(e&&e.length>2e3)return i(()=>new Error("Maximum 2000 characters."));let r={id:t.id,title:t.customItem.title,description:e};return this.apiService.patch(this.collectionItemEndpoint+"/custom",r)}updateItemRating(t){return this.apiService.patch(this.collectionItemEndpoint+"/rating",t)}updateItemToDoStatus(t){return this.apiService.patch(this.collectionItemEndpoint+"/todo",t)}deleteItem(t){return this.apiService.delete(this.collectionItemEndpoint,t)}searchMediaItems(t,e){return this.apiService.get(this.searchItemEndpoint,"",{CollectionId:t,SearchInput:e})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{s as a};
