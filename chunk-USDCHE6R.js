import{a as ne,b as re}from"./chunk-PZJLA765.js";import{a as le,b as ae,c as ce,d as me,e as pe}from"./chunk-Y36BAITG.js";import"./chunk-3RNCWNF7.js";import{b as K,c as H,g as J,h as U,j as W,k as X,p as Y,r as Z,s as ee,t as te,u as oe,v as ie}from"./chunk-32NLWDRR.js";import{b as L,d as _,f as R,g as z,h as V,j as v,l as j,m as B,n as G,o as Q,q as $}from"./chunk-4QVHTKOU.js";import"./chunk-THLBEF7B.js";import"./chunk-O63GIMFI.js";import{s as C}from"./chunk-6S5I5LFA.js";import{ka as k,na as q}from"./chunk-52EUMQZR.js";import{l as u,m as T,s as I,u as w}from"./chunk-XPGUH72Q.js";import{$b as f,Fb as d,Hb as a,Qb as n,Rb as o,Sb as s,Wb as O,bc as S,fb as l,gc as D,hc as P,ia as p,ic as x,mc as c,ob as g,oc as y,ra as b,sa as F,uc as E,xc as A,yc as N}from"./chunk-TIIQBU2L.js";function fe(t,r){t&1&&(n(0,"mat-error"),c(1," Name is required. "),o())}function ue(t,r){if(t&1&&(n(0,"mat-error"),c(1),o()),t&2){let e=S();l(),y(" Maximum ",e.nameCtrl.getError("maxlength").requiredLength," characters. ")}}function Ce(t,r){if(t&1&&(n(0,"mat-option",10),c(1),A(2,"titlecase"),o()),t&2){let e=r.$implicit;a("value",e),l(),y(" ",N(2,2,e)," ")}}function _e(t,r){t&1&&(n(0,"mat-error"),c(1," Category is required. "),o())}var M=class t{collectionService=p(C);dialogRef=p(Y);categories=Object.values(ne);collectionForm=new V({name:new v("",[_.required,_.maxLength(100)]),category:new v("",_.required),isPublic:new v(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid)return;let{name:r,category:e,isPublic:i}=this.collectionForm.value,m={name:r,category:e,isPublic:i};this.collectionService.addCollection(m).subscribe(h=>{h&&this.dialogRef.close()})}onCancel(){this.dialogRef.close(void 0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-add-collection-dialog"]],decls:20,vars:5,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","category","required",""],["class","selected-option",3,"value",4,"ngFor","ngForOf"],["formControlName","isPublic"],[3,"cancel","confirm"],[1,"selected-option",3,"value"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"h1",1),c(2,"Dodaj now\u0105 kolekcj\u0119"),o(),n(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Nazwa kolekcji"),o(),s(7,"input",4),d(8,fe,2,0,"mat-error",5)(9,ue,2,1,"mat-error",5),o(),n(10,"mat-form-field",3)(11,"mat-label"),c(12,"Kategoria"),o(),n(13,"mat-select",6),d(14,Ce,3,4,"mat-option",7),o(),d(15,_e,2,0,"mat-error",5),o(),n(16,"mat-slide-toggle",8),c(17,"Publiczna"),o()(),s(18,"hr"),n(19,"app-action-buttons",9),f("cancel",function(){return i.onCancel()})("confirm",function(){return i.onSubmit()}),o()()),e&2&&(l(3),a("formGroup",i.collectionForm),l(5),a("ngIf",i.nameCtrl.hasError("required")),l(),a("ngIf",i.nameCtrl.hasError("maxlength")),l(5),a("ngForOf",i.categories),l(),a("ngIf",i.categoryCtrl.hasError("required")))},dependencies:[U,J,K,H,ae,le,$,j,L,R,z,Q,B,G,X,W,oe,ee,te,q,k,me,ce,w,u,T,I,ie],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};var ve=["mainContainer"],Me=()=>({right:16,bottom:40});function ye(t,r){if(t&1&&(n(0,"div"),s(1,"app-collection-tile",4),o()),t&2){let e=r.$implicit;l(),a("collection",e)("isOnCollectionPage",!0)}}var de=class t{dialog=p(Z);collectionService=p(C);container;collections=this.collectionService.selfCollections;openAddCollectionDialog(){this.dialog.open(M,{width:"550px"})}trackById(r,e){return e.id}ngOnInit(){this.collectionService.fetchSelfCollections()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-collection-list"]],viewQuery:function(e,i){if(e&1&&D(ve,5),e&2){let m;P(m=x())&&(i.container=m.first)}},decls:5,vars:5,consts:[["mainContainer",""],[1,"collection-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","parentContainer","position"],[3,"collection","isOnCollectionPage"]],template:function(e,i){if(e&1){let m=O();n(0,"div",null,0)(2,"div",1),d(3,ye,2,2,"div",2),o(),n(4,"app-floating-action-button",3),f("click",function(){return b(m),F(i.openAddCollectionDialog())}),o()()}e&2&&(l(3),a("ngForOf",i.collections())("ngForTrackBy",i.trackById),l(),a("parentContainer",i.container)("position",E(4,Me)))},dependencies:[re,u,pe],styles:[".collection-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:var(--spacing-medium)}"]})};export{de as CollectionListComponent};
