import{a as lt,b as ct}from"./chunk-QLWNMCYS.js";import{b as nt,c as it}from"./chunk-FMOOUB5B.js";import{a as rt,b as at}from"./chunk-VEPEIPOK.js";import{b as Z,c as tt,g as et,h as ot}from"./chunk-QVCXVMKT.js";import{b as B,d as C,f as H,g as J,h as K,j as _,l as Q,m as U,n as W,o as X,q as Y}from"./chunk-OA2S7QIP.js";import{a as j}from"./chunk-UFHDFMSB.js";import{a as k}from"./chunk-KIDEEJU4.js";import{b as V,c as z,f as R,g as $,i as G,j as L}from"./chunk-7XV4WYW5.js";import{t as T,ta as N,wa as q}from"./chunk-UKFAUT6A.js";import{aa as F,ya as w}from"./chunk-M4MB4F5F.js";import{$b as I,Fc as A,Ib as g,Nb as m,Sb as y,Tb as b,Vb as O,Wb as P,Xb as a,Yb as i,Zb as v,_b as D,bc as S,ga as f,hb as n,jc as E,lc as l,qa as u,ra as x,rb as h,wc as c,xc as s,yc as p}from"./chunk-BNW6Q7MZ.js";var dt=e=>({value:e});function gt(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit;n(),p(" ",t("error.nameRequiredError")," ")}}function st(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit,o=l();n(),p(" ",t("error.lengthError",A(1,dt,o.nameCtrl.getError("maxlength").requiredLength))," ")}}function pt(e,r){if(e&1&&(a(0,"mat-option",10),c(1),i()),e&2){let t=r.$implicit,o=l(2).$implicit;m("value",t),n(),p(" ",o("collection.category."+t)," ")}}function ft(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l(2).$implicit;n(),p(" ",t("error.categoryRequiredError")," ")}}function Ct(e,r){if(e&1&&(a(0,"mat-form-field",4)(1,"mat-label"),c(2),i(),a(3,"mat-select",9),O(4,pt,2,2,"mat-option",10,b),i(),g(6,ft,2,1,"mat-error",6),i()),e&2){let t=l().$implicit,o=l();n(2),s(t("collection.addCollection.category")),n(2),P(o.categories),n(2),m("ngIf",o.categoryCtrl.hasError("required"))}}function _t(e,r){if(e&1){let t=S();D(0),a(1,"div",1)(2,"h1",2),c(3),i(),a(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),c(7),i(),v(8,"input",5),g(9,gt,2,1,"mat-error",6)(10,st,2,3,"mat-error",6),i(),g(11,Ct,7,2,"mat-form-field",4),a(12,"mat-slide-toggle",7),c(13),i()(),v(14,"hr"),a(15,"app-action-buttons",8),E("cancel",function(){u(t);let d=l();return x(d.onCancel())})("confirm",function(){u(t);let d=l();return x(d.onSubmit())}),i()(),I()}if(e&2){let t=r.$implicit,o=l();n(3),s(t("collection.addCollection.title")),n(),m("formGroup",o.collectionForm),n(3),s(t("collection.addCollection.name")),n(2),m("ngIf",o.nameCtrl.hasError("required")),n(),m("ngIf",o.nameCtrl.hasError("maxlength")),n(),y(o.showCategory?11:-1),n(2),s(t("collection.addCollection.public"))}}var mt=class e{collectionService=f(j);dialogRef=f(V);data=f(z);showCategory=!0;categories=Object.values(k);collectionForm=new K({name:new _("",[C.required,C.maxLength(100)]),category:new _("",C.required),isPublic:new _(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid)return;let{name:r,category:t,isPublic:o}=this.collectionForm.value,d={name:r,category:t,isPublic:o};this.collectionService.addCollection(d).subscribe(M=>{M&&this.dialogRef.close(M)})}onCancel(){this.dialogRef.close(void 0)}ngOnInit(){this.data?.collectionCategory&&(this.showCategory=!1,this.collectionForm.get("category")?.setValue(this.data.collectionCategory))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-add-collection-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","isPublic"],[3,"cancel","confirm"],["formControlName","category","required",""],[1,"selected-option",3,"value"]],template:function(t,o){t&1&&g(0,_t,16,7,"ng-container",0)},dependencies:[ot,et,Z,tt,ct,lt,Y,Q,B,H,J,X,U,W,it,nt,G,R,$,q,N,at,rt,w,F,L,T],styles:["[_ngcontent-%COMP%]:root{--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h3);margin-bottom:var(--spacing-large);text-align:center;padding:0}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium);padding:0 0 var(--spacing-medium)}@media (min-width: 600px){.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:0 var(--spacing-large) var(--spacing-medium)}}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{font-size:var(--font-size-base)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};export{mt as a};
