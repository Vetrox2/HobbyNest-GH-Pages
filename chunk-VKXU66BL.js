import{b as F}from"./chunk-WYKSDEO4.js";import{a as P}from"./chunk-Z4A3WAPY.js";import{a as k,b as z}from"./chunk-AKAMSCRD.js";import{a as D,b as U,c as $,f as K,j as y}from"./chunk-AI5H4DEV.js";import"./chunk-7XV4WYW5.js";import"./chunk-MXHXFDLI.js";import"./chunk-6QDSKCZN.js";import{a as T,b as w}from"./chunk-RTYU533E.js";import{t as u}from"./chunk-UKFAUT6A.js";import"./chunk-HU7WFQWJ.js";import{ua as b,ya as A}from"./chunk-M4MB4F5F.js";import{Dc as I,Ib as d,Sb as m,Tb as h,Vb as _,Wb as g,Xb as o,Yb as i,Yc as C,Zb as x,ga as p,hb as a,lc as r,rb as v,wc as s,xc as l,yc as f}from"./chunk-BNW6Q7MZ.js";import"./chunk-EQDQRRRY.js";var j=(t,e)=>e[0];function H(t,e){if(t&1&&(o(0,"div",5)(1,"span",6),s(2),i(),o(3,"span",7),s(4),i()()),t&2){let n=e.$implicit,c=r(3).$implicit;a(2),l(c(n.labelKey)),a(2),l(n.value)}}function q(t,e){if(t&1&&(o(0,"div",3),_(1,H,5,2,"div",5,h),i()),t&2){let n=r(3);a(),g(n.userStats())}}function G(t,e){if(t&1&&(o(0,"div",5)(1,"span",6),s(2),i(),o(3,"span",7),s(4),i()()),t&2){let n=e.$implicit,c=r(3).$implicit;a(2),l(c(n.labelKey)),a(2),l(n.value)}}function J(t,e){if(t&1&&(o(0,"div",11)(1,"span",12),s(2),i(),o(3,"span",13),s(4),i()()),t&2){let n=e.$implicit,c=r(4).$implicit;a(2),l(c("collection.category."+n[0])),a(2),l(n[1])}}function L(t,e){if(t&1&&(o(0,"div",9),_(1,J,5,2,"div",11,j),i()),t&2){let n=r(4);a(),g(n.collectionsPerCategoryEntries())}}function Q(t,e){if(t&1&&(o(0,"p",10),s(1),i()),t&2){let n=r(3).$implicit;a(),l(n("admin.stats.noData"))}}function R(t,e){if(t&1&&(o(0,"div",3),_(1,G,5,2,"div",5,h),i(),x(3,"mat-divider",8),o(4,"div",4)(5,"h3"),s(6),i(),d(7,L,3,0,"div",9)(8,Q,2,1,"p",10),i()),t&2){let n=r(2).$implicit,c=r();a(),g(c.collectionStats()),a(5),l(n("admin.stats.collectionsPerCategory")),a(),m(c.collectionsPerCategoryEntries().length>0?7:8)}}function V(t,e){if(t&1&&(o(0,"div",11)(1,"span",12),s(2),i(),o(3,"span",13),s(4),i()()),t&2){let n=e.$implicit,c=r(4).$implicit;a(2),l(c("collection.category."+n[0])),a(2),l(n[1])}}function X(t,e){if(t&1&&(o(0,"div",9),_(1,V,5,2,"div",11,j),i()),t&2){let n=r(4);a(),g(n.itemsPerCategoryEntries())}}function Y(t,e){if(t&1&&(o(0,"p",10),s(1),i()),t&2){let n=r(3).$implicit;a(),l(n("admin.stats.noData"))}}function Z(t,e){if(t&1&&(o(0,"div",4)(1,"h3"),s(2),i(),d(3,X,3,0,"div",9)(4,Y,2,1,"p",10),i()),t&2){let n=r(2).$implicit,c=r();a(2),l(n("admin.stats.itemsPerCategory")),a(),m(c.itemsPerCategoryEntries().length>0?3:4)}}function tt(t,e){if(t&1&&(o(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),s(4,"group"),i(),s(5),i()(),o(6,"mat-card-content"),d(7,q,3,0,"div",3),i()(),o(8,"mat-card",2)(9,"mat-card-header")(10,"mat-card-title")(11,"mat-icon"),s(12,"collections_bookmark"),i(),s(13),i()(),o(14,"mat-card-content"),d(15,R,9,2),i()(),o(16,"mat-card",2)(17,"mat-card-header")(18,"mat-card-title")(19,"mat-icon"),s(20,"category"),i(),s(21),i()(),o(22,"mat-card-content"),d(23,Z,5,2,"div",4),i()()),t&2){let n,c,E,S=r().$implicit,O=r();a(5),f(" ",S("admin.stats.userStatistics")," "),a(2),m((n=O.statistics())!=null&&n.userStatistics?7:-1),a(6),f(" ",S("admin.stats.collectionStatistics")," "),a(2),m((c=O.statistics())!=null&&c.collectionStatistics?15:-1),a(6),f(" ",S("admin.stats.itemStatistics")," "),a(2),m((E=O.statistics())!=null&&E.collectionItemStatistics?23:-1)}}function et(t,e){if(t&1&&(o(0,"div",1),d(1,tt,24,6),i()),t&2){let n=r();a(),m(n.statistics()?1:-1)}}var M=class t{statisticsService=p(P);decimalPipe=p(b);statistics=this.statisticsService.appStatistics;userStats=C(()=>{let e=this.statistics()?.userStatistics;return[{labelKey:"admin.stats.totalUsers",value:e?.totalUsers},{labelKey:"admin.stats.newUsersDaily",value:e?.newUsersDaily},{labelKey:"admin.stats.newUsersWeekly",value:e?.newUsersWeekly},{labelKey:"admin.stats.newUsersMonthly",value:e?.newUsersMonthly},{labelKey:"admin.stats.activeUsersDaily",value:e?.activeUsersDaily},{labelKey:"admin.stats.activeUsersWeekly",value:e?.activeUsersWeekly},{labelKey:"admin.stats.activeUsersMonthly",value:e?.activeUsersMonthly},{labelKey:"admin.stats.avgCollectionsPerUser",value:this.decimalPipe.transform(e?.averageCollectionsPerUser,"1.2-2")??""}]});collectionStats=C(()=>{let e=this.statistics()?.collectionStatistics;return[{labelKey:"admin.stats.totalCollections",value:e?.totalCollections},{labelKey:"admin.stats.publicCollections",value:e?.publicCollections},{labelKey:"admin.stats.privateCollections",value:e?.privateCollections},{labelKey:"admin.stats.avgItemsPerCollection",value:this.decimalPipe.transform(e?.averageItemsPerCollection,"1.2-2")??""}]});collectionsPerCategoryEntries=C(()=>{let e=this.statistics()?.collectionStatistics;return e?Object.entries(e.collectionsPerCategory):[]});itemsPerCategoryEntries=C(()=>{let e=this.statistics()?.collectionItemStatistics;return e?Object.entries(e.itemsPerCategory):[]});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-app-statistics"]],features:[I([b])],decls:1,vars:0,consts:[["class","statistics-container",4,"transloco"],[1,"statistics-container"],[1,"stats-card"],[1,"stats-grid"],[1,"category-section"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"section-divider"],[1,"category-grid"],[1,"no-data"],[1,"category-item"],[1,"category-name"],[1,"category-count"]],template:function(n,c){n&1&&d(0,et,2,1,"div",0)},dependencies:[A,y,D,$,K,U,z,k,w,T,u],styles:[".statistics-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-large)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-small);font-size:var(--font-size-h3);font-weight:var(--font-weight-medium)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:var(--spacing-medium)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--spacing-medium)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-small);background-color:var(--background-color);border-radius:var(--border-radius-medium)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:var(--font-size-medium);color:var(--text-secondary)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:var(--font-size-h3);font-weight:var(--font-weight-medium);color:var(--text-primary)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{margin:var(--spacing-large) 0}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-h5);font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-medium);color:var(--text-primary)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:var(--spacing-small)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-small) var(--spacing-medium);background-color:var(--background-color);border-radius:var(--border-radius-medium)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:var(--font-size-additional);color:var(--text-primary)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-medium);color:var(--primary-color)}.statistics-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic;text-align:center;padding:var(--spacing-large)}"]})};function nt(t,e){if(t&1&&(o(0,"div")(1,"h1",1),s(2),i(),o(3,"div",2),x(4,"app-app-statistics"),i()()),t&2){let n=e.$implicit;a(2),l(n("admin.title"))}}var N=class t{statisticsService=p(P);ngOnInit(){this.loadStatistics()}loadStatistics(){this.statisticsService.fetchAppStatistics().subscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-admin-panel"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"panel-title"],[1,"content-wrapper"]],template:function(n,c){n&1&&d(0,nt,5,1,"div",0)},dependencies:[y,F,u,M],styles:[".panel-title[_ngcontent-%COMP%]{font-weight:var(--font-weight-medium);color:var(--primary-color)}.content-wrapper[_ngcontent-%COMP%]{min-height:400px}"]})};export{N as AdminPanelComponent};
