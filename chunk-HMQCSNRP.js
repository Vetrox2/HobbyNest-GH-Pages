import{a as X}from"./chunk-27F2HPJX.js";import{a as Y,b as Z,c as ee,d as te}from"./chunk-IBJR7RAY.js";import{b as G,c as R,g as V,h as L,j as B,k as K,p as $,q as H,t as J,u as Q,w as U,x as W}from"./chunk-RZNO32K5.js";import{b as E,d as p,f as I,g as N,h as T,j as g,l as w,m as q,n as z,o as j,q as k}from"./chunk-4RTAQCRI.js";import{s as A}from"./chunk-F6BCK6HS.js";import{ka as F,na as S}from"./chunk-HVWCVND4.js";import{l as O,m as b,s as D,u as P}from"./chunk-66SFJMCG.js";import{$b as h,Fb as c,Hb as m,Mb as v,Qb as i,Rb as o,Sb as f,bc as C,fb as r,ia as d,mc as a,ob as M,oc as u,xc as y,yc as x}from"./chunk-7IX7LMTZ.js";function ie(e,n){e&1&&(i(0,"mat-error"),a(1," Name is required. "),o())}function ne(e,n){if(e&1&&(i(0,"mat-error"),a(1),o()),e&2){let t=C();r(),u(" Maximum ",t.nameCtrl.getError("maxlength").requiredLength," characters. ")}}function re(e,n){if(e&1&&(i(0,"mat-option",10),a(1),y(2,"titlecase"),o()),e&2){let t=n.$implicit;m("value",t),r(),u(" ",x(2,2,t)," ")}}function ae(e,n){e&1&&(i(0,"mat-error"),a(1," Category is required. "),o())}function le(e,n){if(e&1&&(i(0,"mat-form-field",3)(1,"mat-label"),a(2,"Kategoria"),o(),i(3,"mat-select",8),c(4,re,3,4,"mat-option",9),o(),c(5,ae,2,0,"mat-error",5),o()),e&2){let t=C();r(4),m("ngForOf",t.categories),r(),m("ngIf",t.categoryCtrl.hasError("required"))}}var oe=class e{collectionService=d(A);dialogRef=d($);data=d(H);showCategory=!0;categories=Object.values(X);collectionForm=new T({name:new g("",[p.required,p.maxLength(100)]),category:new g("",p.required),isPublic:new g(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid)return;let{name:n,category:t,isPublic:l}=this.collectionForm.value,s={name:n,category:t,isPublic:l};this.collectionService.addCollection(s).subscribe(_=>{_&&this.dialogRef.close(_)})}onCancel(){this.dialogRef.close(void 0)}ngOnInit(){this.data?.collectionCategory&&(this.showCategory=!1,this.collectionForm.get("category")?.setValue(this.data.collectionCategory))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["app-add-collection-dialog"]],decls:15,vars:4,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","isPublic"],[3,"cancel","confirm"],["formControlName","category","required",""],["class","selected-option",3,"value",4,"ngFor","ngForOf"],[1,"selected-option",3,"value"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"h1",1),a(2,"Dodaj now\u0105 kolekcj\u0119"),o(),i(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),a(6,"Nazwa kolekcji"),o(),f(7,"input",4),c(8,ie,2,0,"mat-error",5)(9,ne,2,1,"mat-error",5),o(),c(10,le,6,2,"mat-form-field",3),i(11,"mat-slide-toggle",6),a(12,"Publiczna"),o()(),f(13,"hr"),i(14,"app-action-buttons",7),h("cancel",function(){return l.onCancel()})("confirm",function(){return l.onSubmit()}),o()()),t&2&&(r(3),m("formGroup",l.collectionForm),r(5),m("ngIf",l.nameCtrl.hasError("required")),r(),m("ngIf",l.nameCtrl.hasError("maxlength")),r(),v(l.showCategory?10:-1))},dependencies:[L,V,G,R,Z,Y,k,w,E,I,N,j,q,z,K,B,U,J,Q,S,F,te,ee,P,O,b,D,W],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};export{oe as a};
