import{a,s as p}from"./chunk-TBU2HHPG.js";import{_ as c,ca as m,ia as n,m as l,p as i}from"./chunk-7IX7LMTZ.js";var s=class o{apiService=n(a);collectionService=n(p);collectionItemEndpoint="collectionitem";searchItemEndpoint="mediasearch";addMediaItem(t){return this.apiService.post(this.collectionItemEndpoint+"/media",t).pipe(c(()=>{this.collectionService.increaseCollectionItemsCount(t.collectionId)}))}addCustomItem(t){return this.apiService.post(this.collectionItemEndpoint+"/custom",t).pipe(c(()=>{this.collectionService.increaseCollectionItemsCount(t.collectionId)}))}updateCustomItem(t){return this.apiService.patch(this.collectionItemEndpoint+"/custom",t)}updateCustomItemTitle(t,e){if(e=e.trim(),!t.item)return i(()=>new Error("An error occurred while updating custom item - item data is empty"));if(e===t.item.title)return l;if(!e||e.length>100)return i(()=>new Error("Maximum 100 characters. Not empty."));let r={id:t.id,title:e,description:t.item.description||""};return this.apiService.patch(this.collectionItemEndpoint+"/custom",r)}updateCustomItemDescription(t,e){if(e=e.trim(),!t.item)return i(()=>new Error("An error occurred while updating custom item - item data is empty"));if(e===t.item.description)return l;if(e&&e.length>2e3)return i(()=>new Error("Maximum 2000 characters."));let r={id:t.id,title:t.item.title,description:e};return this.apiService.patch(this.collectionItemEndpoint+"/custom",r)}updateItemRating(t){return this.apiService.patch(this.collectionItemEndpoint+"/rating",t)}addSeasonCollectionItem(t){return this.apiService.post(this.collectionItemEndpoint+"/media/season",t)}addEpisodeCollectionItem(t){return this.apiService.post(this.collectionItemEndpoint+"/media/episode",t)}updateItemToDoStatus(t){return this.apiService.patch(this.collectionItemEndpoint+"/todo",t)}deleteItem(t){return this.apiService.delete(this.collectionItemEndpoint,t)}searchMediaItems(t,e){return this.apiService.get(this.searchItemEndpoint,"",{CollectionId:t,SearchInput:e})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})};export{s as a};
