import{a,s as g}from"./chunk-TBU2HHPG.js";import{Ab as i,Kc as d,ca as s,ia as r}from"./chunk-7IX7LMTZ.js";var o=class t{collectionService=r(g);apiService=r(a);_trendingMediaItemsAmongFriends=i([]);_trendingMovies=i([]);_trendingGames=i([]);_trendingSeries=i([]);get trendingAmongFriends(){return this._trendingMediaItemsAmongFriends.asReadonly()}get trendingMovies(){return this._trendingMovies.asReadonly()}get trendingGames(){return this._trendingGames.asReadonly()}get trendingSeries(){return this._trendingSeries.asReadonly()}recentModifiedCollections=d(()=>this.collectionService.selfCollections().sort((e,n)=>n.lastModified.valueOf()-e.lastModified.valueOf()));fetchData(){this._trendingMediaItemsAmongFriends().length===0&&this.fetchTrendingAmongFriends(),this._trendingMovies().length===0&&this.fetchTrendingMovies(),this._trendingGames().length===0&&this.fetchTrendingGames(),this._trendingSeries().length===0&&this.fetchTrendingSeries()}resetState(){this._trendingMediaItemsAmongFriends.set([]),this._trendingMovies.set([]),this._trendingGames.set([]),this._trendingSeries.set([])}fetchTrendingAmongFriends(){this.apiService.get("trending/friends").subscribe(e=>{this._trendingMediaItemsAmongFriends.set(e??[])})}fetchTrendingMovies(){this.apiService.get("trending/movies").subscribe(e=>{this._trendingMovies.set(e??[])})}fetchTrendingSeries(){this.apiService.get("trending/series").subscribe(e=>{this._trendingSeries.set(e??[])})}fetchTrendingGames(){this.apiService.get("trending/games").subscribe(e=>{this._trendingGames.set(e??[])})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};export{o as a};
