import{a}from"./chunk-H5G4WTIK.js";import{a as o}from"./chunk-KUDPZNHH.js";import{Ib as i,bd as d,ga as s,ma as r}from"./chunk-RQXFCEDV.js";var g=class t{collectionService=r(a);mediaService=r(o);_trendingMediaItemsAmongFriends=i([]);_trendingMovies=i([]);_trendingGames=i([]);_trendingSeries=i([]);get trendingAmongFriends(){return this._trendingMediaItemsAmongFriends.asReadonly()}get trendingMovies(){return this._trendingMovies.asReadonly()}get trendingGames(){return this._trendingGames.asReadonly()}get trendingSeries(){return this._trendingSeries.asReadonly()}recentModifiedCollections=d(()=>this.collectionService.selfCollections().sort((e,n)=>n.lastModified.valueOf()-e.lastModified.valueOf()));fetchData(){this._trendingMediaItemsAmongFriends().length===0&&this.fetchTrendingAmongFriends(),this._trendingMovies().length===0&&this.fetchTrendingMovies(),this._trendingGames().length===0&&this.fetchTrendingGames(),this._trendingSeries().length===0&&this.fetchTrendingSeries()}resetState(){this._trendingMediaItemsAmongFriends.set([]),this._trendingMovies.set([]),this._trendingGames.set([]),this._trendingSeries.set([])}fetchTrendingAmongFriends(){this.mediaService.getTrendingAmongFriends().subscribe(e=>{this._trendingMediaItemsAmongFriends.set(e??[])})}fetchTrendingMovies(){this.mediaService.getTrendingMovies().subscribe(e=>{this._trendingMovies.set(e??[])})}fetchTrendingSeries(){this.mediaService.getTrendingSeries().subscribe(e=>{this._trendingSeries.set(e??[])})}fetchTrendingGames(){this.mediaService.getTrendingGames().subscribe(e=>{this._trendingGames.set(e??[])})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};export{g as a};
