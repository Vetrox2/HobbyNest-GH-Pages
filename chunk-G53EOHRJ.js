import{a as Y,b as Z,c as ee,d as te}from"./chunk-6EEI6ZG5.js";import{b as K,c as $,d as H,e as J,h as Q,i as U,k as W,l as X}from"./chunk-37VZEYXA.js";import{a as A}from"./chunk-QQTTX4SM.js";import{b as R,c as V,g as L,h as B}from"./chunk-ITOU54WJ.js";import{b as I,d as p,f as N,g as T,h as w,j as g,l as q,m as z,n as j,o as k,q as G}from"./chunk-LWZQ6JOT.js";import{t as E}from"./chunk-GB5FS4AS.js";import{ea as F,ha as S}from"./chunk-EKZ4N6IU.js";import{$ as O,aa as b,la as D,ya as P}from"./chunk-KBHRRCXS.js";import{Hc as y,Ib as c,Ic as x,Nb as m,Sb as v,Xb as i,Yb as o,Zb as f,hb as r,ia as d,jc as h,lc as C,rb as M,wc as a,yc as u}from"./chunk-GTZL7DLP.js";function ie(e,n){e&1&&(i(0,"mat-error"),a(1," Name is required. "),o())}function ne(e,n){if(e&1&&(i(0,"mat-error"),a(1),o()),e&2){let t=C();r(),u(" Maximum ",t.nameCtrl.getError("maxlength").requiredLength," characters. ")}}function re(e,n){if(e&1&&(i(0,"mat-option",10),a(1),y(2,"titlecase"),o()),e&2){let t=n.$implicit;m("value",t),r(),u(" ",x(2,2,t)," ")}}function ae(e,n){e&1&&(i(0,"mat-error"),a(1," Category is required. "),o())}function le(e,n){if(e&1&&(i(0,"mat-form-field",3)(1,"mat-label"),a(2,"Kategoria"),o(),i(3,"mat-select",8),c(4,re,3,4,"mat-option",9),o(),c(5,ae,2,0,"mat-error",5),o()),e&2){let t=C();r(4),m("ngForOf",t.categories),r(),m("ngIf",t.categoryCtrl.hasError("required"))}}var oe=class e{collectionService=d(A);dialogRef=d(H);data=d(J);showCategory=!0;categories=Object.values(E);collectionForm=new w({name:new g("",[p.required,p.maxLength(100)]),category:new g("",p.required),isPublic:new g(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid)return;let{name:n,category:t,isPublic:l}=this.collectionForm.value,s={name:n,category:t,isPublic:l};this.collectionService.addCollection(s).subscribe(_=>{_&&this.dialogRef.close(_)})}onCancel(){this.dialogRef.close(void 0)}ngOnInit(){this.data?.collectionCategory&&(this.showCategory=!1,this.collectionForm.get("category")?.setValue(this.data.collectionCategory))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["app-add-collection-dialog"]],decls:15,vars:4,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","isPublic"],[3,"cancel","confirm"],["formControlName","category","required",""],["class","selected-option",3,"value",4,"ngFor","ngForOf"],[1,"selected-option",3,"value"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"h1",1),a(2,"Dodaj now\u0105 kolekcj\u0119"),o(),i(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),a(6,"Nazwa kolekcji"),o(),f(7,"input",4),c(8,ie,2,0,"mat-error",5)(9,ne,2,1,"mat-error",5),o(),c(10,le,6,2,"mat-form-field",3),i(11,"mat-slide-toggle",6),a(12,"Publiczna"),o()(),f(13,"hr"),i(14,"app-action-buttons",7),h("cancel",function(){return l.onCancel()})("confirm",function(){return l.onSubmit()}),o()()),t&2&&(r(3),m("formGroup",l.collectionForm),r(5),m("ngIf",l.nameCtrl.hasError("required")),r(),m("ngIf",l.nameCtrl.hasError("maxlength")),r(),v(l.showCategory?10:-1))},dependencies:[B,L,R,V,Z,Y,G,q,I,N,T,k,z,j,$,K,W,Q,U,S,F,te,ee,P,O,b,D,X],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};export{oe as a};
