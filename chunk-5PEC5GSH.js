import{c as Ue,d as je,f as He}from"./chunk-DQ6GU6OC.js";import{a as $e}from"./chunk-Z4VHS7V4.js";import{a as V,b as qe}from"./chunk-RAPDYGU3.js";import{a as te,b as Re}from"./chunk-L764XZFE.js";import{a as Ne}from"./chunk-EDJLDPGU.js";import{a as G}from"./chunk-RNAZIO4K.js";import{a as q}from"./chunk-6RL7HYCK.js";import{a as E,b as $}from"./chunk-DHMQ3T23.js";import{a as ze,b as Ae}from"./chunk-N7J3XVY2.js";import{a as Ve}from"./chunk-SSN4DPJN.js";import{a as ke}from"./chunk-EQNPCEY6.js";import{a as Ee}from"./chunk-KIDEEJU4.js";import{b as De,c as U,d as w,e as j,f as ye,g as we,h as Se,i as H,l as Te}from"./chunk-EP6N3N6R.js";import{a as P,b as Q,e as y}from"./chunk-DVBFJ42S.js";import{a as O,b as S}from"./chunk-7BMWJ5CI.js";import{a as N,b as Fe,c as A,d as Le,f as ee,h as Be,j as R}from"./chunk-OHR2EENK.js";import{t as D,x as Ie}from"./chunk-WJTMIWFM.js";import{c as X,d as Y,f as B,h as Z}from"./chunk-HU7WFQWJ.js";import{pa as be}from"./chunk-YVXMD3G7.js";import{$b as l,Ac as r,B as re,Bc as g,Cc as z,Eb as k,Ga as se,Jc as ue,K as ce,Kc as xe,L,Lb as C,Lc as Pe,Mb as pe,Nb as _e,Nc as Oe,Ob as Ce,Qb as p,Vb as v,Yb as fe,Z as me,Zb as Me,_b as o,ac as s,ad as x,ba as de,bc as ve,cc as he,eb as ge,ec as u,fb as b,ha as d,ib as a,l as oe,mc as h,oc as m,p as ae,ra as f,sa as M,sb as I,z as le}from"./chunk-S4ZUGAIY.js";var Ye=(t,n)=>n.id,Ze=t=>({count:t});function et(t,n){if(t&1){let e=u();o(0,"mat-list-item",8),h("click",function(){let c=f(e).$implicit,F=m(2);return M(F.select(c))}),o(1,"div",9)(2,"h4",10),r(3),l(),o(4,"p",11),r(5),l()()()}if(t&2){let e=n.$implicit,i=m().$implicit;a(3),g(e.name),a(2),g(i("collection.itemsCount",ue(2,Ze,e.itemCount)))}}function tt(t,n){if(t&1){let e=u();ve(0),o(1,"h3",1),r(2),l(),o(3,"mat-dialog-content",2)(4,"div",3),h("click",function(){f(e);let c=m();return M(c.add())}),o(5,"mat-icon"),r(6,"add"),l(),o(7,"span"),r(8),l()(),s(9,"mat-divider"),o(10,"div",4)(11,"mat-list"),fe(12,et,6,4,"mat-list-item",5,Ye),l()(),s(14,"mat-divider"),l(),o(15,"mat-dialog-actions",6)(16,"button",7),r(17),l()(),he()}if(t&2){let e=n.$implicit,i=m();a(2),g(e("collection.chooseCollection.title")),a(6),g(e("collection.chooseCollection.addNewCollection")),a(4),Me(i.collections()),a(5),g(e("button.cancel"))}}var W=class t{collectionService=d(ke);dialog=d(w);data=d(U);dialogRef=d(De);category;collections=x(()=>this.collectionService.selfCollections().filter(n=>n.category===this.category));add(){var n=this.dialog.open($e,{width:"550px",data:{collectionCategory:this.category}});n.afterClosed().subscribe(e=>{e&&typeof e==typeof Ee&&this.select(e)})}select(n){this.dialogRef.close(n)}ngOnInit(){this.category=this.data.category}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-choose-collection-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[1,"dialog-content"],[1,"add-collection-header",3,"click"],[1,"list-container"],[1,"collection-item"],["align","end"],["mat-flat-button","","mat-dialog-close",""],[1,"collection-item",3,"click"],[1,"collection-info"],[1,"collection-name"],[1,"collection-count"]],template:function(e,i){e&1&&C(0,tt,18,3,"ng-container",0)},dependencies:[H,j,ye,Se,we,He,Ue,je,E,y,P,S,O,$,D],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-top:var(--spacing-small);margin-bottom:var(--spacing-small);font-size:var(--font-size-h3)!important;text-align:center}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small)}.add-collection-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-small);cursor:pointer;font-size:var(--font-size-base);color:var(--text-color);padding:var(--spacing-small);border-radius:var(--border-radius-small)}.add-collection-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:25px}.add-collection-header[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.list-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.collection-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:var(--border-radius-small);height:fit-content}.collection-item[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.collection-item[_ngcontent-%COMP%]   .collection-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--spacing-small) 0;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .collection-name[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-base);line-height:var(--font-size-base);font-weight:var(--font-weight-normal);color:var(--text-color)}.collection-item[_ngcontent-%COMP%]   .collection-count[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-small);line-height:var(--font-size-small);color:var(--text-color-grey)}mat-dialog-actions[_ngcontent-%COMP%]{padding:0 var(--spacing-large) var(--spacing-medium)}"]})};var T=class t{dialog=d(w);notificationService=d(Te);collectionItemsService=d(Ae);openChooseCollectionDialog(n){return this.dialog.open(W,{width:"400px",minHeight:"300px",maxHeight:"min(700px, 70vh)",data:{category:n}}).afterClosed()}openChooseCollectionDialogAndAddMediaItem(n,e){return this.openChooseCollectionDialog(n).pipe(le(i=>!!i),ce(i=>{let c={mediaItemApiId:e,collectionId:i.id,status:ze.todo,rating:0};return this.collectionItemsService.addMediaItem(c)}),me(i=>this.notificationService.showSuccess()),ae(()=>!0),re(i=>{let c=i instanceof Error?i.message:typeof i=="string"?i:void 0;return this.notificationService.showFailure(c),oe(!1)}))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var it=()=>[A,ee,Le,Fe,O,Q,P,import("./chunk-JNZ4E5M4.js").then(t=>t.ImgFallbackDirective),te,import("./chunk-3Y43O5W2.js").then(t=>t.NgStyle),E],ot=(t,n)=>({color:t,"margin-left":n});function at(t,n){if(t&1&&(o(0,"span"),r(1),l()),t&2){let e,i=m(3);a(),g((e=i.mediaItem())==null?null:e.genre)}}function lt(t,n){if(t&1&&(o(0,"span"),r(1),l()),t&2){let e,i=m(3);a(),g(i.formatLength((e=i.mediaItem())==null?null:e.length))}}function rt(t,n){if(t&1&&(o(0,"span",10)(1,"span"),r(2),l(),o(3,"mat-icon"),r(4,"star"),l()()),t&2){let e,i=m(3);a(2),g((e=i.mediaItem())==null||e.voteAverage==null?null:e.voteAverage.toPrecision(2))}}function ct(t,n){t&1&&s(0,"mat-divider",14)}function mt(t,n){if(t&1){let e=u();o(0,"div",4)(1,"div",5),s(2,"img",6),l(),o(3,"div",7)(4,"mat-card-header",8)(5,"section")(6,"mat-card-title"),r(7),o(8,"span",9),r(9),l()(),o(10,"mat-card-subtitle"),C(11,at,2,1,"span")(12,lt,2,1,"span")(13,rt,5,1,"span",10),l()(),o(14,"section",11)(15,"button",12),h("click",function(){f(e);let c=m(2);return M(c.openCollectionsDialog())}),o(16,"mat-icon"),r(17,"bookmark_add"),l()(),o(18,"a",13)(19,"mat-icon"),r(20,"link"),l()()()(),C(21,ct,1,0,"mat-divider",14),o(22,"mat-card-content",15)(23,"section",16),r(24),s(25,"p",17),l()()()()}if(t&2){let e,i,c,F,ie,K=m().$implicit,_=m();p("@fadeIn",void 0),a(2),p("src",(e=_.mediaItem())==null?null:e.imageUrl,b),a(5),z(" ",_.title()," "),a(),p("ngStyle",xe(15,ot,_.releaseDate().textColor,_.releaseDate().marginLeft)),a(),z(" ",_.releaseDate().label," "),a(2),v((i=_.mediaItem())!=null&&i.genre?11:-1),a(),v((c=_.mediaItem())!=null&&c.length?12:-1),a(),v(((F=_.mediaItem())==null?null:F.voteAverage)!==null?13:-1),a(2),p("matTooltip",K("media.mediaItemDetails.addToCollectionTooltip"))("disabled",_.isAddingToCollection()),a(3),p("href",(ie=_.mediaItem())==null?null:ie.sourceUrl,b)("matTooltip",K("media.mediaItemDetails.viewSourcePageTooltip")),a(3),v(_.responsive.isMobileSmall()?21:-1),a(3),z(" ",K("media.mediaItemDetails.overview")," "),a(),p("innerHTML",_.overview(),ge)}}function dt(t,n){t&1&&s(0,"div",22)}function st(t,n){t&1&&s(0,"mat-divider",14)}function gt(t,n){if(t&1){let e=u();o(0,"div",18)(1,"div",5),s(2,"img",19),l(),o(3,"div",7)(4,"mat-card-header",8)(5,"section",20),s(6,"div",21),C(7,dt,1,0,"div",22),s(8,"div",23),l(),o(9,"section",11)(10,"button",24),h("click",function(){f(e);let c=m(2);return M(c.openCollectionsDialog())}),o(11,"mat-icon"),r(12,"bookmark_add"),l()(),o(13,"a",13)(14,"mat-icon"),r(15,"link"),l()()()(),C(16,st,1,0,"mat-divider",14),o(17,"mat-card-content",15)(18,"section",16),r(19),s(20,"div",25),l()()()()}if(t&2){let e,i=m().$implicit,c=m();a(7),v(c.responsive.isMobileSmall()?7:-1),a(3),p("matTooltip",i("media.mediaItemDetails.addToCollectionTooltip")),a(3),p("href",(e=c.mediaItem())==null?null:e.sourceUrl,b)("matTooltip",i("media.mediaItemDetails.viewSourcePageTooltip")),a(3),v(c.responsive.isMobileSmall()?16:-1),a(3),z(" ",i("media.mediaItemDetails.overview")," ")}}function pt(t,n){if(t&1&&(o(0,"mat-card",2),C(1,mt,26,18)(2,gt,21,6),_e(3,1,it,null,2,null,null,0,pe),o(5,"button",3)(6,"mat-icon"),r(7,"close"),l()()()),t&2){let e=m();a(3),Ce(e.mediaItem())}}var J=class t{mediaService=d(Ve);chooseCollectionDialogService=d(T);translation=d(G);dateLabel=d(qe);responsive=d(q);tba=Ie("media.mediaItemDetails.tba");data=d(U);isValidDate=V.isValidDate;isAddingToCollection=k(!1);mediaItem=k(null);title=x(()=>this.translation.getFieldByLang(this.mediaItem()?.title,this.mediaItem()?.titlePl));overview=x(()=>this.translation.getFieldByLang(this.mediaItem()?.overview,this.mediaItem()?.overviewPl));releaseDate=x(()=>V.isValidDate(this.mediaItem()?.releaseDate)?this.dateLabel.getMediaTileDateLabel(this.mediaItem().releaseDate):{label:this.tba(),textColor:"var(--text-color-grey)",marginLeft:"0"});openCollectionsDialog(){let n=this.mediaItem();n&&(this.isAddingToCollection.set(!0),this.chooseCollectionDialogService.openChooseCollectionDialogAndAddMediaItem(n.category,n.itemApiId).pipe(L(()=>{this.isAddingToCollection.set(!1)})).subscribe())}formatLength(n){return this.mediaService.formatLength(n,this.mediaItem()?.category)}ngOnInit(){if(!this.data.apiId||!this.data.category)return;let n={mediaItemApiId:this.data.apiId,collectionCategory:this.data.category};this.mediaService.getMediaItemDetails(n).subscribe(e=>{this.mediaItem.set(e)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-media-item-details-dialog"]],decls:1,vars:0,consts:[[300],["class","container",4,"transloco"],[1,"container"],["mat-flat-button","","mat-dialog-close","",1,"close-button"],[1,"item-container"],[1,"image-container"],["appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year",3,"ngStyle"],[1,"vote-average"],[1,"actions"],["mat-button","",1,"action-button",3,"click","matTooltip","disabled"],["mat-button","","target","_blank",1,"action-button",3,"href","matTooltip"],[1,"divider"],[1,"content"],[1,"overview"],[3,"innerHTML"],[1,"item-container","placeholder"],[1,"item-image"],[1,"header-section"],[1,"placeholder-line","title"],[1,"placeholder-line","year"],[1,"placeholder-line","subtitle"],["mat-button","",1,"action-button",3,"click","matTooltip"],[1,"placeholder-line","overview"]],template:function(e,i){e&1&&C(0,pt,8,1,"mat-card",1)},dependencies:[H,j,R,N,A,ee,S,O,y,Q,P,D,Re,te,$,E],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:50px;width:50px;height:50px;background-color:transparent}.close-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--spacing-medium) var(--spacing-small);min-height:150px;width:100%}@media (min-width: 600px){.container[_ngcontent-%COMP%]{flex-direction:row;padding:var(--spacing-large)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:hidden;gap:var(--spacing-medium)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{flex-direction:row;padding-right:var(--spacing-large);margin-right:var(--spacing-small);gap:var(--spacing-small)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium);height:160px;aspect-ratio:2/3}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{height:300px}}@media (min-width: 960px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{height:450px}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-medium);overflow-y:hidden;width:100%}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{gap:var(--spacing-xl)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:0}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;font-size:var(--font-size-h2);font-weight:var(--font-weight-bold)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:block;text-align:left}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}@media (max-width: 599px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{margin-left:0!important}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-top:var(--spacing-xs);font-size:var(--font-size-h5);text-align:center}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{text-align:left}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:var(--golden-star-color)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:var(--font-size-h5);line-height:var(--font-size-h5);height:var(--font-size-h5);width:var(--font-size-h5)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--spacing-small);justify-content:center;margin-top:var(--spacing-medium)}@media (min-width: 600px){.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:left;margin-top:var(--spacing-large)}}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:50px;min-width:50px}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-h3);line-height:var(--font-size-h3);height:var(--font-size-h3);width:var(--font-size-h3)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 var(--spacing-medium)}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:0;overflow:auto}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{font-size:var(--font-size-h3);text-align:left}.container[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:var(--spacing-small);font-size:var(--font-size-h5)}.spacer[_ngcontent-%COMP%]{flex-grow:1}.placeholder[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{background-color:#ccc;animation:_ngcontent-%COMP%_pulse 2.5s infinite ease-in-out}.placeholder[_ngcontent-%COMP%]   .placeholder-line[_ngcontent-%COMP%]{height:14px;margin-top:var(--spacing-small);background-color:#ddd;border-radius:4px;animation:_ngcontent-%COMP%_pulse 2.5s infinite ease-in-out}@media (max-width: 599px){.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.title[_ngcontent-%COMP%]{width:80%;height:var(--font-size-h2);margin-top:0}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.year[_ngcontent-%COMP%]{width:60%;height:var(--font-size-h2)}.placeholder[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .placeholder-line.subtitle[_ngcontent-%COMP%]{width:60%;height:var(--font-size-h5)}.placeholder[_ngcontent-%COMP%]   .placeholder-line.overview[_ngcontent-%COMP%]{width:100%;height:200px}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}'],data:{animation:[X("fadeOut",[Z(":leave",[Y("500ms ease-out",B({opacity:0}))])]),X("fadeIn",[Z(":enter",[B({opacity:0}),Y("600ms ease-in",B({opacity:1}))])])]}})};function _t(t,n){if(t&1&&(o(0,"p"),r(1),Pe(2,"date"),l()),t&2){let e=m(2);a(),g(Oe(2,1,e.mediaItem().releaseDate,"yyyy"))}}function Ct(t,n){if(t&1&&(o(0,"p"),r(1),l()),t&2){let e=m().$implicit;a(),g(e("media.mediaItemTile.tba"))}}function ft(t,n){if(t&1){let e=u();o(0,"mat-card",1)(1,"div",2),h("click",function(){f(e);let c=m();return M(c.openDetails())}),o(2,"div"),s(3,"img",3),l(),o(4,"mat-card-content",4)(5,"h3",5),r(6),l(),o(7,"p"),r(8),l(),C(9,_t,3,4,"p")(10,Ct,2,1,"p"),l()(),o(11,"button",6),h("click",function(){f(e);let c=m();return M(c.openCollectionsDialog())}),o(12,"mat-icon"),r(13,"bookmark_add"),l()()()}if(t&2){let e,i=m();a(3),p("src",(e=i.mediaItem().imageUrl)!==null&&e!==void 0?e:"media-item-placeholder.png",b),a(2),p("title",i.title()),a(),g(i.title()),a(2),g(i.mediaItem().genre),a(),v(i.isValidDate(i.mediaItem().releaseDate)?9:10),a(2),p("disabled",i.isAddingToCollection())}}var Ke=class t{mediaItem=se.required();dialog=d(w);chooseCollectionDialogService=d(T);translation=d(G);responsive=d(q);isValidDate=V.isValidDate;isAddingToCollection=k(!1);title=x(()=>this.translation.getFieldByLang(this.mediaItem().title,this.mediaItem().titlePl));openCollectionsDialog(){this.isAddingToCollection.set(!0),this.chooseCollectionDialogService.openChooseCollectionDialogAndAddMediaItem(this.mediaItem().category,this.mediaItem().itemApiId).pipe(L(()=>{this.isAddingToCollection.set(!1)})).subscribe()}openDetails(){this.dialog.open(J,{data:{apiId:this.mediaItem().itemApiId,category:this.mediaItem().category},width:this.responsive.isMobile()?"calc(100vw - 32px)":"1000px",maxWidth:"calc(100vw - 32px)",height:this.responsive.isMobile()?"":"498px",maxHeight:"calc(100vh - 32px)"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-media-item-tile"]],inputs:{mediaItem:[1,"mediaItem"]},decls:1,vars:0,consts:[["class","tile",4,"transloco"],[1,"tile"],[3,"click"],["mat-card-image","","appImgFallback","media-item-placeholder.png","alt","Collection image","draggable","false",3,"src"],[1,"tile-content"],[3,"title"],["mat-flat-button","",1,"add-btn",3,"click","disabled"]],template:function(e,i){e&1&&C(0,ft,14,6,"mat-card",0)},dependencies:[R,N,A,Be,be,y,P,S,O,Ne,D],styles:["[_ngcontent-%COMP%]:root{--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.link[_ngcontent-%COMP%]{text-decoration:none}.tile[_ngcontent-%COMP%]{width:inherit;min-width:140px;max-width:300px;border:3px solid var(--background-color-steel);border-radius:var(--border-radius-medium);cursor:pointer;transition:transform .2s}@media (min-width: 600px){.tile[_ngcontent-%COMP%]{min-width:200px}}.tile[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.tile[_ngcontent-%COMP%]   img[mat-card-image][_ngcontent-%COMP%]{width:100%;height:100%;aspect-ratio:2/3;object-fit:cover;border-top-left-radius:var(--border-radius-medium);border-top-right-radius:var(--border-radius-medium)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]{margin-top:var(--spacing-small)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-h4);color:var(--text-color);margin:var(--spacing-small) 0 var(--spacing-xs)}.tile[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:var(--font-size-additional);color:var(--text-color-grey);margin:0}.add-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:64px;height:64px;background-color:var(--background-color-dark)!important;border-radius:0 var(--border-radius-medium) 0 var(--border-radius-medium);opacity:.6;transition:opacity .3s ease}.add-btn[_ngcontent-%COMP%]:hover{opacity:.9}.add-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;margin:0}"]})};export{Ke as a};
