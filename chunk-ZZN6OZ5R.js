import{a as lt,b as ct}from"./chunk-MSR5DXAJ.js";import{a as rt,b as at}from"./chunk-BFBFG6D7.js";import{b as X,c as Y,d as Z,e as tt,h as et,i as ot,k as nt,l as it}from"./chunk-D5SWGX2S.js";import{a as V}from"./chunk-5TLHWZXQ.js";import{b as K,c as Q,g as U,h as W}from"./chunk-MZE6JQV3.js";import{b as $,d as C,f as z,g as G,h as L,j as _,l as j,m as k,n as B,o as H,q as J}from"./chunk-RMJXZBAS.js";import{s as R}from"./chunk-4JQI7GWC.js";import{s as w,sa as N,va as q}from"./chunk-R5CXRUDK.js";import{aa as F,ya as T}from"./chunk-W36LFFSO.js";import{$b as D,Cc as c,Dc as g,Ec as s,Lc as P,Ob as p,Tb as m,Yb as h,Zb as b,ac as I,bc as a,cc as i,dc as v,ec as O,fc as S,hc as E,ma as f,nb as n,pc as A,rc as l,wa as u,xa as x,xb as y}from"./chunk-YUWHBJVV.js";var dt=e=>({value:e});function pt(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit;n(),s(" ",t("error.nameRequiredError")," ")}}function gt(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit,o=l();n(),s(" ",t("error.lengthError",P(1,dt,o.nameCtrl.getError("maxlength").requiredLength))," ")}}function st(e,r){if(e&1&&(a(0,"mat-option",10),c(1),i()),e&2){let t=r.$implicit,o=l(2).$implicit;m("value",t),n(),s(" ",o("collection.category."+t)," ")}}function ft(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l(2).$implicit;n(),s(" ",t("error.categoryRequiredError")," ")}}function Ct(e,r){if(e&1&&(a(0,"mat-form-field",4)(1,"mat-label"),c(2),i(),a(3,"mat-select",9),D(4,st,2,2,"mat-option",10,b),i(),p(6,ft,2,1,"mat-error",6),i()),e&2){let t=l().$implicit,o=l();n(2),g(t("collection.addCollection.category")),n(2),I(o.categories),n(2),m("ngIf",o.categoryCtrl.hasError("required"))}}function _t(e,r){if(e&1){let t=E();O(0),a(1,"div",1)(2,"h1",2),c(3),i(),a(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),c(7),i(),v(8,"input",5),p(9,pt,2,1,"mat-error",6)(10,gt,2,3,"mat-error",6),i(),p(11,Ct,7,2,"mat-form-field",4),a(12,"mat-slide-toggle",7),c(13),i()(),v(14,"hr"),a(15,"app-action-buttons",8),A("cancel",function(){u(t);let d=l();return x(d.onCancel())})("confirm",function(){u(t);let d=l();return x(d.onSubmit())}),i()(),S()}if(e&2){let t=r.$implicit,o=l();n(3),g(t("collection.addCollection.title")),n(),m("formGroup",o.collectionForm),n(3),g(t("collection.addCollection.name")),n(2),m("ngIf",o.nameCtrl.hasError("required")),n(),m("ngIf",o.nameCtrl.hasError("maxlength")),n(),h(o.showCategory?11:-1),n(2),g(t("collection.addCollection.public"))}}var mt=class e{collectionService=f(V);dialogRef=f(Z);data=f(tt);showCategory=!0;categories=Object.values(R);collectionForm=new L({name:new _("",[C.required,C.maxLength(100)]),category:new _("",C.required),isPublic:new _(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid)return;let{name:r,category:t,isPublic:o}=this.collectionForm.value,d={name:r,category:t,isPublic:o};this.collectionService.addCollection(d).subscribe(M=>{M&&this.dialogRef.close(M)})}onCancel(){this.dialogRef.close(void 0)}ngOnInit(){this.data?.collectionCategory&&(this.showCategory=!1,this.collectionForm.get("category")?.setValue(this.data.collectionCategory))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=y({type:e,selectors:[["app-add-collection-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","isPublic"],[3,"cancel","confirm"],["formControlName","category","required",""],[1,"selected-option",3,"value"]],template:function(t,o){t&1&&p(0,_t,16,7,"ng-container",0)},dependencies:[W,U,K,Q,ct,lt,J,j,$,z,G,H,k,B,Y,X,nt,et,ot,q,N,at,rt,T,F,it,w],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};export{mt as a};
