import{a as wn}from"./chunk-CCVDDT3H.js";import{a as Ze,d as we}from"./chunk-GMSS7NTS.js";import{a as Cn,b as hn,d as bn}from"./chunk-BKNILTC7.js";import{b as fn,c as xn,d as Mn}from"./chunk-7G62XUVV.js";import{b as Me,c as K}from"./chunk-R54LHX7Q.js";import"./chunk-QQTBYX4Q.js";import{a as Ye}from"./chunk-J7XLSKBM.js";import{a as Oe,b as Pe,c as ke,d as te,e as Ie}from"./chunk-NZOIZJP2.js";import{f as Yt}from"./chunk-3OMDW2B2.js";import{a as ge,b as _e}from"./chunk-6R7VETPK.js";import{a as yn,b as ye}from"./chunk-MSR5DXAJ.js";import{a as ne}from"./chunk-QLBHTXLM.js";import{a as Xe,b as Ke}from"./chunk-5OYVGCDM.js";import{b as Ge}from"./chunk-BFBFG6D7.js";import{a as un,b as qe,c as ve,d as vn,e as On,f as Pn,h as kn,i as Qe,k as $e,l as In}from"./chunk-D5SWGX2S.js";import{a as on}from"./chunk-GT5FIGVM.js";import"./chunk-5TLHWZXQ.js";import{a as j}from"./chunk-6YTSYAD3.js";import{b as je,c as _n,g as He,h as be}from"./chunk-MZE6JQV3.js";import{a as an,b as rn,c as ln,d as Be,f as mn,g as Le,h as sn,j as ut,l as Ne,m as dn,n as pn,o as gn,p as ee,q as Ue}from"./chunk-RMJXZBAS.js";import{a as F,b as z}from"./chunk-3354VIHL.js";import{a as Y,b as Z,c as W,d as pe,e as Ae,f as J,i as U}from"./chunk-BQHFBY6P.js";import{a as ze}from"./chunk-PL5QVONC.js";import{b as xe,e as de,f as V,r as nn,s as cn}from"./chunk-4JQI7GWC.js";import{G as Zt,da as Wt,ga as _t,ja as Jt,ma as en,s as w,va as Fe,xa as tn}from"./chunk-R5CXRUDK.js";import"./chunk-HU7WFQWJ.js";import{$ as Qt,Y as qt,aa as $t,ca as Gt,da as Xt,ea as Kt,ha as se,pa as X,ya as Ve}from"./chunk-W36LFFSO.js";import{$ as st,$b as ie,Bc as re,Cc as s,Da as It,Dc as M,Ec as O,F as ht,Fc as Ce,Gc as At,H as mt,Ha as k,Hc as Bt,Ia as yt,Ic as Lt,J as ft,Jb as B,Jc as Nt,Ka as b,Kc as Re,La as wt,Lc as N,Mc as le,Nb as Et,Nc as $,Ob as u,Q as xt,Qc as G,Ra as St,Sb as pt,Tb as m,Vb as ae,Wb as Dt,Yb as f,Yc as Ut,Zb as Rt,aa as dt,ac as oe,ad as me,bc as c,bd as jt,cc as r,cd as P,dc as h,ec as I,ed as Ht,fa as Mt,fc as y,ha as bt,hc as x,ib as ce,ic as Vt,ja as vt,jb as T,l as lt,ma as C,nb as a,pc as _,r as De,rc as l,sc as Ft,tc as zt,uc as gt,va as Ot,wa as p,wc as E,xa as g,xb as v,xc as D,ya as Pt,yb as Tt,yc as R,za as kt}from"./chunk-YUWHBJVV.js";var An=["input"],Bn=["label"],Ln=["*"],Nn=new vt("mat-checkbox-default-options",{providedIn:"root",factory:Tn});function Tn(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var A=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(A||{}),Un={provide:an,useExisting:Mt(()=>En),multi:!0},Ct=class{source;checked},Sn=Tn(),En=(()=>{class n{_elementRef=C(wt);_changeDetectorRef=C(Ut);_ngZone=C(yt);_animationMode=C(St,{optional:!0});_options=C(Nn,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let i=new Ct;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new k;indeterminateChange=new k;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=A.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){C(Zt).load(Jt);let e=C(new It("tabindex"),{optional:!0});this._options=this._options||Sn,this.color=this._options.color||Sn.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=C(Wt).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let i=e!=this._indeterminate;this._indeterminate=e,i&&(this._indeterminate?this._transitionCheckState(A.Indeterminate):this._transitionCheckState(this.checked?A.Checked:A.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,t=this._getAnimationTargetElement();if(!(i===e||!t)&&(this._currentAnimationClass&&t.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){t.classList.add(this._currentAnimationClass);let d=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{t.classList.remove(d)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?A.Checked:A.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationMode==="NoopAnimations")return"";switch(e){case A.Init:if(i===A.Checked)return this._animationClasses.uncheckedToChecked;if(i==A.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case A.Unchecked:return i===A.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case A.Checked:return i===A.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case A.Indeterminate:return i===A.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=v({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,t){if(i&1&&(E(An,5),E(Bn,5)),i&2){let d;D(d=R())&&(t._inputElement=d.first),D(d=R())&&(t._labelElement=d.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,t){i&2&&(Vt("id",t.id),pt("tabindex",null)("aria-label",null)("aria-labelledby",null),Dt(t.color?"mat-"+t.color:"mat-accent"),ae("_mat-animation-noopable",t._animationMode==="NoopAnimations")("mdc-checkbox--disabled",t.disabled)("mat-mdc-checkbox-disabled",t.disabled)("mat-mdc-checkbox-checked",t.checked)("mat-mdc-checkbox-disabled-interactive",t.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",me],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",me],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",me],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:jt(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",me],checked:[2,"checked","checked",me],disabled:[2,"disabled","disabled",me],indeterminate:[2,"indeterminate","indeterminate",me]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Nt([Un,{provide:ln,useExisting:n,multi:!0}]),Et,Ot],ngContentSelectors:Ln,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,t){if(i&1){let d=x();Ft(),c(0,"div",3),_("click",function(fe){return p(d),g(t._preventBubblingFromLabel(fe))}),c(1,"div",4,0)(3,"div",5),_("click",function(){return p(d),g(t._onTouchTargetClick())}),r(),c(4,"input",6,1),_("blur",function(){return p(d),g(t._onBlur())})("click",function(){return p(d),g(t._onInputClick())})("change",function(fe){return p(d),g(t._onInteractionEvent(fe))}),r(),h(6,"div",7),c(7,"div",8),Pt(),c(8,"svg",9),h(9,"path",10),r(),kt(),h(10,"div",11),r(),h(11,"div",12),r(),c(12,"label",13,2),zt(14),r()()}if(i&2){let d=re(2);m("labelPosition",t.labelPosition),a(4),ae("mdc-checkbox--selected",t.checked),m("checked",t.checked)("indeterminate",t.indeterminate)("disabled",t.disabled&&!t.disabledInteractive)("id",t.inputId)("required",t.required)("tabIndex",t.disabled&&!t.disabledInteractive?-1:t.tabIndex),pt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby)("aria-checked",t.indeterminate?"mixed":null)("aria-controls",t.ariaControls)("aria-disabled",t.disabled&&t.disabledInteractive?!0:null)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("name",t.name)("value",t.value),a(7),m("matRippleTrigger",d)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),a(),m("for",t.inputId)}},dependencies:[en,tn],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();var q=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Tt({type:n});static \u0275inj=bt({imports:[En,_t,_t]})}return n})();var qn=()=>[];function Qn(n,o){if(n&1){let e=x();c(0,"span",5),_("click",function(){let t=p(e).index,d=l(2);return g(d.rate(t+1))})("mouseover",function(){let t=p(e).index,d=l(2);return g(d.hoverRate(t+1))})("mouseleave",function(){p(e);let t=l(2);return g(t.hoverRate(0))}),s(1," \u2605 "),r()}if(n&2){let e=o.index,i=l(2);ae("interactive",i.canBeModified())("filled",e<i.displayRating())}}function $n(n,o){if(n&1){let e=x();c(0,"mat-icon",6),_("click",function(){p(e);let t=l(2);return g(t.resetRating())}),s(1," clear "),r()}if(n&2){let e=l().$implicit;m("matTooltip",e("collection.starRating.resetRatingTooltip"))}}function Gn(n,o){if(n&1&&(I(0),c(1,"div",1)(2,"div",2),u(3,Qn,2,4,"span",3),r(),c(4,"p"),s(5),u(6,$n,2,1,"mat-icon",4),r()(),y()),n&2){let e=o.$implicit,i=l();a(),ae("small",i.size()==="small"),a(2),m("ngForOf",Re(6,qn).constructor(10)),a(2),Ce(" ",e("collection.starRating.rating"),": ",i.displayRating()," "),a(),f(i.canBeModified()&&i.rating()>0?6:-1)}}var S=class n{initRating=b(0);canBeModified=b(!0);size=b("large");ratingChanged=new k;rating=B(0);displayRating=B(0);constructor(){Ht(()=>{this.rating.set(this.initRating()),this.displayRating.set(this.initRating())})}rate(o){this.canBeModified&&(this.setRating(o),this.ratingChanged.emit(this.rating()))}hoverRate(o){this.canBeModified&&this.displayRating.set(o||this.rating())}setRating(o=this.rating()){this.rating.set(o),this.displayRating.set(this.rating())}resetRating(){this.rate(0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-star-rating"]],inputs:{initRating:[1,"initRating"],canBeModified:[1,"canBeModified"],size:[1,"size"]},outputs:{ratingChanged:"ratingChanged"},decls:1,vars:0,consts:[[4,"transloco"],[1,"container"],[1,"star-rating"],[3,"interactive","filled","click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"reset-icon",3,"matTooltip"],[3,"click","mouseover","mouseleave"],[1,"reset-icon",3,"click","matTooltip"]],template:function(e,i){e&1&&u(0,Gn,7,7,"ng-container",0)},dependencies:[Ve,Qt,z,F,Ke,Xe,w],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;width:max-content}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:flex;cursor:default;transition:color .2s ease}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]:hover   .interactive.filled[_ngcontent-%COMP%]{color:var(--golden-star-color-hover)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:hover{transform:scale(1.25)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:active{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem;color:var(--text-color-grey);transition:color .2s}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span.filled[_ngcontent-%COMP%]{color:var(--golden-star-color)}.container.small[_ngcontent-%COMP%]{flex-direction:row;gap:var(--spacing-medium)}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.4rem}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]{transition:transform .1s}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:active{transform:scale(1.05)}.container.small[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{font-size:var(--font-size-small)}.container.small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-additional);margin:var(--spacing-xs) 0 0}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-small) 0;color:var(--text-color-additional);display:flex;align-items:center;gap:var(--spacing-small);justify-content:center}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--font-size-base);border-radius:50%;color:var(--text-color-grey);display:flex;align-items:center;justify-content:center;transition:all .2s ease-in-out}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]:hover{background-color:var(--light-color);transform:scale(1.1);color:var(--danger-color-hover)}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})};var Xn=(n,o)=>({color:n,"margin-left":o});function Kn(n,o){if(n&1&&(c(0,"a",5),h(1,"img",6),r()),n&2){let e=l(2);m("href",e.collectionItem().item.sourceUrl,T),a(),m("src",e.collectionItem().item.imageUrl,T)}}function Yn(n,o){if(n&1&&h(0,"img",6),n&2){let e=l(2);m("src",e.collectionItem().item.imageUrl,T)}}function Zn(n,o){if(n&1&&(c(0,"span",9),s(1),r()),n&2){let e,i,t=l(2);m("ngStyle",le(2,Xn,(e=t.releaseDate())==null?null:e.textColor,(e=t.releaseDate())==null?null:e.marginLeft)),a(),O(" ",(i=t.releaseDate())==null?null:i.label," ")}}function Wn(n,o){if(n&1&&(c(0,"span"),s(1),r()),n&2){let e=l(2);a(),M(e.collectionItem().item.genre)}}function Jn(n,o){if(n&1&&(c(0,"span"),s(1),r()),n&2){let e=l(2);a(),M(e.formatLength(e.collectionItem().item.length))}}function ei(n,o){if(n&1&&(c(0,"span",10)(1,"span"),s(2),r(),c(3,"mat-icon"),s(4,"star"),r()()),n&2){let e,i=l(2);a(2),M((e=i.collectionItem().item.voteAverage)==null?null:e.toPrecision(2))}}function ti(n,o){if(n&1){let e=x();c(0,"div",14)(1,"button",17)(2,"mat-icon"),s(3,"more_vert"),r()(),c(4,"mat-menu",null,0)(6,"button",18),_("click",function(){p(e);let t=l(2);return g(t.onToDoStatusChange())}),c(7,"mat-icon"),s(8),r(),c(9,"span"),s(10),r()(),c(11,"button",18),_("click",function(){p(e);let t=l(2);return g(t.onDeleteItem())}),c(12,"mat-icon"),s(13,"delete"),r(),c(14,"span"),s(15),r()()()()}if(n&2){let e=re(5),i=l().$implicit,t=l();a(),m("matMenuTriggerFor",e),a(7),M(t.collectionItem().toDo?"check_circle":"unpublished"),a(2),M(t.collectionItem().toDo?i("button.done"):i("collection.toDoLabel."+t.category())),a(5),M(i("button.delete"))}}function ni(n,o){if(n&1){let e=x();I(0),c(1,"mat-card",2)(2,"div",3)(3,"div",4),u(4,Kn,2,2,"a",5)(5,Yn,1,1,"img",6),r(),c(6,"div",7)(7,"mat-card-header",8)(8,"div")(9,"mat-card-title"),s(10),u(11,Zn,2,5,"span",9),r(),c(12,"mat-card-subtitle"),u(13,Wn,2,1,"span")(14,Jn,2,1,"span")(15,ei,5,1,"span",10),r()(),c(16,"app-star-rating",11),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()(),c(17,"mat-card-content"),h(18,"p",12),r()()(),c(19,"div",13),u(20,ti,16,4,"div",14),h(21,"div",15),c(22,"p",16),s(23),$(24,"date"),r()()(),y()}if(n&2){let e,i=l();a(4),f(i.collectionItem().item.sourceUrl?4:5),a(6),O("",i.title()," "),a(),f(i.releaseDate()?11:-1),a(2),f(i.collectionItem().item.genre?13:-1),a(),f(i.collectionItem().item.length?14:-1),a(),f(i.collectionItem().item.voteAverage!==null?15:-1),a(),m("initRating",(e=i.collectionItem().rating)!==null&&e!==void 0?e:0)("canBeModified",i.isOwner()),a(2),m("innerHTML",i.overview(),ce),a(2),f(i.isOwner()?20:-1),a(3),O(" ",G(24,11,i.collectionItem().addedAt,"longDate",void 0,i.translationHelper.activeLang())," ")}}var We=class n{ratingComponent;deleteItem=new k;changeToDoStatus=new k;changeRating=new k;rawCollectionItem=b.required();category=b.required();isOwner=b.required();mediaService=C(ze);translationHelper=C(ne);dateLabel=C(_e);collectionItem=P(()=>{let o=this.rawCollectionItem();if(o.itemType!=="media")throw new Error(`Expected Media item, got ${o.itemType}`);return o});title=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.title,this.collectionItem().item.titlePl));overview=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.overview,this.collectionItem().item.overviewPl));releaseDate=P(()=>ge.isValidDate(this.collectionItem().item.releaseDate)?this.dateLabel.getMediaTileDateLabel(this.collectionItem().item.releaseDate):null);ItemType=Me;onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}formatLength(o){return this.mediaService.formatLength(o,this.category())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-media-item"]],viewQuery:function(e,i){if(e&1&&E(S,5),e&2){let t;D(t=R())&&(i.ratingComponent=t.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],category:[1,"category"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["target","_blank","rel","noopener",1,"image-url",3,"href"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year",3,"ngStyle"],[1,"vote-average"],["size","small",3,"ratingChanged","initRating","canBeModified"],[3,"innerHTML"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,i){e&1&&u(0,ni,25,16,"ng-container",1)},dependencies:[U,Y,W,J,pe,Z,q,z,F,X,S,te,Pe,Oe,ke,V,de,ee,j,w,se],styles:['@charset "UTF-8";.collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:18px;line-height:18px;height:18px;width:18px}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}']})};var Se=class n{showButton=b(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-edit-text-button"]],inputs:{showButton:[1,"showButton"]},decls:3,vars:1,consts:[["mat-icon-button","",1,"title-edit-button",3,"ngClass"]],template:function(e,i){e&1&&(c(0,"button",0)(1,"mat-icon"),s(2,"edit"),r()()),e&2&&m("ngClass",i.showButton()?"visible-button":"hidden-button")},dependencies:[qt,z,F,V,de],styles:[".hidden-button[_ngcontent-%COMP%]{visibility:hidden}.visible-button[_ngcontent-%COMP%]{visibility:visible}"]})};function ii(n,o){if(n&1){let e=x();c(0,"app-edit-text-button",18),_("click",function(){p(e);let t=l(2);return g(t.startEditingTitle())}),r()}if(n&2){let e=l(2);m("showButton",e.shouldShowEditTitleButton())}}function oi(n,o){if(n&1){let e=x();c(0,"app-edit-text-button",19),_("click",function(){p(e);let t=l(2);return g(t.startEditingDescription())}),r()}if(n&2){let e=l(2);m("showButton",e.shouldShowEditDescriptionButton())}}function ci(n,o){if(n&1){let e=x();c(0,"div",15)(1,"button",20)(2,"mat-icon"),s(3,"more_vert"),r()(),c(4,"mat-menu",null,0)(6,"button",21),_("click",function(){p(e);let t=l(2);return g(t.onToDoStatusChange())}),c(7,"mat-icon"),s(8),r(),c(9,"span"),s(10),r()(),c(11,"button",21),_("click",function(){p(e);let t=l(2);return g(t.onDeleteItem())}),c(12,"mat-icon"),s(13,"delete"),r(),c(14,"span"),s(15),r()()()()}if(n&2){let e=re(5),i=l().$implicit,t=l();a(),m("matMenuTriggerFor",e),a(7),M(t.collectionItem().toDo?"check_circle":"unpublished"),a(2),M(t.collectionItem().toDo?i("button.done"):i("collection.toDoLabel.custom")),a(5),M(i("button.delete"))}}function ai(n,o){if(n&1){let e=x();I(0),c(1,"mat-card",2)(2,"div",3)(3,"div",4)(4,"mat-card-header",5)(5,"div",6),_("mouseenter",function(){p(e);let t=l();return g(t.showEditTitleButton.set(!0))})("mouseleave",function(){p(e);let t=l();return g(t.showEditTitleButton.set(!1))}),c(6,"mat-card-title")(7,"app-editable-text-field",7),_("editEnd",function(t){p(e);let d=l();return g(d.confirmTitleEdit(t))}),r(),u(8,ii,1,1,"app-edit-text-button",8),r()(),c(9,"app-star-rating",9),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()(),c(10,"mat-card-content",10),_("mouseenter",function(){p(e);let t=l();return g(t.showEditDescriptionButton.set(!0))})("mouseleave",function(){p(e);let t=l();return g(t.showEditDescriptionButton.set(!1))}),c(11,"div",11)(12,"p"),s(13),r(),u(14,oi,1,1,"app-edit-text-button",12),r(),c(15,"app-editable-text-field",13),_("editEnd",function(t){p(e);let d=l();return g(d.confirmDescriptionEdit(t))}),r()()()(),c(16,"div",14),u(17,ci,16,4,"div",15),h(18,"div",16),c(19,"p",17),s(20),$(21,"date"),r()()(),y()}if(n&2){let e,i=o.$implicit,t=l();a(7),ae("is-editing",t.isEditingTitle()),m("text",t.collectionItem().item.title)("isEditing",t.isEditingTitle()),a(),f(t.isOwner()?8:-1),a(),m("initRating",(e=t.collectionItem().rating)!==null&&e!==void 0?e:0)("canBeModified",t.isOwner()),a(4),M(i("collection.customItem.description")),a(),f(t.isOwner()?14:-1),a(),m("text",t.collectionItem().item.description)("isEditing",t.isEditingDescription())("isHeader",!1),a(2),f(t.isOwner()?17:-1),a(3),O(" ",G(21,14,t.collectionItem().addedAt,"longDate",void 0,t.translationHelper.activeLang())," ")}}var et=class n{ratingComponent;deleteItem=new k;changeToDoStatus=new k;changeRating=new k;rawCollectionItem=b.required();isOwner=b.required();collectionStateService=C(K);translationHelper=C(ne);collectionItem=P(()=>{let o=this.rawCollectionItem();if(o.itemType!=="custom")throw new Error(`Expected Custom item, got ${o.itemType}`);return o});isEditingTitle=B(!1);isEditingDescription=B(!1);showEditTitleButton=B(!1);shouldShowEditTitleButton=P(()=>this.showEditTitleButton()&&!this.isEditingTitle());showEditDescriptionButton=B(!1);shouldShowEditDescriptionButton=P(()=>this.showEditDescriptionButton()&&!this.isEditingDescription());onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}startEditingTitle(){this.isEditingTitle.set(!0)}confirmTitleEdit(o){this.collectionStateService.updateCustomItemTitle(this.collectionItem(),o),this.isEditingTitle.set(!1)}startEditingDescription(){this.isEditingDescription.set(!0)}confirmDescriptionEdit(o){this.collectionStateService.updateCustomItemDescription(this.collectionItem(),o),this.isEditingDescription.set(!1)}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-custom-item"]],viewQuery:function(e,i){if(e&1&&E(S,5),e&2){let t;D(t=R())&&(i.ratingComponent=t.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],[1,"collection-item"],[1,"item-container"],[1,"item-details"],[1,"item-header"],[1,"custom-item-title-container",3,"mouseenter","mouseleave"],[3,"editEnd","text","isEditing"],[1,"title-edit-button",3,"showButton"],["size","small",3,"ratingChanged","initRating","canBeModified"],[1,"custom-description-containter",3,"mouseenter","mouseleave"],[1,"description-header-containter"],[1,"description-edit-button",3,"showButton"],[3,"editEnd","text","isEditing","isHeader"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],[1,"title-edit-button",3,"click","showButton"],[1,"description-edit-button",3,"click","showButton"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,i){e&1&&u(0,ai,22,19,"ng-container",1)},dependencies:[U,Y,W,J,Z,q,z,F,X,S,te,Pe,Oe,ke,V,de,ee,Ye,Se,w],styles:['@charset "UTF-8";.collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:18px;line-height:18px;height:18px;width:18px}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}']})};var ri=(n,o)=>({color:n,"margin-left":o}),li=n=>({count:n});function mi(n,o){if(n&1&&(c(0,"span",8),s(1),r()),n&2){let e,i,t=l(2);m("ngStyle",le(2,ri,(e=t.releaseDate())==null?null:e.textColor,(e=t.releaseDate())==null?null:e.marginLeft)),a(),O(" ",(i=t.releaseDate())==null?null:i.label," ")}}function si(n,o){if(n&1&&(c(0,"span"),s(1),r()),n&2){let e=l().$implicit,i=l();a(),M(e("collection.minutesCount",N(1,li,i.collectionItem().item.length)))}}function di(n,o){if(n&1&&(c(0,"span",9)(1,"span"),s(2),r(),c(3,"mat-icon"),s(4,"star"),r()()),n&2){let e,i=l(2);a(2),M((e=i.collectionItem().item.voteAverage)==null?null:e.toPrecision(2))}}function pi(n,o){if(n&1&&(c(0,"p",14),s(1),$(2,"date"),r()),n&2){let e=l(2);a(),O(" ",G(2,1,e.collectionItem().addedAt,"longDate",void 0,e.translationHelper.activeLang())," ")}}function gi(n,o){if(n&1){let e=x();I(0),c(1,"mat-card",1)(2,"div",2)(3,"div",3),h(4,"img",4),r(),c(5,"div",5)(6,"mat-card-header",6)(7,"div")(8,"mat-card-title")(9,"span",7),s(10),r(),s(11),u(12,mi,2,5,"span",8),r(),c(13,"mat-card-subtitle"),u(14,si,2,3,"span")(15,di,5,1,"span",9),r()(),c(16,"app-star-rating",10),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()(),c(17,"mat-card-content"),h(18,"p",11),r(),h(19,"div",12),r()(),c(20,"div",13),h(21,"div",12),u(22,pi,3,6,"p",14),r()(),y()}if(n&2){let e,i=l();a(4),m("src",i.collectionItem().item.imageUrl,T),a(6),Ce(" s",i.seasonNumber(),"e",i.collectionItem().item.episodeNumber," "),a(),O(" ",i.episodeName()," "),a(),f(i.releaseDate()?12:-1),a(2),f(i.collectionItem().item.length?14:-1),a(),f(i.collectionItem().item.voteAverage!==null?15:-1),a(),m("initRating",(e=i.collectionItem().rating)!==null&&e!==void 0?e:0)("canBeModified",i.isOwner()),a(2),m("innerHTML",i.episodeOverview(),ce),a(4),f(i.collectionItem().id>0?22:-1)}}var tt=class n{ratingChange=new k;ratingComponent;collectionItem=b.required();seasonNumber=b.required();isOwner=b.required();translationHelper=C(ne);dateLabel=C(_e);episodeName=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.name,this.collectionItem().item.namePl));episodeOverview=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.overview,this.collectionItem().item.overviewPl));releaseDate=P(()=>ge.isValidDate(this.collectionItem().item.airDate)?this.dateLabel.getMediaTileDateLabel(this.collectionItem().item.airDate):null);onRatingChange(o){let e={value:o,previousValue:this.collectionItem().rating,episodeApiId:this.collectionItem().item.apiId,episodeCollectionItemId:this.collectionItem().id,ratingComponent:this.ratingComponent};this.ratingChange.emit(e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-episode-item"]],viewQuery:function(e,i){if(e&1&&E(S,5),e&2){let t;D(t=R())&&(i.ratingComponent=t.first)}},inputs:{collectionItem:[1,"collectionItem"],seasonNumber:[1,"seasonNumber"],isOwner:[1,"isOwner"]},outputs:{ratingChange:"ratingChange"},decls:1,vars:0,consts:[[4,"transloco"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"episode-number"],[1,"year",3,"ngStyle"],[1,"vote-average"],["size","small",3,"ratingChanged","initRating","canBeModified"],[3,"innerHTML"],[1,"spacer"],[1,"right-panel"],[1,"added-at"]],template:function(e,i){e&1&&u(0,gi,23,11,"ng-container",0)},dependencies:[U,Y,W,J,pe,Z,q,z,F,X,S,te,V,ee,j,we,w,se],styles:['@charset "UTF-8";.collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:18px;line-height:18px;height:18px;width:18px}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.episode-number[_ngcontent-%COMP%]{color:var(--text-color-grey);margin-right:var(--spacing-xs)}']})};var ui=(n,o)=>o.item.apiId,Rn=n=>({count:n}),Ci=(n,o)=>({color:n,"margin-left":o});function hi(n,o){if(n&1&&(c(0,"span",7),s(1),r()),n&2){let e,i,t=l(2);m("ngStyle",le(2,Ci,(e=t.releaseDate())==null?null:e.textColor,(e=t.releaseDate())==null?null:e.marginLeft)),a(),O(" ",(i=t.releaseDate())==null?null:i.label," ")}}function fi(n,o){if(n&1&&(c(0,"span"),s(1),r()),n&2){let e=l().$implicit,i=l();a(),M(e("collection.episodesCount",N(1,Rn,i.collectionItem().item.numberOfEpisodes)))}}function xi(n,o){if(n&1&&(c(0,"span",8)(1,"span"),s(2),r(),c(3,"mat-icon"),s(4,"star"),r()()),n&2){let e,i=l(2);a(2),M((e=i.collectionItem().item.voteAverage)==null?null:e.toPrecision(2))}}function Mi(n,o){if(n&1&&(c(0,"mat-icon"),s(1),r()),n&2){let e=l(2);a(),M(e.expanded?"arrow_drop_up":"arrow_drop_down")}}function bi(n,o){if(n&1&&(c(0,"p",14),s(1),$(2,"date"),r()),n&2){let e=l(2);a(),O("",G(2,1,e.collectionItem().addedAt,"longDate",void 0,e.translationHelper.activeLang())," ")}}function vi(n,o){if(n&1){let e=x();c(0,"app-collection-episode-item",18),_("ratingChange",function(t){p(e);let d=l(2);return g(d.onEpisodeRatingChange(t))}),r()}if(n&2){let e=o.$implicit,i=l(2);m("collectionItem",e)("isOwner",i.isOwner())("seasonNumber",i.collectionItem().item.seasonNumber)}}function Oi(n,o){if(n&1){let e=x();I(0),c(1,"mat-card",1)(2,"div",2)(3,"div",3),h(4,"img",4),r(),c(5,"div",5)(6,"mat-card-header",6)(7,"div")(8,"mat-card-title"),s(9),u(10,hi,2,5,"span",7),r(),c(11,"mat-card-subtitle"),u(12,fi,2,3,"span")(13,xi,5,1,"span",8),r()(),c(14,"app-star-rating",9),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()(),c(15,"mat-card-content"),h(16,"p",10),r(),h(17,"div",11),c(18,"mat-card-actions")(19,"button",12),_("click",function(){p(e);let t=l();return g(t.toggleExpanded())}),u(20,Mi,2,1,"mat-icon"),s(21),r()()()(),c(22,"div",13),h(23,"div",11),u(24,bi,3,6,"p",14),r()(),c(25,"mat-expansion-panel",15)(26,"div",16),ie(27,vi,1,3,"app-collection-episode-item",17,ui),r()(),y()}if(n&2){let e,i=o.$implicit,t=l();a(4),m("src",t.collectionItem().item.imageUrl,T),a(5),O("",t.seasonName()," "),a(),f(t.releaseDate()?10:-1),a(2),f(t.collectionItem().item.numberOfEpisodes?12:-1),a(),f(t.collectionItem().item.voteAverage!==null?13:-1),a(),m("initRating",(e=t.collectionItem().rating)!==null&&e!==void 0?e:0)("canBeModified",t.isOwner()),a(2),m("innerHTML",t.seasonOverview(),ce),a(3),m("disabled",!t.collectionItem().item.numberOfEpisodes),a(),f(t.collectionItem().item.numberOfEpisodes?20:-1),a(),O(" ",i("collection.episodesCount",N(13,Rn,t.collectionItem().item.episodes.length))," "),a(3),f(t.collectionItem().id>0?24:-1),a(),m("expanded",t.expanded),a(2),oe(t.collectionItem().item.episodes)}}var nt=class n{ratingChange=new k;ratingComponent;collectionItem=b.required();isOwner=b.required();translationHelper=C(ne);dateLabel=C(_e);seasonName=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.name,this.collectionItem().item.namePl));seasonOverview=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.overview,this.collectionItem().item.overviewPl));releaseDate=P(()=>ge.isValidDate(this.collectionItem().item.airDate)?this.dateLabel.getMediaTileDateLabel(this.collectionItem().item.airDate):null);expanded=!1;toggleExpanded(){this.expanded=!this.expanded}onRatingChange(o){let e={value:o,previousValue:this.collectionItem().rating,seasonApiId:this.collectionItem().item.apiId,seasonCollectionItemId:this.collectionItem().id,ratingComponent:this.ratingComponent};this.ratingChange.emit(e)}onEpisodeRatingChange(o){o.seasonApiId=this.collectionItem().item.apiId,o.seasonCollectionItemId=this.collectionItem().id,this.ratingChange.emit(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-season-item"]],viewQuery:function(e,i){if(e&1&&E(S,5),e&2){let t;D(t=R())&&(i.ratingComponent=t.first)}},inputs:{collectionItem:[1,"collectionItem"],isOwner:[1,"isOwner"]},outputs:{ratingChange:"ratingChange"},decls:1,vars:0,consts:[[4,"transloco"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year",3,"ngStyle"],[1,"vote-average"],["size","small",3,"ratingChanged","initRating","canBeModified"],[3,"innerHTML"],[1,"spacer"],["mat-button","",1,"expander-button",3,"click","disabled"],[1,"right-panel"],[1,"added-at"],["hideToggle","",1,"expander",3,"expanded"],[1,"items-list"],[3,"collectionItem","isOwner","seasonNumber"],[3,"ratingChange","collectionItem","isOwner","seasonNumber"]],template:function(e,i){e&1&&u(0,Oi,29,15,"ng-container",0)},dependencies:[U,Y,Ae,W,J,pe,Z,q,z,F,X,S,te,V,xe,ee,j,we,Ze,tt,w,se],styles:['@charset "UTF-8";.collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:18px;line-height:18px;height:18px;width:18px}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.expander-button[_ngcontent-%COMP%]{color:var(--text-color-additional)}.expander[_ngcontent-%COMP%]{background-color:var(--background-color);box-shadow:none!important;padding-right:0!important}.expander[_ngcontent-%COMP%]   .items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-small)}']})};var Pi=(n,o)=>o.item.apiId,ki=n=>({count:n}),Ii=(n,o)=>({color:n,"margin-left":o});function yi(n,o){if(n&1&&(c(0,"a",5),h(1,"img",6),r()),n&2){let e=l(2);m("href",e.collectionItem().item.sourceUrl,T),a(),m("src",e.collectionItem().item.imageUrl,T)}}function wi(n,o){if(n&1&&h(0,"img",6),n&2){let e=l(2);m("src",e.collectionItem().item.imageUrl,T)}}function Si(n,o){if(n&1&&(c(0,"span",9),s(1),r()),n&2){let e,i,t=l(2);m("ngStyle",le(2,Ii,(e=t.releaseDate())==null?null:e.textColor,(e=t.releaseDate())==null?null:e.marginLeft)),a(),O(" ",(i=t.releaseDate())==null?null:i.label," ")}}function Ti(n,o){if(n&1&&(c(0,"span"),s(1),r()),n&2){let e=l(2);a(),M(e.collectionItem().item.genre)}}function Ei(n,o){if(n&1&&(c(0,"span",10)(1,"span"),s(2),r(),c(3,"mat-icon"),s(4,"star"),r()()),n&2){let e,i=l(2);a(2),M((e=i.collectionItem().item.voteAverage)==null?null:e.toPrecision(2))}}function Di(n,o){if(n&1&&(c(0,"mat-icon"),s(1),r()),n&2){let e=l(2);a(),M(e.expanded?"arrow_drop_up":"arrow_drop_down")}}function Ri(n,o){if(n&1){let e=x();c(0,"div",15)(1,"button",21)(2,"mat-icon"),s(3,"more_vert"),r()(),c(4,"mat-menu",null,0)(6,"button",22),_("click",function(){p(e);let t=l(2);return g(t.onToDoStatusChange())}),c(7,"mat-icon"),s(8),r(),c(9,"span"),s(10),r()(),c(11,"button",22),_("click",function(){p(e);let t=l(2);return g(t.onDeleteItem())}),c(12,"mat-icon"),s(13,"delete"),r(),c(14,"span"),s(15),r()()()()}if(n&2){let e=re(5),i=l().$implicit,t=l();a(),m("matMenuTriggerFor",e),a(7),M(t.collectionItem().toDo?"check_circle":"unpublished"),a(2),M(t.collectionItem().toDo?i("button.done"):i("collection.toDoLabel.series")),a(5),M(i("button.delete"))}}function Vi(n,o){if(n&1){let e=x();c(0,"app-collection-season-item",23),_("ratingChange",function(t){p(e);let d=l(2);return g(d.onSubItemRatingChange(t))}),r()}if(n&2){let e=o.$implicit,i=l(2);m("collectionItem",e)("isOwner",i.isOwner())}}function Fi(n,o){if(n&1){let e=x();I(0),c(1,"mat-card",2)(2,"div",3)(3,"div",4),u(4,yi,2,2,"a",5)(5,wi,1,1,"img",6),r(),c(6,"div",7)(7,"mat-card-header",8)(8,"div")(9,"mat-card-title"),s(10),u(11,Si,2,5,"span",9),r(),c(12,"mat-card-subtitle"),u(13,Ti,2,1,"span")(14,Ei,5,1,"span",10),r()(),c(15,"app-star-rating",11),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()(),c(16,"mat-card-content"),h(17,"p",12),r(),c(18,"mat-card-actions")(19,"button",13),_("click",function(){p(e);let t=l();return g(t.toggleExpanded())}),u(20,Di,2,1,"mat-icon"),s(21),r()()()(),c(22,"div",14),u(23,Ri,16,4,"div",15),h(24,"div",16),c(25,"p",17),s(26),$(27,"date"),r()()(),c(28,"mat-expansion-panel",18)(29,"div",19),ie(30,Vi,1,2,"app-collection-season-item",20,Pi),r()(),y()}if(n&2){let e,i=o.$implicit,t=l();a(4),f(t.collectionItem().item.sourceUrl?4:5),a(6),O("",t.title()," "),a(),f(t.releaseDate()?11:-1),a(2),f(t.collectionItem().item.genre?13:-1),a(),f(t.collectionItem().item.voteAverage!==null?14:-1),a(),m("initRating",(e=t.collectionItem().rating)!==null&&e!==void 0?e:0)("canBeModified",t.isOwner()),a(2),m("innerHTML",t.overview(),ce),a(2),m("disabled",!t.collectionItem().item.seasons.length),a(),f(t.collectionItem().item.seasons.length?20:-1),a(),O(" ",i("collection.seasonsCount",N(19,ki,t.collectionItem().item.length))," "),a(2),f(t.isOwner()?23:-1),a(3),O(" ",G(27,14,t.collectionItem().addedAt,"longDate",void 0,t.translationHelper.activeLang())," "),a(2),m("expanded",t.expanded),a(2),oe(t.collectionItem().item.seasons)}}var it=class n{ratingComponent;deleteItem=new k;changeToDoStatus=new k;changeRating=new k;rawCollectionItem=b.required();isOwner=b.required();collectionDetailsStateService=C(K);translationHelper=C(ne);dateLabel=C(_e);collectionItem=P(()=>{let o=this.rawCollectionItem();if(o.itemType!=="series")throw new Error(`Expected Series item, got ${o.itemType}`);return o});title=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.title,this.collectionItem().item.titlePl));overview=P(()=>this.translationHelper.getFieldByLang(this.collectionItem().item.overview,this.collectionItem().item.overviewPl));releaseDate=P(()=>ge.isValidDate(this.collectionItem().item.releaseDate)?this.dateLabel.getMediaTileDateLabel(this.collectionItem().item.releaseDate):null);expanded=!1;toggleExpanded(){this.expanded=!this.expanded}onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}onSubItemRatingChange(o){o.seriesCollectionItemId=this.collectionItem().id,this.collectionDetailsStateService.updateSeriesSubItemRating(o).subscribe(e=>{e||o.ratingComponent.setRating(o.previousValue??0)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-series-item"]],viewQuery:function(e,i){if(e&1&&E(S,5),e&2){let t;D(t=R())&&(i.ratingComponent=t.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["target","_blank","rel","noopener",1,"image-url",3,"href"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year",3,"ngStyle"],[1,"vote-average"],["size","small",3,"ratingChanged","initRating","canBeModified"],[3,"innerHTML"],["mat-button","",1,"expander-button",3,"click","disabled"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],["hideToggle","",1,"expander",3,"expanded"],[1,"items-list"],[3,"collectionItem","isOwner"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[3,"ratingChange","collectionItem","isOwner"]],template:function(e,i){e&1&&u(0,Fi,32,21,"ng-container",1)},dependencies:[U,Y,Ae,W,J,pe,Z,q,z,F,X,S,te,Pe,Oe,ke,V,xe,de,ee,j,nt,we,Ze,w,se],styles:['@charset "UTF-8";.collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .vote-average[_ngcontent-%COMP%]{display:inline-flex}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);font-size:18px;line-height:18px;height:18px;width:18px}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-left:var(--spacing-small);margin-right:var(--spacing-small);color:var(--mat-card-subtitle-text-color)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-left:0;margin-right:0}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.expander-button[_ngcontent-%COMP%]{color:var(--text-color-additional)}.expander[_ngcontent-%COMP%]{background-color:var(--background-color);box-shadow:none!important;padding-right:0!important}.expander[_ngcontent-%COMP%]   .items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-small)}']})};function zi(n,o){if(n&1){let e=x();c(0,"app-collection-media-item",2),_("changeToDoStatus",function(){p(e);let t=l();return g(t.onToDoStatusChange())})("deleteItem",function(t){p(e);let d=l();return g(d.onDeleteItem(t))})("changeRating",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()}if(n&2){let e=l();m("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())("category",e.category())}}function Ai(n,o){if(n&1){let e=x();c(0,"app-collection-custom-item",3),_("changeToDoStatus",function(){p(e);let t=l();return g(t.onToDoStatusChange())})("deleteItem",function(t){p(e);let d=l();return g(d.onDeleteItem(t))})("changeRating",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()}if(n&2){let e=l();m("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())}}function Bi(n,o){if(n&1){let e=x();c(0,"app-collection-series-item",3),_("changeToDoStatus",function(){p(e);let t=l();return g(t.onToDoStatusChange())})("deleteItem",function(t){p(e);let d=l();return g(d.onDeleteItem(t))})("changeRating",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r()}if(n&2){let e=l();m("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())}}var ot=class n{collectionItem=b.required();category=b.required();collectionStateService=C(K);dialogService=C(Ie);ItemType=Me;isOwner=this.collectionStateService.isCollectionOwner;onRatingChange({value:o,ratingComponent:e}){let i={id:this.collectionItem().id,rating:o};this.collectionStateService.updateItemRating(i).subscribe(t=>{t||e.setRating(this.collectionItem().rating)})}onToDoStatusChange(){this.collectionStateService.updateItemDoToStatus(this.collectionItem().id)}onDeleteItem(o){this.dialogService.openConfirmDeleteDialog(o??"").subscribe(e=>{e&&this.collectionStateService.deleteCollectionItem(this.collectionItem().id)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-item"]],inputs:{collectionItem:[1,"collectionItem"],category:[1,"category"]},decls:3,vars:1,consts:[[3,"rawCollectionItem","isOwner","category"],[3,"rawCollectionItem","isOwner"],[3,"changeToDoStatus","deleteItem","changeRating","rawCollectionItem","isOwner","category"],[3,"changeToDoStatus","deleteItem","changeRating","rawCollectionItem","isOwner"]],template:function(e,i){if(e&1&&u(0,zi,1,3,"app-collection-media-item",0)(1,Ai,1,2,"app-collection-custom-item",1)(2,Bi,1,2,"app-collection-series-item",1),e&2){let t;f((t=i.collectionItem().itemType)===i.ItemType.Media?0:t===i.ItemType.Custom?1:t===i.ItemType.Series?2:-1)}},dependencies:[We,et,it],encapsulation:2})};function Ui(n,o){n&1&&h(0,"mat-progress-spinner",4)}function ji(n,o){if(n&1){let e=x();c(0,"div",8),_("click",function(){let t=p(e).$implicit,d=l(2);return g(d.selectResult(t))}),h(1,"img",9),c(2,"span"),s(3),r()()}if(n&2){let e=o.$implicit;a(),gt("alt",e.title),m("src",e.imageUrl,T),a(2),Ce("",e.title," (",e.releaseYear,")")}}function Hi(n,o){if(n&1&&(c(0,"div",7),h(1,"img",9),c(2,"span"),s(3),r()()),n&2){let e=l(2);a(),gt("alt",e.selectedItem.title),m("src",e.selectedItem.imageUrl,T),a(2),Ce("",e.selectedItem.title," (",e.selectedItem.releaseYear,")")}}function qi(n,o){if(n&1){let e=x();I(0),c(1,"mat-form-field",1)(2,"mat-label"),s(3),r(),c(4,"input",2),_("input",function(t){p(e);let d=l();return g(d.onSearch(t))}),r()(),c(5,"div",3),u(6,Ui,1,0,"mat-progress-spinner",4),r(),c(7,"div",5),ie(8,ji,4,4,"div",6,Rt),u(10,Hi,4,4,"div",7),r(),y()}if(n&2){let e=o.$implicit,i=l();a(3),M(e("collection.addMediaItem.title")),a(3),f(i.isSearching()?6:-1),a(2),oe(i.searchResults()),a(2),f(i.isItemSelected?10:-1)}}var ct=class n{collectionId;itemSelected=new k;mediaService=C(ze);isSearching=B(!1);searchSubscription=null;searchResults=B([]);selectedItem;isItemSelected=!1;sendSearchAfterDelay=new lt;destroy$=new lt;onSearch(o){let e=o.target.value.trim();this.cancelPreviousSearch(),this.sendSearchAfterDelay.next(e)}selectResult(o){this.isItemSelected=!0,this.selectedItem=o,this.itemSelected.emit(this.selectedItem),this.searchResults.set([])}cancelPreviousSearch(){this.isSearching.set(!1),this.searchSubscription&&(this.searchSubscription.unsubscribe(),this.searchSubscription=null)}ngOnInit(){this.sendSearchAfterDelay.pipe(ft(500),dt(this.destroy$)).subscribe(o=>{this.isItemSelected=!1,o.length<1?this.searchResults.set([]):(this.isSearching.set(!0),this.searchSubscription=this.mediaService.searchMediaItemsByCollection(this.collectionId,o).pipe(dt(this.destroy$),xt(()=>this.isSearching.set(!1))).subscribe(e=>{this.searchResults.set(e)}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cancelPreviousSearch()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-media-item-search-bar"]],inputs:{collectionId:"collectionId"},outputs:{itemSelected:"itemSelected"},decls:1,vars:0,consts:[[4,"transloco"],["appearance","fill",1,"form-field"],["matInput","",3,"input"],[1,"spinner-container"],["mode","indeterminate","diameter","40"],[1,"search-results"],[1,"item","result-item"],[1,"item","selected-item"],[1,"item","result-item",3,"click"],["appImgFallback","media-item-placeholder.png","draggable","false","width","53.3","height","80",3,"src","alt"]],template:function(e,i){e&1&&u(0,qi,11,3,"ng-container",0)},dependencies:[be,He,je,ve,qe,j,hn,Cn,w],styles:[".form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);margin-top:var(--spacing-medium)}.spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:var(--spacing-medium)}.spinner-container[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{align-self:center;z-index:1002}.search-results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-small);width:100%}.search-results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:left;padding:var(--spacing-small);border-radius:var(--border-radius-small)}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--light-color)}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.search-results[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid var(--background-color-lighter);background-color:var(--background-color)}.search-results[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-right:var(--spacing-small);border-radius:var(--border-radius-small);object-fit:cover}"]})};var Vn=n=>({value:n});function Gi(n,o){if(n&1&&(c(0,"mat-error"),s(1),r()),n&2){let e=l().$implicit;a(),O(" ",e("error.nameRequiredError")," ")}}function Xi(n,o){if(n&1&&(c(0,"mat-error"),s(1),r()),n&2){let e=l().$implicit,i=l();a(),O(" ",e("error.lengthError",N(1,Vn,i.titleCtrl.getError("maxlength").requiredLength))," ")}}function Ki(n,o){if(n&1&&(c(0,"mat-error"),s(1),r()),n&2){let e=l().$implicit,i=l();a(),O(" ",e("error.lengthError",N(1,Vn,i.descriptionCtrl.getError("maxlength").requiredLength))," ")}}function Yi(n,o){if(n&1&&(I(0),c(1,"form",2)(2,"mat-form-field",3)(3,"mat-label"),s(4),r(),h(5,"input",4),u(6,Gi,2,1,"mat-error",5)(7,Xi,2,3,"mat-error",5),r(),c(8,"mat-form-field",6)(9,"mat-label"),s(10),r(),h(11,"textarea",7,0),u(13,Ki,2,3,"mat-error",5),r()(),y()),n&2){let e=o.$implicit,i=l();a(),m("formGroup",i.form),a(3),M(e("collection.addCustomItem.title")),a(2),m("ngIf",i.titleCtrl.hasError("required")),a(),m("ngIf",i.titleCtrl.hasError("maxlength")),a(3),M(e("collection.addCustomItem.description")),a(3),m("ngIf",i.descriptionCtrl.hasError("maxlength"))}}var Ee=class n{form=new sn({title:new ut("",[Be.required,Be.maxLength(100)]),description:new ut("",Be.maxLength(2e3))});get titleCtrl(){return this.form.get("title")}get descriptionCtrl(){return this.form.get("description")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-add-custom-item-form"]],decls:1,vars:0,consts:[["autosize","cdkTextareaAutosize"],[4,"transloco"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","title","required",""],[4,"ngIf"],["appearance","fill",1,"form-field","textarea-field"],["matInput","","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","6",1,"auto-scroll-textarea"]],template:function(e,i){e&1&&u(0,Yi,14,6,"ng-container",1)},dependencies:[be,He,je,_n,ye,Ue,Ne,rn,mn,Le,gn,dn,pn,ve,qe,un,$e,Qe,Fe,Ge,Ve,$t,w],styles:[".form-field[_ngcontent-%COMP%]{font-size:var(--font-size-h4);width:100%}.form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{align-items:flex-start}.form-field[_ngcontent-%COMP%]   .auto-scroll-textarea[_ngcontent-%COMP%]{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{position:static}"]})};function Zi(n,o){n&1&&(I(0),h(1,"app-add-custom-item-form"),y())}function Wi(n,o){if(n&1){let e=x();I(0),c(1,"app-media-item-search-bar",10),_("itemSelected",function(t){p(e);let d=l(2);return g(d.onItemSelected(t))}),r(),y()}if(n&2){let e=l(2);a(),m("collectionId",e.data.collectionId)}}function Ji(n,o){if(n&1){let e=x();I(0),c(1,"div",1)(2,"h1",2),s(3),r(),c(4,"form",3),_("submit",function(t){return p(e),g(t.preventDefault())}),I(5,4),u(6,Zi,2,0,"ng-container",5)(7,Wi,2,1,"ng-container",6),y(),c(8,"app-star-rating",7),_("ratingChanged",function(t){p(e);let d=l();return g(d.onRatingChange(t))}),r(),c(9,"mat-slide-toggle",8),_("change",function(t){p(e);let d=l();return g(d.onToggleChange(t))}),s(10),r()(),h(11,"hr"),c(12,"app-action-buttons",9),_("cancel",function(){p(e);let t=l();return g(t.onCancel())})("confirm",function(){p(e);let t=l();return g(t.onSubmit())}),r()(),y()}if(n&2){let e=o.$implicit,i=l();a(3),M(e("collection.addCollectionItem.title")),a(2),m("ngSwitch",i.category),a(),m("ngSwitchCase",i.CollectionCategory.Custom),a(3),m("checked",i.toDo),a(),M(e("collection.toDoLabel."+i.category))}}var at=class n{customItemForm;data=C(On);category=this.data.category;CollectionCategory=cn;collectionStateService=C(K);collectionItemService=C(on);notificationService=C(nn);dialogService=C(Ie);dialogRef=C(vn);toDo=!1;rating=0;selectedItem;onRatingChange(o){this.rating=o}onItemSelected(o){this.selectedItem=o}onToggleChange(o){this.toDo=o.checked}onSubmit(){switch(this.data.category){case"custom":this.addCustomItem();break;default:this.addMediaItem()}}onCancel(){this.dialogRef.close(void 0)}addCustomItem(){if(!this.customItemForm.form.valid)return;let{title:o,description:e}=this.customItemForm.form.value,i={collectionId:this.data.collectionId,title:o,description:e||"",rating:this.rating,toDo:this.toDo};this.collectionStateService.addCustomItem(i).subscribe(t=>{t&&this.dialogRef.close()})}addMediaItem(){if(!this.selectedItem?.apiId)return;let o={collectionId:this.data.collectionId,mediaItemApiId:this.selectedItem.apiId,rating:this.rating,toDo:this.toDo};this.collectionStateService.addMediaItem(o).subscribe(e=>{e.result?this.dialogRef.close():e.alreadyExists&&this.dialogService.openConfirmationDialog("This item already exists. Do you want to update it with the new settings?").pipe(ht(Boolean),st(()=>this.collectionItemService.getCollectionItemId(o.collectionId,o.mediaItemApiId)),mt(()=>(this.notificationService.showFailure(),De(null))),st(i=>i===null?De(!1):(this.collectionStateService.updateItemDoToStatus(i,o.toDo),this.collectionStateService.updateItemRating({id:i,rating:o.rating}))),mt(()=>De(!1))).subscribe(i=>{i&&this.dialogRef.close()})})}ngOnInit(){this.toDo=this.data.toDo??!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-add-collection-item-dialog"]],viewQuery:function(e,i){if(e&1&&E(Ee,5),e&2){let t;D(t=R())&&(i.customItemForm=t.first)}},decls:1,vars:0,consts:[[4,"transloco"],[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"submit"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ratingChanged"],[3,"change","checked"],[3,"cancel","confirm"],[1,"item-form",3,"itemSelected","collectionId"]],template:function(e,i){e&1&&u(0,Ji,13,5,"ng-container",0)},dependencies:[be,Ge,ve,Ue,Ne,Le,ye,yn,$e,kn,Qe,Fe,Gt,Xt,Kt,ct,Ee,S,V,In,w],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-small)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item-form[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}"]})};var eo=["mainContainer"],Fn=(n,o)=>o.id,to=n=>["/profile",n],no=()=>({right:16,bottom:40});function io(n,o){if(n&1){let e=x();c(0,"app-edit-text-button",16),_("click",function(){p(e);let t=l(2);return g(t.onRenameCollectionStart())}),r()}if(n&2){let e=l(2);m("showButton",e.shouldShowNameEditButton())}}function oo(n,o){if(n&1){let e=x();c(0,"div",10)(1,"button",17),_("click",function(){p(e);let t=l(2);return g(t.onPublicStatusChange())}),c(2,"mat-icon"),s(3),r()(),c(4,"button",18),_("click",function(){p(e);let t=l(2);return g(t.onDeleteCollection())}),c(5,"mat-icon"),s(6,"delete"),r()()()}if(n&2){let e,i,t=l().$implicit,d=l();a(),m("matTooltip",(e=d.collection())!=null&&e.isPublic?t("collection.makePrivate"):t("collection.makePublic")),a(2),M((i=d.collection())!=null&&i.isPublic?"lock_open":"lock"),a(),m("matTooltip",t("collection.deleteCollection"))}}function co(n,o){if(n&1&&h(0,"app-collection-item",14),n&2){let e,i=o.$implicit,t=l(2);m("collectionItem",i)("category",(e=t.collection())==null?null:e.category)}}function ao(n,o){if(n&1&&h(0,"app-collection-item",14),n&2){let e,i=o.$implicit,t=l(2);m("collectionItem",i)("category",(e=t.collection())==null?null:e.category)}}function ro(n,o){if(n&1){let e=x();c(0,"app-floating-action-button",19),_("click",function(){p(e);let t=l(2);return g(t.onAddItem())}),r()}if(n&2){let e=l(2);m("parentContainer",e.container)("position",Re(2,no))}}function lo(n,o){if(n&1){let e=x();I(0),c(1,"div",null,0)(3,"div",2)(4,"section",3)(5,"div",4),h(6,"img",5),r(),c(7,"div",6)(8,"div",7),_("mouseenter",function(){p(e);let t=l();return g(t.showNameEditButton.set(!0))})("mouseleave",function(){p(e);let t=l();return g(t.showNameEditButton.set(!1))}),c(9,"app-editable-text-field",8),_("editEnd",function(t){p(e);let d=l();return g(d.onRenameCollectionEnd(t))}),r(),u(10,io,1,1,"app-edit-text-button",9),r(),c(11,"p"),s(12),r()()(),u(13,oo,7,3,"div",10),r(),c(14,"mat-tab-group",11),Lt("selectedIndexChange",function(t){p(e);let d=l();return Bt(d.selectedTabIndex,t)||(d.selectedTabIndex=t),g(t)}),c(15,"mat-tab",12)(16,"div",13),ie(17,co,1,2,"app-collection-item",14,Fn),r()(),c(19,"mat-tab",12)(20,"div",13),ie(21,ao,1,2,"app-collection-item",14,Fn),r()()(),u(23,ro,1,3,"app-floating-action-button",15),r(),y()}if(n&2){let e,i,t,d,ue,fe,rt=o.$implicit,L=l();a(5),m("routerLink",N(13,to,(e=L.owner())==null?null:e.id)),a(),m("src",(i=(i=L.owner())==null?null:i.profilePictureUrl)!==null&&i!==void 0?i:"user-avatar.png",T)("matTooltip",(t=L.owner())==null?null:t.username),a(3),m("text",(d=L.collection())==null?null:d.name)("isEditing",L.isEditingCollectionName()),a(),f(L.isOwner()?10:-1),a(2),M(rt("collection.category."+((ue=L.collection())==null?null:ue.category))),a(),f(L.isOwner()?13:-1),a(),m("animationDuration",0),At("selectedIndex",L.selectedTabIndex),a(),m("label",rt("collection.collectionDetails.rated")),a(2),oe(L.ratedItems()),a(2),m("label",rt("collection.toDoLabel."+((fe=L.collection())==null?null:fe.category))),a(2),oe(L.todoItems()),a(2),f(L.isOwner()?23:-1)}}var zn=class n{dialog=C(Pn);collectionStateService=C(K);dialogService=C(Ie);container;collection=this.collectionStateService.currentCollection;ratedItems=this.collectionStateService.currentRatedItems;todoItems=this.collectionStateService.currentToDoItems;owner=this.collectionStateService.currentCollectionOwner;isOwner=this.collectionStateService.isCollectionOwner;selectedTabIndex=B(0);isEditingCollectionName=B(!1);showNameEditButton=B(!1);shouldShowNameEditButton=P(()=>this.showNameEditButton()&&!this.isEditingCollectionName());onRenameCollectionStart(){this.isEditingCollectionName.set(!0)}onRenameCollectionEnd(o){this.collectionStateService.renameCollection(o),this.isEditingCollectionName.set(!1)}onPublicStatusChange(){let o=!this.collection()?.isPublic;o?this.dialogService.openConfirmChangeCollectionStatusToPublicDialog().subscribe(e=>{e&&this.togglePublicStatus(o)}):this.togglePublicStatus(o)}onDeleteCollection(){this.dialogService.openConfirmDeleteDialog(this.collection()?.name??"").subscribe(o=>{o&&this.collectionStateService.deleteCollection()})}onAddItem(){this.dialog.open(at,{width:"550px",data:{collectionId:this.collection()?.id,category:this.collection()?.category,toDo:this.selectedTabIndex()===1}})}togglePublicStatus(o){this.collectionStateService.changeCollectionPublicStatus(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-collection-details"]],viewQuery:function(e,i){if(e&1&&E(eo,5),e&2){let t;D(t=R())&&(i.container=t.first)}},decls:1,vars:0,consts:[["mainContainer",""],[4,"transloco"],[1,"custom-header"],[1,"left-container"],[3,"routerLink"],["appImgFallback","user-avatar.png","alt","Profile Image","width","70","height","70","draggable","false",3,"src","matTooltip"],[1,"title-with-category-container"],[1,"title",3,"mouseenter","mouseleave"],[3,"editEnd","text","isEditing"],[1,"name-edit-button",3,"showButton"],[1,"actions"],[3,"selectedIndexChange","animationDuration","selectedIndex"],[3,"label"],[1,"collection-items"],[3,"collectionItem","category"],[3,"parentContainer","position"],[1,"name-edit-button",3,"click","showButton"],["mat-stroked-button","",3,"click","matTooltip"],["mat-stroked-button","",1,"btn-danger",3,"click","matTooltip"],[3,"click","parentContainer","position"]],template:function(e,i){e&1&&u(0,lo,24,15,"ng-container",1)},dependencies:[U,ye,q,ot,bn,Yt,Mn,fn,xn,wn,Ye,Se,z,F,V,xe,Ke,Xe,j,w],styles:[".custom-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--background-color);padding:var(--spacing-medium) 0;position:sticky;top:0;z-index:1000}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--spacing-medium)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;box-shadow:var(--shadow-medium);cursor:pointer;transition:transform .3s ease,box-shadow .3s ease}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:var(--shadow-heavy)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{transform:scale(.95)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;font-size:var(--font-size-h2);font-weight:var(--font-weight-bold)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .name-edit-button[_ngcontent-%COMP%]{display:flex;margin:-8px 0 0 var(--spacing-small)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--text-color-grey);margin:0}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-bold);color:var(--text-color-additional);text-decoration:none}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:var(--spacing-small)}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);transition:background-color .2s,color .2s}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-color-hover)}.collection-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-medium)}"]})};export{zn as CollectionDetailsComponent};
