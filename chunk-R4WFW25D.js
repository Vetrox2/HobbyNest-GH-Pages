import{a as X}from"./chunk-5WYIQFZU.js";import"./chunk-J7XLSKBM.js";import"./chunk-NZOIZJP2.js";import{a as J}from"./chunk-DTNNSDSF.js";import"./chunk-3OMDW2B2.js";import{a as k}from"./chunk-A6QEB5NA.js";import"./chunk-ZZN6OZ5R.js";import"./chunk-6R7VETPK.js";import"./chunk-MSR5DXAJ.js";import"./chunk-QLBHTXLM.js";import"./chunk-5OYVGCDM.js";import"./chunk-BFBFG6D7.js";import"./chunk-D5SWGX2S.js";import"./chunk-4REKKHWP.js";import"./chunk-CDW3W3IW.js";import"./chunk-GT5FIGVM.js";import"./chunk-5TLHWZXQ.js";import"./chunk-6YTSYAD3.js";import{a as Z}from"./chunk-IQT35M2M.js";import"./chunk-MZE6JQV3.js";import"./chunk-RMJXZBAS.js";import{a as K,b as U}from"./chunk-3354VIHL.js";import"./chunk-BQHFBY6P.js";import"./chunk-PL5QVONC.js";import"./chunk-4JQI7GWC.js";import{s as Y}from"./chunk-R5CXRUDK.js";import{c as w,d as P,f as I,h as F}from"./chunk-HU7WFQWJ.js";import{ya as q}from"./chunk-W36LFFSO.js";import{$b as c,C as $,Cc as p,Dc as u,G as L,Kc as T,Ob as _,Pb as g,Qb as b,Rb as S,Tb as a,Vb as H,Yb as E,Zb as x,ac as s,bc as o,cc as l,cd as j,dc as m,hc as Q,ma as A,nb as r,pc as y,rc as d,sc as G,tc as N,wa as h,wc as O,xa as v,xb as C,xc as z,yc as D}from"./chunk-YUWHBJVV.js";var oe=["scrollContainer"],re=["scrollWrapper"],le=["*"],M=class e{scrollContainer;scrollWrapper;canScrollLeft=!1;canScrollRight=!1;scrollButtonVisible=!1;scrollSub;resizeObserver;ngAfterViewInit(){this.updateScrollButtons(),this.scrollSub=$(this.scrollContainer.nativeElement,"scroll").pipe(L(100)).subscribe(()=>this.updateScrollButtons()),this.resizeObserver=new ResizeObserver(()=>{this.onScrollContainerResized()}),this.resizeObserver.observe(this.scrollContainer.nativeElement)}ngOnDestroy(){this.scrollSub?.unsubscribe(),this.resizeObserver.disconnect()}onScrollContainerResized(){this.updateScrollButtons()}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}updateScrollButtons(){this.scrollButtonVisible=this.scrollContainer.nativeElement.clientWidth===this.scrollWrapper.nativeElement.clientWidth;let t=this.scrollContainer.nativeElement;this.canScrollLeft=t.scrollLeft>0,this.canScrollRight=t.scrollLeft<t.scrollWidth-t.clientWidth}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-horizontal-scroll"]],viewQuery:function(i,n){if(i&1&&(O(oe,7),O(re,7)),i&2){let f;z(f=D())&&(n.scrollContainer=f.first),z(f=D())&&(n.scrollWrapper=f.first)}},ngContentSelectors:le,decls:11,vars:6,consts:[["scrollWrapper",""],["scrollContainer",""],[1,"scroll-wrapper"],[1,"scroll-btn","left",3,"click","disabled"],[1,"scroll-container",3,"scroll"],[1,"scroll-btn","right",3,"click","disabled"]],template:function(i,n){if(i&1){let f=Q();G(),o(0,"div",2,0)(2,"button",3),y("click",function(){return h(f),v(n.scrollLeft())}),o(3,"mat-icon"),p(4,"keyboard_arrow_left"),l()(),o(5,"div",4,1),y("scroll",function(){return h(f),v(n.updateScrollButtons())}),N(7),l(),o(8,"button",5),y("click",function(){return h(f),v(n.scrollRight())}),o(9,"mat-icon"),p(10,"keyboard_arrow_right"),l()()()}i&2&&(r(2),H("hidden",!n.scrollButtonVisible),a("disabled",!n.canScrollLeft),r(6),H("hidden",!n.scrollButtonVisible),a("disabled",!n.canScrollRight))},dependencies:[U,K],styles:[".scroll-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;overflow:hidden;width:100%}.scroll-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:hidden;scroll-behavior:smooth;gap:var(--spacing-medium);padding:var(--spacing-medium) var(--spacing-small);width:fit-content}.scroll-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1;background-color:#000c;color:#fff;border:none;padding:var(--spacing-small) var(--spacing-medium);font-size:var(--font-size-base);border-radius:var(--border-radius-large);cursor:pointer;transition:background-color .2s ease-in-out}.scroll-btn.left[_ngcontent-%COMP%]{left:var(--spacing-small)}.scroll-btn.right[_ngcontent-%COMP%]{right:var(--spacing-small)}.scroll-btn[_ngcontent-%COMP%]:disabled{background-color:#00000059;color:#fff9;cursor:default}.scroll-btn.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.scroll-btn[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#000000f2}.scroll-btn[_ngcontent-%COMP%]:not(:disabled):active{background-color:#000000bf}"]})};var te=(e,t)=>t.id,V=(e,t)=>t.itemApiId,B=()=>[k],R=()=>[];function ae(e,t){if(e&1&&m(0,"app-collection-tile",3),e&2){let i=t.$implicit;a("@fadeIn",void 0)("collection",i)}}function ce(e,t){if(e&1&&(o(0,"section")(1,"h2"),p(2),l(),o(3,"app-horizontal-scroll"),c(4,ae,1,2,"app-collection-tile",3,te),l()()),e&2){let i=d().$implicit,n=d();r(2),u(i("home.recentlyModified")),r(2),s(n.recentModifiedCollections())}}function se(e,t){if(e&1&&m(0,"app-media-item-tile",4),e&2){let i=t.$implicit;a("@fadeIn",void 0)("mediaItem",i)}}function me(e,t){if(e&1&&c(0,se,1,2,"app-media-item-tile",4,V),e&2){let i=d(2);s(i.trendingMovies())}}function de(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&a("@fadeOut",void 0)}function pe(e,t){e&1&&c(0,de,1,1,"app-media-item-tile-placeholder",null,x),e&2&&s(T(0,R).constructor(10))}function fe(e,t){if(e&1&&m(0,"app-media-item-tile",4),e&2){let i=t.$implicit;a("@fadeIn",void 0)("mediaItem",i)}}function _e(e,t){if(e&1&&c(0,fe,1,2,"app-media-item-tile",4,V),e&2){let i=d(2);s(i.trendingSeries())}}function ue(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&a("@fadeOut",void 0)}function he(e,t){e&1&&c(0,ue,1,1,"app-media-item-tile-placeholder",null,x),e&2&&s(T(0,R).constructor(10))}function ve(e,t){if(e&1&&m(0,"app-media-item-tile",4),e&2){let i=t.$implicit;a("@fadeIn",void 0)("mediaItem",i)}}function Ce(e,t){if(e&1&&c(0,ve,1,2,"app-media-item-tile",4,V),e&2){let i=d(2);s(i.trendingGames())}}function ge(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&a("@fadeOut",void 0)}function be(e,t){e&1&&c(0,ge,1,1,"app-media-item-tile-placeholder",null,x),e&2&&s(T(0,R).constructor(10))}function Se(e,t){if(e&1&&m(0,"app-media-item-tile",4),e&2){let i=t.$implicit;a("@fadeIn",void 0)("mediaItem",i)}}function xe(e,t){if(e&1&&(o(0,"section")(1,"h2"),p(2),l(),o(3,"app-horizontal-scroll"),c(4,Se,1,2,"app-media-item-tile",4,te),l()()),e&2){let i=d().$implicit,n=d();r(2),u(i("home.trendingFriends")),r(2),s(n.trendingAmongFriends())}}function ye(e,t){if(e&1&&(o(0,"div",2),_(1,ce,6,1,"section"),o(2,"section")(3,"h2"),p(4),l(),o(5,"app-horizontal-scroll"),_(6,me,2,0)(7,pe,2,1),b(8,6,B,null,7,null,null,0,g),l()(),o(10,"section")(11,"h2"),p(12),l(),o(13,"app-horizontal-scroll"),_(14,_e,2,0)(15,he,2,1),b(16,14,B,null,15,null,null,0,g),l()(),o(18,"section")(19,"h2"),p(20),l(),o(21,"app-horizontal-scroll"),_(22,Ce,2,0)(23,be,2,1),b(24,22,B,null,23,null,null,0,g),l()(),_(26,xe,6,1,"section"),l()),e&2){let i=t.$implicit,n=d();r(),E(n.recentModifiedCollections().length>0?1:-1),r(3),u(i("home.trendingMovies")),r(4),S(n.trendingMovies().length>0),r(4),u(i("home.trendingSeries")),r(4),S(n.trendingSeries().length>0),r(4),u(i("home.trendingGames")),r(4),S(n.trendingGames().length>0),r(2),E(n.trendingAmongFriends().length>0?26:-1)}}var ee=class e{homeService=A(J);recentModifiedCollections=j(()=>this.homeService.recentModifiedCollections().slice(0,10));trendingAmongFriends=this.homeService.trendingAmongFriends;trendingMovies=this.homeService.trendingMovies;trendingGames=this.homeService.trendingGames;trendingSeries=this.homeService.trendingSeries;ngOnInit(){this.homeService.fetchData()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-home"]],decls:1,vars:0,consts:[[500],["class","main-container",4,"transloco"],[1,"main-container"],[1,"collection-tile",3,"collection"],[3,"mediaItem"]],template:function(i,n){i&1&&_(0,ye,27,8,"div",1)},dependencies:[M,X,k,Z,q,Y],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xxl)}.main-container[_ngcontent-%COMP%]   .collection-tile[_ngcontent-%COMP%]{width:250px}.main-container[_ngcontent-%COMP%]   app-horizontal-scroll[_ngcontent-%COMP%]{display:flex;margin:0 calc(-1 * var(--spacing-small))}"],data:{animation:[w("fadeOut",[F(":leave",[P("500ms ease-out",I({opacity:0}))])]),w("fadeIn",[F(":enter",[I({opacity:0}),P("600ms ease-in",I({opacity:1}))])])]}})};export{ee as HomeComponent};
