import{a as dt,b as st}from"./chunk-X6VLZ4GY.js";import{b as ct,c as mt}from"./chunk-DEEJQIC7.js";import{a as at,b as lt}from"./chunk-D7M6YITO.js";import{b as K,c as Q,g as U,h as W}from"./chunk-5PG5Q2EG.js";import{b as X,d as C,f as Y,g as Z,h as tt,j as u,l as et,m as ot,n as nt,o as it,q as rt}from"./chunk-UBEGVIIE.js";import{a as H}from"./chunk-EQNPCEY6.js";import{a as J}from"./chunk-KIDEEJU4.js";import{b as $,c as G,f as k,g as B,i as L,j}from"./chunk-EP6N3N6R.js";import{t as V,ta as z,wa as R}from"./chunk-WJTMIWFM.js";import{aa as N,ya as q}from"./chunk-YVXMD3G7.js";import{$b as i,Ac as c,Bc as g,Cc as p,Eb as O,Jc as w,L as h,Lb as s,Qb as m,Vb as A,Wb as P,Yb as D,Z as y,Zb as I,_b as a,ac as v,bc as S,cc as E,ec as F,ha as f,ib as n,mc as T,oc as l,ra as _,sa as x,sb as b}from"./chunk-S4ZUGAIY.js";var pt=e=>({value:e});function ft(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit;n(),p(" ",t("error.nameRequiredError")," ")}}function Ct(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l().$implicit,o=l();n(),p(" ",t("error.lengthError",w(1,pt,o.nameCtrl.getError("maxlength").requiredLength))," ")}}function ut(e,r){if(e&1&&(a(0,"mat-option",10),c(1),i()),e&2){let t=r.$implicit,o=l(2).$implicit;m("value",t),n(),p(" ",o("collection.category."+t)," ")}}function _t(e,r){if(e&1&&(a(0,"mat-error"),c(1),i()),e&2){let t=l(2).$implicit;n(),p(" ",t("error.categoryRequiredError")," ")}}function xt(e,r){if(e&1&&(a(0,"mat-form-field",4)(1,"mat-label"),c(2),i(),a(3,"mat-select",9),D(4,ut,2,2,"mat-option",10,P),i(),s(6,_t,2,1,"mat-error",6),i()),e&2){let t=l().$implicit,o=l();n(2),g(t("collection.addCollection.category")),n(2),I(o.categories),n(2),m("ngIf",o.categoryCtrl.hasError("required"))}}function vt(e,r){if(e&1){let t=F();S(0),a(1,"div",1)(2,"h1",2),c(3),i(),a(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),c(7),i(),v(8,"input",5),s(9,ft,2,1,"mat-error",6)(10,Ct,2,3,"mat-error",6),i(),s(11,xt,7,2,"mat-form-field",4),a(12,"mat-slide-toggle",7),c(13),i()(),v(14,"hr"),a(15,"app-action-buttons",8),T("cancel",function(){_(t);let d=l();return x(d.onCancel())})("confirm",function(){_(t);let d=l();return x(d.onSubmit())}),i()(),E()}if(e&2){let t=r.$implicit,o=l();n(3),g(t("collection.addCollection.title")),n(),m("formGroup",o.collectionForm),n(3),g(t("collection.addCollection.name")),n(2),m("ngIf",o.nameCtrl.hasError("required")),n(),m("ngIf",o.nameCtrl.hasError("maxlength")),n(),A(o.showCategory?11:-1),n(2),g(t("collection.addCollection.public")),n(2),m("disableConfirmButton",o.isAddingCollection())}}var gt=class e{collectionService=f(H);dialogRef=f($);data=f(G);isAddingCollection=O(!1);showCategory=!0;categories=Object.values(J);collectionForm=new tt({name:new u("",[C.required,C.maxLength(100)]),category:new u("",C.required),isPublic:new u(!1)});get nameCtrl(){return this.collectionForm.get("name")}get categoryCtrl(){return this.collectionForm.get("category")}onSubmit(){if(!this.collectionForm.valid){this.collectionForm.markAllAsTouched();return}let{name:r,category:t,isPublic:o}=this.collectionForm.value,d={name:r,category:t,isPublic:o};this.isAddingCollection.set(!0),this.collectionService.addCollection(d).pipe(y(M=>{M&&this.dialogRef.close(M)}),h(()=>{this.isAddingCollection.set(!1)})).subscribe()}onCancel(){this.dialogRef.close(void 0)}ngOnInit(){this.data?.collectionCategory&&(this.showCategory=!1,this.collectionForm.get("category")?.setValue(this.data.collectionCategory))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-add-collection-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","isPublic"],[3,"cancel","confirm","disableConfirmButton"],["formControlName","category","required",""],[1,"selected-option",3,"value"]],template:function(t,o){t&1&&s(0,vt,16,8,"ng-container",0)},dependencies:[W,U,K,Q,st,dt,rt,et,X,Y,Z,it,ot,nt,mt,ct,L,k,B,R,z,lt,at,q,N,j,V],styles:["[_ngcontent-%COMP%]:root{--success-color: #4caf50;--warning-color: #f57c00;--info-color: #2196f3;--light-color: #aaaaaa;--golden-star-color: var(--golden);--golden-star-color-hover: #ffca28;--golden: #ffc107;--blue: #2196f3;--green: #4caf50;--orange: #d78b1a;--spacing-unit: 8px;--spacing-xxs: calc(var(--spacing-unit) / 4);--spacing-xs: calc(var(--spacing-unit) / 2);--spacing-small: var(--spacing-unit);--spacing-medium: calc(var(--spacing-unit) * 2);--spacing-large: calc(var(--spacing-unit) * 3);--spacing-xl: calc(var(--spacing-unit) * 4);--spacing-xxl: calc(var(--spacing-unit) * 5);--border-radius-small: 4px;--border-radius-medium: 8px;--border-radius-large: 16px;--border-radius-xl: 32px}.dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h3);margin-bottom:var(--spacing-large);text-align:center;padding:0}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium);padding:0 0 var(--spacing-medium)}@media (min-width: 600px){.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:0 var(--spacing-large) var(--spacing-medium)}}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{font-size:var(--font-size-base)}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}.selected-option[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: var(--primary-color-light)}"]})};export{gt as a};
