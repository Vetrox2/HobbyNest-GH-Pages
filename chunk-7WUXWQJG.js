import{b as Wt}from"./chunk-44A5BYMC.js";import{b as Me,c as Q}from"./chunk-J5HZZ5AQ.js";import{a as At}from"./chunk-I5GMOQ5X.js";import{a as Ue,b as Le}from"./chunk-B6Y6EVXZ.js";import{b as Kt,c as Yt,d as Zt}from"./chunk-7VGULTTQ.js";import"./chunk-IV54NZYB.js";import{a as an}from"./chunk-GNGL3VEJ.js";import{a as Qe,d as Ce}from"./chunk-2RY6SWN5.js";import{a as cn,b as ue,d as qe}from"./chunk-COG2GBOR.js";import{a as je}from"./chunk-CF4PZ36O.js";import{b as Ve,c as $t,g as Fe,h as se,i as Xt,j as ze,k as de,l as pe,m as ge,n as _e,o as Y,p as Jt,q as en,r as tn,t as nn,u as Be,w as Ae,x as on,y as Ne,z as B}from"./chunk-TEGHON7M.js";import{a as Nt,b as jt,c as qt,d as Ee,f as Ut,g as Te,h as Lt,j as it,l as De,m as Qt,n as Ht,o as Gt,p as K,q as Re}from"./chunk-4RTAQCRI.js";import{a as V,b as T}from"./chunk-GVD3ONKF.js";import{a as H,b as G,c as $,d as me,e as Se,f as X,i as z}from"./chunk-Y72GAAW4.js";import{b as le,d as ie,e as E}from"./chunk-HKGG5G7J.js";import{A as Rt,Z as Vt,aa as nt,da as Ft,ga as zt,n as Dt,oa as we,qa as Bt}from"./chunk-OJGLY5W6.js";import{k as wt,l as Ie,m as re,n as St,o as Et,p as Tt,t as L,u as ye}from"./chunk-66SFJMCG.js";import{$b as p,Ab as F,Ac as q,Ba as v,Ca as ut,Ea as k,Eb as bt,Fa as Ct,Fb as C,Fc as It,G as rt,Gb as et,Hb as l,Ic as ne,Jb as J,Jc as yt,Kb as Mt,Kc as U,La as ht,Mb as M,Ob as oe,Pb as ce,Qb as c,Rb as a,Sb as u,Tb as ke,Ub as Oe,Wb as h,Xb as xt,ab as W,ba as lt,bb as I,bc as s,cc as vt,da as mt,dc as kt,ec as tt,fa as st,fb as r,gc as y,hc as w,ia as f,ic as S,j as at,lc as ee,mc as d,nc as O,ob as b,oc as x,pb as ft,pc as be,qa as dt,ra as g,sa as _,ta as pt,tc as Ot,ua as gt,uc as Pe,vc as Pt,xc as R,ya as _t,zc as te}from"./chunk-7IX7LMTZ.js";var gn=["input"],_n=["label"],un=["*"],Cn=new st("mat-checkbox-default-options",{providedIn:"root",factory:ln});function ln(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var D=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(D||{}),hn={provide:Nt,useExisting:lt(()=>mn),multi:!0},ot=class{source;checked},rn=ln(),mn=(()=>{class i{_elementRef=f(Ct);_changeDetectorRef=f(It);_ngZone=f(ut);_animationMode=f(ht,{optional:!0});_options=f(Cn,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new ot;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new v;indeterminateChange=new v;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=D.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){f(Rt).load(Ft);let e=f(new _t("tabindex"),{optional:!0});this._options=this._options||rn,this.color=this._options.color||rn.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=f(Vt).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(D.Indeterminate):this._transitionCheckState(this.checked?D.Checked:D.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,n=this._getAnimationTargetElement();if(!(t===e||!n)&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);let m=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(m)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?D.Checked:D.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case D.Init:if(t===D.Checked)return this._animationClasses.uncheckedToChecked;if(t==D.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case D.Unchecked:return t===D.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case D.Checked:return t===D.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case D.Indeterminate:return t===D.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=b({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,n){if(t&1&&(y(gn,5),y(_n,5)),t&2){let m;w(m=S())&&(n._inputElement=m.first),w(m=S())&&(n._labelElement=m.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,n){t&2&&(xt("id",n.id),et("tabindex",null)("aria-label",null)("aria-labelledby",null),Mt(n.color?"mat-"+n.color:"mat-accent"),J("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked)("mat-mdc-checkbox-disabled-interactive",n.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",ne],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",ne],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",ne],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:yt(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ne],checked:[2,"checked","checked",ne],disabled:[2,"disabled","disabled",ne],indeterminate:[2,"indeterminate","indeterminate",ne]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ot([hn,{provide:qt,useExisting:i,multi:!0}]),bt,dt],ngContentSelectors:un,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,n){if(t&1){let m=h();vt(),c(0,"div",3),p("click",function(ae){return g(m),_(n._preventBubblingFromLabel(ae))}),c(1,"div",4,0)(3,"div",5),p("click",function(){return g(m),_(n._onTouchTargetClick())}),a(),c(4,"input",6,1),p("blur",function(){return g(m),_(n._onBlur())})("click",function(){return g(m),_(n._onInputClick())})("change",function(ae){return g(m),_(n._onInteractionEvent(ae))}),a(),u(6,"div",7),c(7,"div",8),pt(),c(8,"svg",9),u(9,"path",10),a(),gt(),u(10,"div",11),a(),u(11,"div",12),a(),c(12,"label",13,2),kt(14),a()()}if(t&2){let m=ee(2);l("labelPosition",n.labelPosition),r(4),J("mdc-checkbox--selected",n.checked),l("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled&&!n.disabledInteractive)("id",n.inputId)("required",n.required)("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex),et("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-checked",n.indeterminate?"mixed":null)("aria-controls",n.ariaControls)("aria-disabled",n.disabled&&n.disabledInteractive?!0:null)("aria-expanded",n.ariaExpanded)("aria-owns",n.ariaOwns)("name",n.name)("value",n.value),r(7),l("matRippleTrigger",m)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),r(),l("for",n.inputId)}},dependencies:[zt,Bt],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();var N=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ft({type:i});static \u0275inj=mt({imports:[mn,nt,nt]})}return i})();var Mn=()=>[];function xn(i,o){if(i&1){let e=h();c(0,"span",4),p("click",function(){let n=g(e).index,m=s();return _(m.rate(n+1))})("mouseover",function(){let n=g(e).index,m=s();return _(m.hoverRate(n+1))})("mouseleave",function(){g(e);let n=s();return _(n.hoverRate(0))}),d(1," \u2605 "),a()}if(i&2){let e=o.index,t=s();J("interactive",t.canBeModified)("filled",e<t.displayRating())}}function vn(i,o){if(i&1){let e=h();c(0,"mat-icon",5),p("click",function(){g(e);let n=s();return _(n.resetRating())}),d(1,"clear"),a()}}var P=class i{rating=0;canBeModified=!0;size="large";ratingChanged=new v;displayRating=F(0);rate(o){this.canBeModified&&(this.setRating(o),this.ratingChanged.emit(this.rating))}hoverRate(o){this.canBeModified&&this.displayRating.set(o||this.rating)}setRating(o=this.rating){this.rating=o,this.displayRating.set(this.rating)}resetRating(){this.rate(0)}ngOnInit(){this.setRating()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-star-rating"]],inputs:{rating:"rating",canBeModified:"canBeModified",size:"size"},outputs:{ratingChanged:"ratingChanged"},decls:6,vars:6,consts:[[1,"container"],[1,"star-rating"],[3,"interactive","filled","click","mouseover","mouseleave",4,"ngFor","ngForOf"],["matTooltip","Reset rating","class","reset-icon",3,"click",4,"ngIf"],[3,"click","mouseover","mouseleave"],["matTooltip","Reset rating",1,"reset-icon",3,"click"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"div",1),C(2,xn,2,4,"span",2),a(),c(3,"p"),d(4),C(5,vn,2,0,"mat-icon",3),a()()),e&2&&(J("small",t.size==="small"),r(2),l("ngForOf",Pe(5,Mn).constructor(10)),r(2),x("Ocena: ",t.displayRating()," "),r(),l("ngIf",t.canBeModified&&t.rating>0))},dependencies:[ye,Ie,re,T,V,Le,Ue],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;width:max-content}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:flex;cursor:default;transition:color .2s ease}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]:hover   .interactive.filled[_ngcontent-%COMP%]{color:var(--golden-star-color-hover)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:hover{transform:scale(1.25)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:active{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem;color:var(--text-color-grey);transition:color .2s}.container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span.filled[_ngcontent-%COMP%]{color:var(--golden-star-color)}.container.small[_ngcontent-%COMP%]{flex-direction:row;gap:var(--spacing-medium)}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.4rem}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]{transition:transform .1s}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container.small[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]:active{transform:scale(1.05)}.container.small[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{font-size:var(--font-size-small)}.container.small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-additional);margin:var(--spacing-xs) 0 0}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-small) 0;color:var(--text-color-additional);display:flex;align-items:center;gap:var(--spacing-small);justify-content:center}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--font-size-base);border-radius:50%;color:var(--text-color-grey);display:flex;align-items:center;justify-content:center;transition:all .2s ease-in-out}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]:hover{background-color:var(--light-color);transform:scale(1.1);color:var(--danger-color-hover)}.container[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})};function kn(i,o){if(i&1&&(c(0,"a",4),u(1,"img",5),a()),i&2){let e=s();l("href",e.collectionItem().item.sourceUrl,I),r(),l("src",e.collectionItem().item.imageUrl,I)}}function On(i,o){if(i&1&&u(0,"img",5),i&2){let e=s();l("src",e.collectionItem().item.imageUrl,I)}}function Pn(i,o){if(i&1&&(c(0,"span",8),d(1),R(2,"date"),a()),i&2){let e=s();r(),x("(",te(2,1,e.collectionItem().item.releaseDate,"yyyy"),")")}}function In(i,o){if(i&1){let e=h();c(0,"div",12)(1,"button",15)(2,"mat-icon"),d(3,"more_vert"),a()(),c(4,"mat-menu",null,0)(6,"button",16),p("click",function(){g(e);let n=s();return _(n.onToDoStatusChange())}),c(7,"mat-icon"),d(8),a(),c(9,"span"),d(10),a()(),c(11,"button",16),p("click",function(){g(e);let n=s();return _(n.onDeleteItem())}),c(12,"mat-icon"),d(13,"delete"),a(),c(14,"span"),d(15,"Delete"),a()()()()}if(i&2){let e=ee(5),t=s();r(),l("matMenuTriggerFor",e),r(7),O(t.collectionItem().toDo?"check_circle":"unpublished"),r(2),O(t.collectionItem().toDo?"Done":"To-do")}}var He=class i{ratingComponent;deleteItem=new v;changeToDoStatus=new v;changeRating=new v;rawCollectionItem=k.required();isOwner=k.required();collectionItem=U(()=>{let o=this.rawCollectionItem();if(o.itemType!=="media")throw new Error(`Expected Media item, got ${o.itemType}`);return o});onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-media-item"]],viewQuery:function(e,t){if(e&1&&y(P,5),e&2){let n;w(n=S())&&(t.ratingComponent=n.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:22,vars:13,consts:[["menu","matMenu"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["target","_blank","rel","noopener",1,"image-url",3,"href"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year"],["size","small",3,"ratingChanged","rating","canBeModified"],[3,"innerHTML"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,t){if(e&1&&(c(0,"mat-card",1)(1,"div",2)(2,"div",3),C(3,kn,2,2,"a",4)(4,On,1,1,"img",5),a(),c(5,"div",6)(6,"mat-card-header",7)(7,"div")(8,"mat-card-title"),d(9),C(10,Pn,3,4,"span",8),a(),c(11,"mat-card-subtitle"),d(12),a()(),c(13,"app-star-rating",9),p("ratingChanged",function(m){return t.onRatingChange(m)}),a()(),c(14,"mat-card-content"),u(15,"p",10),a()()(),c(16,"div",11),C(17,In,16,3,"div",12),u(18,"div",13),c(19,"p",14),d(20),R(21,"date"),a()()()),e&2){let n;r(3),M(t.collectionItem().item.imageUrl&&t.collectionItem().item.sourceUrl?3:t.collectionItem().item.imageUrl?4:-1),r(6),x("",t.collectionItem().item.title," "),r(),M(t.collectionItem().item.releaseDate?10:-1),r(2),x(" ",t.collectionItem().item.genre," "),r(),l("rating",(n=t.collectionItem().rating)!==null&&n!==void 0?n:0)("canBeModified",t.isOwner()),r(2),l("innerHTML",t.collectionItem().item.overview,W),r(2),M(t.isOwner()?17:-1),r(3),O(q(21,9,t.collectionItem().addedAt,"longDate","pl"))}},dependencies:[z,H,$,X,me,G,N,T,V,L,P,Y,ge,pe,_e,E,ie,K,B],styles:[".collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]})};var fe=class i{showButton=k(!1);static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-edit-text-button"]],inputs:{showButton:[1,"showButton"]},decls:3,vars:1,consts:[["mat-icon-button","",1,"title-edit-button",3,"ngClass"]],template:function(e,t){e&1&&(c(0,"button",0)(1,"mat-icon"),d(2,"edit"),a()()),e&2&&l("ngClass",t.showButton()?"visible-button":"hidden-button")},dependencies:[wt,T,V,E,ie],styles:[".hidden-button[_ngcontent-%COMP%]{visibility:hidden}.visible-button[_ngcontent-%COMP%]{visibility:visible}"]})};function yn(i,o){if(i&1){let e=h();c(0,"app-edit-text-button",17),p("click",function(){g(e);let n=s();return _(n.startEditingTitle())}),a()}if(i&2){let e=s();l("showButton",e.shouldShowEditTitleButton())}}function wn(i,o){if(i&1){let e=h();c(0,"app-edit-text-button",18),p("click",function(){g(e);let n=s();return _(n.startEditingDescription())}),a()}if(i&2){let e=s();l("showButton",e.shouldShowEditDescriptionButton())}}function Sn(i,o){if(i&1){let e=h();c(0,"div",14)(1,"button",19)(2,"mat-icon"),d(3,"more_vert"),a()(),c(4,"mat-menu",null,0)(6,"button",20),p("click",function(){g(e);let n=s();return _(n.onToDoStatusChange())}),c(7,"mat-icon"),d(8),a(),c(9,"span"),d(10),a()(),c(11,"button",20),p("click",function(){g(e);let n=s();return _(n.onDeleteItem())}),c(12,"mat-icon"),d(13,"delete"),a(),c(14,"span"),d(15,"Delete"),a()()()()}if(i&2){let e=ee(5),t=s();r(),l("matMenuTriggerFor",e),r(7),O(t.collectionItem().toDo?"check_circle":"unpublished"),r(2),O(t.collectionItem().toDo?"Done":"To-do")}}var $e=class i{ratingComponent;deleteItem=new v;changeToDoStatus=new v;changeRating=new v;rawCollectionItem=k.required();isOwner=k.required();collectionStateService=f(Q);collectionItem=U(()=>{let o=this.rawCollectionItem();if(o.itemType!=="custom")throw new Error(`Expected Custom item, got ${o.itemType}`);return o});isEditingTitle=F(!1);isEditingDescription=F(!1);showEditTitleButton=F(!1);shouldShowEditTitleButton=U(()=>this.showEditTitleButton()&&!this.isEditingTitle());showEditDescriptionButton=F(!1);shouldShowEditDescriptionButton=U(()=>this.showEditDescriptionButton()&&!this.isEditingDescription());onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}startEditingTitle(){this.isEditingTitle.set(!0)}confirmTitleEdit(o){this.collectionStateService.updateCustomItemTitle(this.collectionItem(),o),this.isEditingTitle.set(!1)}startEditingDescription(){this.isEditingDescription.set(!0)}confirmDescriptionEdit(o){this.collectionStateService.updateCustomItemDescription(this.collectionItem(),o),this.isEditingDescription.set(!1)}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-custom-item"]],viewQuery:function(e,t){if(e&1&&y(P,5),e&2){let n;w(n=S())&&(t.ratingComponent=n.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:21,vars:17,consts:[["menu","matMenu"],[1,"collection-item"],[1,"item-container"],[1,"item-details"],[1,"item-header"],[1,"custom-item-title-container",3,"mouseenter","mouseleave"],[3,"editEnd","text","isEditing"],[1,"title-edit-button",3,"showButton"],["size","small",3,"ratingChanged","rating","canBeModified"],[1,"custom-description-containter",3,"mouseenter","mouseleave"],[1,"description-header-containter"],[1,"description-edit-button",3,"showButton"],[3,"editEnd","text","isEditing","isHeader"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],[1,"title-edit-button",3,"click","showButton"],[1,"description-edit-button",3,"click","showButton"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,t){if(e&1&&(c(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"mat-card-header",4)(4,"div",5),p("mouseenter",function(){return t.showEditTitleButton.set(!0)})("mouseleave",function(){return t.showEditTitleButton.set(!1)}),c(5,"mat-card-title")(6,"app-editable-text-field",6),p("editEnd",function(m){return t.confirmTitleEdit(m)}),a(),C(7,yn,1,1,"app-edit-text-button",7),a()(),c(8,"app-star-rating",8),p("ratingChanged",function(m){return t.onRatingChange(m)}),a()(),c(9,"mat-card-content",9),p("mouseenter",function(){return t.showEditDescriptionButton.set(!0)})("mouseleave",function(){return t.showEditDescriptionButton.set(!1)}),c(10,"div",10)(11,"p"),d(12,"Description"),a(),C(13,wn,1,1,"app-edit-text-button",11),a(),c(14,"app-editable-text-field",12),p("editEnd",function(m){return t.confirmDescriptionEdit(m)}),a()()()(),c(15,"div",13),C(16,Sn,16,3,"div",14),u(17,"div",15),c(18,"p",16),d(19),R(20,"date"),a()()()),e&2){let n;r(6),J("is-editing",t.isEditingTitle()),l("text",t.collectionItem().item.title)("isEditing",t.isEditingTitle()),r(),M(t.isOwner()?7:-1),r(),l("rating",(n=t.collectionItem().rating)!==null&&n!==void 0?n:0)("canBeModified",t.isOwner()),r(5),M(t.isOwner()?13:-1),r(),l("text",t.collectionItem().item.description)("isEditing",t.isEditingDescription())("isHeader",!1),r(2),M(t.isOwner()?16:-1),r(3),O(q(20,13,t.collectionItem().addedAt,"longDate","pl"))}},dependencies:[z,H,$,X,G,N,T,V,L,P,Y,ge,pe,_e,E,ie,K,je,fe],styles:[".collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]})};function En(i,o){if(i&1&&(c(0,"span",7),d(1),R(2,"date"),a()),i&2){let e=s();r(),x("(",te(2,1,e.collectionItem().item.airDate,"yyyy"),")")}}function Tn(i,o){if(i&1&&(c(0,"p",12),d(1),R(2,"date"),a()),i&2){let e=s();r(),O(q(2,1,e.collectionItem().addedAt,"longDate","pl"))}}var Xe=class i{ratingChange=new v;ratingComponent;collectionItem=k.required();seasonNumber=k.required();isOwner=k.required();onRatingChange(o){let e={value:o,previousValue:this.collectionItem().rating,episodeApiId:this.collectionItem().item.apiId,episodeCollectionItemId:this.collectionItem().id,ratingComponent:this.ratingComponent};this.ratingChange.emit(e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-episode-item"]],viewQuery:function(e,t){if(e&1&&y(P,5),e&2){let n;w(n=S())&&(t.ratingComponent=n.first)}},inputs:{collectionItem:[1,"collectionItem"],seasonNumber:[1,"seasonNumber"],isOwner:[1,"isOwner"]},outputs:{ratingChange:"ratingChange"},decls:21,vars:10,consts:[[1,"collection-item"],[1,"item-container"],[1,"image-container"],["height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"episode-number"],[1,"year"],["size","small",3,"ratingChanged","rating","canBeModified"],[3,"innerHTML"],[1,"spacer"],[1,"right-panel"],[1,"added-at"]],template:function(e,t){if(e&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2),u(3,"img",3),a(),c(4,"div",4)(5,"mat-card-header",5)(6,"div")(7,"mat-card-title")(8,"span",6),d(9),a(),d(10),C(11,En,3,4,"span",7),a(),c(12,"mat-card-subtitle"),d(13),a()(),c(14,"app-star-rating",8),p("ratingChanged",function(m){return t.onRatingChange(m)}),a()(),c(15,"mat-card-content"),u(16,"p",9),a(),u(17,"div",10),a()(),c(18,"div",11),u(19,"div",10),C(20,Tn,3,5,"p",12),a()()),e&2){let n;r(3),l("src",t.collectionItem().item.imageUrl,I),r(6),be("s",t.seasonNumber(),"e",t.collectionItem().item.episodeNumber,""),r(),x(" ",t.collectionItem().item.name," "),r(),M(t.collectionItem().item.airDate?11:-1),r(2),x(" ",t.collectionItem().item.length," minutes "),r(),l("rating",(n=t.collectionItem().rating)!==null&&n!==void 0?n:0)("canBeModified",t.isOwner()),r(2),l("innerHTML",t.collectionItem().item.overview,W),r(4),M(t.collectionItem().id>0?20:-1)}},dependencies:[z,H,$,X,me,G,N,T,L,P,Y,E,K,B,Ce],styles:[".collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.episode-number[_ngcontent-%COMP%]{color:var(--text-color-grey);margin-right:var(--spacing-xs)}"]})};var Rn=(i,o)=>o.item.apiId;function Vn(i,o){if(i&1&&(c(0,"span",6),d(1),R(2,"date"),a()),i&2){let e=s();r(),x("(",te(2,1,e.collectionItem().item.airDate,"yyyy"),")")}}function Fn(i,o){if(i&1&&(c(0,"p",12),d(1),R(2,"date"),a()),i&2){let e=s();r(),O(q(2,1,e.collectionItem().addedAt,"longDate","pl"))}}function zn(i,o){if(i&1){let e=h();c(0,"app-collection-episode-item",16),p("ratingChange",function(n){g(e);let m=s();return _(m.onEpisodeRatingChange(n))}),a()}if(i&2){let e=o.$implicit,t=s();l("collectionItem",e)("isOwner",t.isOwner())("seasonNumber",t.collectionItem().item.seasonNumber)}}var Ke=class i{ratingChange=new v;ratingComponent;collectionItem=k.required();isOwner=k.required();expanded=!1;toggleExpanded(){this.expanded=!this.expanded}onRatingChange(o){let e={value:o,previousValue:this.collectionItem().rating,seasonApiId:this.collectionItem().item.apiId,seasonCollectionItemId:this.collectionItem().id,ratingComponent:this.ratingComponent};this.ratingChange.emit(e)}onEpisodeRatingChange(o){o.seasonApiId=this.collectionItem().item.apiId,o.seasonCollectionItemId=this.collectionItem().id,this.ratingChange.emit(o)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-season-item"]],viewQuery:function(e,t){if(e&1&&y(P,5),e&2){let n;w(n=S())&&(t.ratingComponent=n.first)}},inputs:{collectionItem:[1,"collectionItem"],isOwner:[1,"isOwner"]},outputs:{ratingChange:"ratingChange"},decls:26,vars:10,consts:[[1,"collection-item"],[1,"item-container"],[1,"image-container"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year"],["size","small",3,"ratingChanged","rating","canBeModified"],[3,"innerHTML"],[1,"spacer"],["mat-button","",1,"expander-button",3,"click"],[1,"right-panel"],[1,"added-at"],["hideToggle","",1,"expander",3,"expanded"],[1,"items-list"],[3,"collectionItem","isOwner","seasonNumber"],[3,"ratingChange","collectionItem","isOwner","seasonNumber"]],template:function(e,t){if(e&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2),u(3,"img",3),a(),c(4,"div",4)(5,"mat-card-header",5)(6,"div")(7,"mat-card-title"),d(8),C(9,Vn,3,4,"span",6),a()(),c(10,"app-star-rating",7),p("ratingChanged",function(m){return t.onRatingChange(m)}),a()(),c(11,"mat-card-content"),u(12,"p",8),a(),u(13,"div",9),c(14,"mat-card-actions")(15,"button",10),p("click",function(){return t.toggleExpanded()}),c(16,"mat-icon"),d(17),a(),d(18),a()()()(),c(19,"div",11),u(20,"div",9),C(21,Fn,3,5,"p",12),a()(),c(22,"mat-expansion-panel",13)(23,"div",14),oe(24,zn,1,3,"app-collection-episode-item",15,Rn),a()()),e&2){let n;r(3),l("src",t.collectionItem().item.imageUrl,I),r(5),x("",t.collectionItem().item.name," "),r(),M(t.collectionItem().item.airDate?9:-1),r(),l("rating",(n=t.collectionItem().rating)!==null&&n!==void 0?n:0)("canBeModified",t.isOwner()),r(2),l("innerHTML",t.collectionItem().item.overview,W),r(5),x("",t.expanded?"arrow_drop_up":"arrow_drop_down","arrow_drop_down"),r(),x(" ",t.collectionItem().item.episodes.length," episodes "),r(3),M(t.collectionItem().id>0?21:-1),r(),l("expanded",t.expanded),r(2),ce(t.collectionItem().item.episodes)}},dependencies:[z,H,Se,$,X,G,N,T,V,L,P,Y,E,le,K,B,Ce,Qe,Xe],styles:[".collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.expander-button[_ngcontent-%COMP%]{color:var(--text-color-additional)}.expander[_ngcontent-%COMP%]{background-color:var(--background-color);box-shadow:none!important;padding-right:0!important}.expander[_ngcontent-%COMP%]   .items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-small)}"]})};var Bn=(i,o)=>o.item.apiId;function An(i,o){if(i&1&&(c(0,"a",4),u(1,"img",5),a()),i&2){let e=s();l("href",e.collectionItem().item.sourceUrl,I),r(),l("src",e.collectionItem().item.imageUrl,I)}}function Nn(i,o){if(i&1&&u(0,"img",5),i&2){let e=s();l("src",e.collectionItem().item.imageUrl,I)}}function jn(i,o){if(i&1&&(c(0,"span",8),d(1),R(2,"date"),a()),i&2){let e=s();r(),x("(",te(2,1,e.collectionItem().item.releaseDate,"yyyy"),")")}}function qn(i,o){if(i&1){let e=h();c(0,"div",13)(1,"button",19)(2,"mat-icon"),d(3,"more_vert"),a()(),c(4,"mat-menu",null,0)(6,"button",20),p("click",function(){g(e);let n=s();return _(n.onToDoStatusChange())}),c(7,"mat-icon"),d(8),a(),c(9,"span"),d(10),a()(),c(11,"button",20),p("click",function(){g(e);let n=s();return _(n.onDeleteItem())}),c(12,"mat-icon"),d(13,"delete"),a(),c(14,"span"),d(15,"Delete"),a()()()()}if(i&2){let e=ee(5),t=s();r(),l("matMenuTriggerFor",e),r(7),O(t.collectionItem().toDo?"check_circle":"unpublished"),r(2),O(t.collectionItem().toDo?"Done":"To-do")}}function Un(i,o){if(i&1){let e=h();c(0,"app-collection-season-item",21),p("ratingChange",function(n){g(e);let m=s();return _(m.onSubItemRatingChange(n))}),a()}if(i&2){let e=o.$implicit,t=s();l("collectionItem",e)("isOwner",t.isOwner())}}var Ye=class i{ratingComponent;deleteItem=new v;changeToDoStatus=new v;changeRating=new v;rawCollectionItem=k.required();isOwner=k.required();collectionDetailsStateService=f(Q);collectionItem=U(()=>{let o=this.rawCollectionItem();if(o.itemType!=="series")throw new Error(`Expected Series item, got ${o.itemType}`);return o});expanded=!1;toggleExpanded(){this.expanded=!this.expanded}onRatingChange(o){this.changeRating.emit({value:o,ratingComponent:this.ratingComponent})}onToDoStatusChange(){this.changeToDoStatus.emit()}onDeleteItem(){this.deleteItem.emit(this.collectionItem().item.title)}onSubItemRatingChange(o){o.seriesCollectionItemId=this.collectionItem().id,this.collectionDetailsStateService.updateSeriesSubItemRating(o).subscribe(e=>{e||o.ratingComponent.setRating(o.previousValue??0)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-series-item"]],viewQuery:function(e,t){if(e&1&&y(P,5),e&2){let n;w(n=S())&&(t.ratingComponent=n.first)}},inputs:{rawCollectionItem:[1,"rawCollectionItem"],isOwner:[1,"isOwner"]},outputs:{deleteItem:"deleteItem",changeToDoStatus:"changeToDoStatus",changeRating:"changeRating"},decls:31,vars:16,consts:[["menu","matMenu"],[1,"collection-item"],[1,"item-container"],[1,"image-container"],["target","_blank","rel","noopener",1,"image-url",3,"href"],["width","112","height","170","appImgFallback","media-item-placeholder.png","alt","Media Item Image","draggable","false",1,"item-image",3,"src"],[1,"item-details"],[1,"item-header"],[1,"year"],["size","small",3,"ratingChanged","rating","canBeModified"],[3,"innerHTML"],["mat-button","",1,"expander-button",3,"click"],[1,"right-panel"],[1,"item-actions"],[1,"spacer"],[1,"added-at"],["hideToggle","",1,"expander",3,"expanded"],[1,"items-list"],[3,"collectionItem","isOwner"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[3,"ratingChange","collectionItem","isOwner"]],template:function(e,t){if(e&1&&(c(0,"mat-card",1)(1,"div",2)(2,"div",3),C(3,An,2,2,"a",4)(4,Nn,1,1,"img",5),a(),c(5,"div",6)(6,"mat-card-header",7)(7,"div")(8,"mat-card-title"),d(9),C(10,jn,3,4,"span",8),a(),c(11,"mat-card-subtitle"),d(12),a()(),c(13,"app-star-rating",9),p("ratingChanged",function(m){return t.onRatingChange(m)}),a()(),c(14,"mat-card-content"),u(15,"p",10),a(),c(16,"mat-card-actions")(17,"button",11),p("click",function(){return t.toggleExpanded()}),c(18,"mat-icon"),d(19),a(),d(20),a()()()(),c(21,"div",12),C(22,qn,16,3,"div",13),u(23,"div",14),c(24,"p",15),d(25),R(26,"date"),a()()(),c(27,"mat-expansion-panel",16)(28,"div",17),oe(29,Un,1,2,"app-collection-season-item",18,Bn),a()()),e&2){let n;r(3),M(t.collectionItem().item.imageUrl&&t.collectionItem().item.sourceUrl?3:t.collectionItem().item.imageUrl?4:-1),r(6),x("",t.collectionItem().item.title," "),r(),M(t.collectionItem().item.releaseDate?10:-1),r(2),x(" ",t.collectionItem().item.genre," "),r(),l("rating",(n=t.collectionItem().rating)!==null&&n!==void 0?n:0)("canBeModified",t.isOwner()),r(2),l("innerHTML",t.collectionItem().item.overview,W),r(4),x("",t.expanded?"arrow_drop_up":"arrow_drop_down","arrow_drop_down"),r(),x(" ",t.collectionItem().item.length," seasons "),r(2),M(t.isOwner()?22:-1),r(3),O(q(26,12,t.collectionItem().addedAt,"longDate","pl")),r(2),l("expanded",t.expanded),r(2),ce(t.collectionItem().item.seasons)}},dependencies:[z,H,Se,$,X,me,G,N,T,V,L,P,Y,ge,pe,_e,E,le,ie,K,B,Ke,Ce,Qe],styles:[".collection-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--spacing-small);min-height:150px;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{cursor:pointer}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]:hover{opacity:.7}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{border-radius:var(--border-radius-medium)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);font-weight:var(--font-weight-bold)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:var(--text-color-grey);font-weight:var(--font-weight-normal)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field[_ngcontent-%COMP%]{width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   app-editable-text-field.is-editing[_ngcontent-%COMP%]{width:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .custom-item-title-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-edit-button[_ngcontent-%COMP%]{transform:scale(.8);width:38px;height:38px;display:flex;justify-content:center;align-items:center}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]{height:100%}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-edit-button[_ngcontent-%COMP%]{transform:scale(.8)}.collection-item[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .custom-description-containter[_ngcontent-%COMP%]   .description-header-containter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--spacing-small)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;gap:var(--spacing-xs)}.collection-item[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .added-at[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--text-color-grey);text-align:right;white-space:nowrap;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.expander-button[_ngcontent-%COMP%]{color:var(--text-color-additional)}.expander[_ngcontent-%COMP%]{background-color:var(--background-color);box-shadow:none!important;padding-right:0!important}.expander[_ngcontent-%COMP%]   .items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-small)}"]})};function Ln(i,o){if(i&1){let e=h();c(0,"app-collection-media-item",1),p("changeToDoStatus",function(){g(e);let n=s();return _(n.onToDoStatusChange())})("deleteItem",function(n){g(e);let m=s();return _(m.onDeleteItem(n))})("changeRating",function(n){g(e);let m=s();return _(m.onRatingChange(n))}),a()}if(i&2){let e=s();l("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())}}function Qn(i,o){if(i&1){let e=h();c(0,"app-collection-custom-item",1),p("changeToDoStatus",function(){g(e);let n=s();return _(n.onToDoStatusChange())})("deleteItem",function(n){g(e);let m=s();return _(m.onDeleteItem(n))})("changeRating",function(n){g(e);let m=s();return _(m.onRatingChange(n))}),a()}if(i&2){let e=s();l("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())}}function Hn(i,o){if(i&1){let e=h();c(0,"app-collection-series-item",1),p("changeToDoStatus",function(){g(e);let n=s();return _(n.onToDoStatusChange())})("deleteItem",function(n){g(e);let m=s();return _(m.onDeleteItem(n))})("changeRating",function(n){g(e);let m=s();return _(m.onRatingChange(n))}),a()}if(i&2){let e=s();l("rawCollectionItem",e.collectionItem())("isOwner",e.isOwner())}}var Ze=class i{collectionItem=k.required();collectionStateService=f(Q);dialogService=f(Ne);ItemType=Me;isOwner=this.collectionStateService.isCollectionOwner;onRatingChange({value:o,ratingComponent:e}){let t={id:this.collectionItem().id,rating:o};this.collectionStateService.updateItemRating(t).subscribe(n=>{n||e.setRating(this.collectionItem().rating)})}onToDoStatusChange(){this.collectionStateService.toggleItemToDoStatus(this.collectionItem().id)}onDeleteItem(o){this.dialogService.openConfirmDeleteDialog(o??"").subscribe(e=>{e&&this.collectionStateService.deleteCollectionItem(this.collectionItem().id)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-item"]],inputs:{collectionItem:[1,"collectionItem"]},decls:3,vars:1,consts:[[3,"rawCollectionItem","isOwner"],[3,"changeToDoStatus","deleteItem","changeRating","rawCollectionItem","isOwner"]],template:function(e,t){if(e&1&&C(0,Ln,1,2,"app-collection-media-item",0)(1,Qn,1,2,"app-collection-custom-item",0)(2,Hn,1,2,"app-collection-series-item",0),e&2){let n;M((n=t.collectionItem().itemType)===t.ItemType.Media?0:n===t.ItemType.Custom?1:n===t.ItemType.Series?2:-1)}},dependencies:[He,$e,Ye],encapsulation:2})};function Xn(i,o){if(i&1){let e=h();c(0,"div",5),p("click",function(){let n=g(e).$implicit,m=s();return _(m.selectResult(n))}),u(1,"img",6),c(2,"span"),d(3),a()()}if(i&2){let e=o.$implicit;r(),tt("alt",e.title),l("src",e.imageUrl,I),r(2),be("",e.title," (",e.releaseYear,")")}}function Kn(i,o){if(i&1&&(c(0,"div",7),u(1,"img",6),c(2,"span"),d(3),a()()),i&2){let e=s();r(),tt("alt",e.selectedItem.title),l("src",e.selectedItem.imageUrl,I),r(2),be("",e.selectedItem.title," (",e.selectedItem.releaseYear,")")}}var We=class i{collectionId;itemSelected=new v;collectionItemService=f(At);sendSearchAfterDelay=new at;searchResults=F([]);selectedItem;isItemSelected=!1;onSearch(o){let e=o.target.value.trim();this.sendSearchAfterDelay.next(e)}selectResult(o){this.isItemSelected=!0,this.selectedItem=o,this.itemSelected.emit(this.selectedItem),this.searchResults.set([])}ngOnInit(){this.sendSearchAfterDelay.pipe(rt(500)).subscribe(o=>{this.isItemSelected=!1,o.length<1?this.searchResults.set([]):this.collectionItemService.searchMediaItems(this.collectionId,o).subscribe(e=>{this.searchResults.set(e)})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-media-item-search-bar"]],inputs:{collectionId:"collectionId"},outputs:{itemSelected:"itemSelected"},decls:7,vars:2,consts:[["appearance","fill",1,"form-field"],["matInput","",3,"input"],[1,"search-results"],["class","item result-item",3,"click",4,"ngFor","ngForOf"],["class","item selected-item",4,"ngIf"],[1,"item","result-item",3,"click"],["appImgFallback","media-item-placeholder.png","draggable","false","width","53.3","height","80",3,"src","alt"],[1,"item","selected-item"]],template:function(e,t){e&1&&(c(0,"mat-form-field",0)(1,"mat-label"),d(2,"Szukaj"),a(),c(3,"input",1),p("input",function(m){return t.onSearch(m)}),a()(),c(4,"div",2),C(5,Xn,4,4,"div",3)(6,Kn,4,4,"div",4),a()),e&2&&(r(5),l("ngForOf",t.searchResults()),r(),l("ngIf",t.isItemSelected))},dependencies:[Ie,re,se,Fe,Ve,de,ze,B],styles:[".form-field[_ngcontent-%COMP%]{width:100%;font-size:var(--font-size-h4);margin-top:var(--spacing-medium)}.search-results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-small);width:100%}.search-results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:left;padding:var(--spacing-small);border-radius:var(--border-radius-small)}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--light-color)}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:var(--background-color-light-hover)}.search-results[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid var(--background-color-lighter);background-color:var(--background-color)}.search-results[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-right:var(--spacing-small);border-radius:var(--border-radius-small);object-fit:cover}"]})};function Wn(i,o){i&1&&(c(0,"mat-error"),d(1," Name is required. "),a())}function Jn(i,o){if(i&1&&(c(0,"mat-error"),d(1),a()),i&2){let e=s();r(),x(" Maximum ",e.titleCtrl.getError("maxlength").requiredLength," characters. ")}}function ei(i,o){if(i&1&&(c(0,"mat-error"),d(1),a()),i&2){let e=s();r(),x(" Maximum ",e.descriptionCtrl.getError("maxlength").requiredLength," characters. ")}}var ve=class i{form=new Lt({title:new it("",[Ee.required,Ee.maxLength(100)]),description:new it("",Ee.maxLength(2e3))});get titleCtrl(){return this.form.get("title")}get descriptionCtrl(){return this.form.get("description")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-add-custom-item-form"]],decls:13,vars:4,consts:[["autosize","cdkTextareaAutosize"],["mat-dialog-content","",3,"formGroup"],["appearance","fill",1,"form-field"],["matInput","","formControlName","title","required",""],[4,"ngIf"],["appearance","fill",1,"form-field","textarea-field"],["matInput","","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","6",1,"auto-scroll-textarea"]],template:function(e,t){e&1&&(c(0,"form",1)(1,"mat-form-field",2)(2,"mat-label"),d(3,"Tytu\u0142"),a(),u(4,"input",3),C(5,Wn,2,0,"mat-error",4)(6,Jn,2,1,"mat-error",4),a(),c(7,"mat-form-field",5)(8,"mat-label"),d(9,"Opis"),a(),u(10,"textarea",6,0),C(12,ei,2,1,"mat-error",4),a()()),e&2&&(l("formGroup",t.form),r(5),l("ngIf",t.titleCtrl.hasError("required")),r(),l("ngIf",t.titleCtrl.hasError("maxlength")),r(6),l("ngIf",t.descriptionCtrl.hasError("maxlength")))},dependencies:[se,Fe,Ve,$t,ue,Re,De,jt,Ut,Te,Gt,Qt,Ht,de,ze,Xt,Ae,Be,we,qe,ye,re],styles:[".form-field[_ngcontent-%COMP%]{font-size:var(--font-size-h4);width:100%}.form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:var(--font-size-additional)}.form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{align-items:flex-start}.form-field[_ngcontent-%COMP%]   .auto-scroll-textarea[_ngcontent-%COMP%]{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{position:static}"]})};function ti(i,o){i&1&&(ke(0),u(1,"app-add-custom-item-form"),Oe())}function ni(i,o){if(i&1){let e=h();ke(0),c(1,"app-media-item-search-bar",9),p("itemSelected",function(n){g(e);let m=s();return _(m.onItemSelected(n))}),a(),Oe()}if(i&2){let e=s();r(),l("collectionId",e.data.collectionId)}}var Je=class i{customItemForm;data=f(en);collectionStateService=f(Q);dialogRef=f(Jt);toDo=!1;rating=0;selectedItem;onRatingChange(o){this.rating=o}onItemSelected(o){this.selectedItem=o}onToggleChange(o){this.toDo=o.checked}onSubmit(){switch(this.data.category){case"custom":this.addCustomItem();break;default:this.addMediaItem()}}onCancel(){this.dialogRef.close(void 0)}addCustomItem(){if(!this.customItemForm.form.valid)return;let{title:o,description:e}=this.customItemForm.form.value,t={collectionId:this.data.collectionId,title:o,description:e||"",rating:this.rating,toDo:this.toDo};this.collectionStateService.addCustomItem(t).subscribe(n=>{n&&this.dialogRef.close()})}addMediaItem(){if(!this.selectedItem?.apiId)return;let o={collectionId:this.data.collectionId,mediaItemApiId:this.selectedItem.apiId,rating:this.rating,toDo:this.toDo};this.collectionStateService.addMediaItem(o).subscribe(e=>{e&&this.dialogRef.close()})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-add-collection-item-dialog"]],viewQuery:function(e,t){if(e&1&&y(ve,5),e&2){let n;w(n=S())&&(t.customItemForm=n.first)}},decls:12,vars:3,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"title"],["mat-dialog-content","",3,"submit"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ratingChanged"],[3,"change","checked"],[3,"cancel","confirm"],[1,"item-form",3,"itemSelected","collectionId"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"h1",1),d(2,"Dodaj nowy przedmiot"),a(),c(3,"form",2),p("submit",function(m){return m.preventDefault()}),ke(4,3),C(5,ti,2,0,"ng-container",4)(6,ni,2,1,"ng-container",5),Oe(),c(7,"app-star-rating",6),p("ratingChanged",function(m){return t.onRatingChange(m)}),a(),c(8,"mat-slide-toggle",7),p("change",function(m){return t.onToggleChange(m)}),d(9,"W planach"),a()(),u(10,"hr"),c(11,"app-action-buttons",8),p("cancel",function(){return t.onCancel()})("confirm",function(){return t.onSubmit()}),a()()),e&2&&(r(4),l("ngSwitch",t.data.category),r(),l("ngSwitchCase","custom"),r(3),l("checked",t.toDo))},dependencies:[se,qe,de,Re,De,Te,ue,cn,Ae,nn,Be,we,St,Et,Tt,We,ve,P,E,on],styles:[".dialog-container[_ngcontent-%COMP%]{padding:var(--spacing-large)}.dialog-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-color);font-size:var(--font-size-h2);margin-bottom:var(--spacing-small)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-medium)}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item-form[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--background-color-lighter);height:2px;border:0}"]})};var ii=["mainContainer"],dn=(i,o)=>o.id,oi=i=>["/profile",i],ci=()=>({right:16,bottom:40});function ai(i,o){if(i&1){let e=h();c(0,"app-edit-text-button",16),p("click",function(){g(e);let n=s();return _(n.onRenameCollectionStart())}),a()}if(i&2){let e=s();l("showButton",e.shouldShowNameEditButton())}}function ri(i,o){if(i&1){let e=h();c(0,"div",9)(1,"button",17),p("click",function(){g(e);let n=s();return _(n.onPublicStatusChange())}),c(2,"mat-icon"),d(3),a()(),c(4,"button",18),p("click",function(){g(e);let n=s();return _(n.onDeleteCollection())}),c(5,"mat-icon"),d(6,"delete"),a()()()}if(i&2){let e,t,n=s();r(),l("matTooltip",(e=n.collection())!=null&&e.isPublic?"Make private":"Make public"),r(2),O((t=n.collection())!=null&&t.isPublic?"lock_open":"lock")}}function li(i,o){if(i&1&&u(0,"app-collection-item",13),i&2){let e=o.$implicit;l("collectionItem",e)}}function mi(i,o){if(i&1&&u(0,"app-collection-item",13),i&2){let e=o.$implicit;l("collectionItem",e)}}function si(i,o){if(i&1){let e=h();c(0,"app-floating-action-button",19),p("click",function(){g(e);let n=s();return _(n.onAddItem())}),a()}if(i&2){let e=s();l("parentContainer",e.container)("position",Pe(2,ci))}}var pn=class i{dialog=f(tn);collectionStateService=f(Q);dialogService=f(Ne);container;collection=this.collectionStateService.currentCollection;ratedItems=this.collectionStateService.currentRatedItems;todoItems=this.collectionStateService.currentToDoItems;owner=this.collectionStateService.currentCollectionOwner;isOwner=this.collectionStateService.isCollectionOwner;isEditingCollectionName=F(!1);showNameEditButton=F(!1);shouldShowNameEditButton=U(()=>this.showNameEditButton()&&!this.isEditingCollectionName());onRenameCollectionStart(){this.isEditingCollectionName.set(!0)}onRenameCollectionEnd(o){this.collectionStateService.renameCollection(o),this.isEditingCollectionName.set(!1)}onPublicStatusChange(){let o=!this.collection()?.isPublic;o?this.dialogService.openConfirmChangeCollectionStatusToPublicDialog().subscribe(e=>{e&&this.togglePublicStatus(o)}):this.togglePublicStatus(o)}onDeleteCollection(){this.dialogService.openConfirmDeleteDialog(this.collection()?.name??"").subscribe(o=>{o&&this.collectionStateService.deleteCollection()})}onAddItem(){this.dialog.open(Je,{width:"550px",data:{collectionId:this.collection()?.id,category:this.collection()?.category}})}togglePublicStatus(o){this.collectionStateService.changeCollectionPublicStatus(o)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-collection-details"]],viewQuery:function(e,t){if(e&1&&y(ii,5),e&2){let n;w(n=S())&&(t.container=n.first)}},decls:23,vars:12,consts:[["mainContainer",""],[1,"custom-header"],[1,"left-container"],[3,"routerLink"],["appImgFallback","user-avatar.png","alt","Profile Image","width","70","height","70","draggable","false",3,"src","matTooltip"],[1,"title-with-category-container"],[1,"title",3,"mouseenter","mouseleave"],[3,"editEnd","text","isEditing"],[1,"name-edit-button",3,"showButton"],[1,"actions"],[3,"animationDuration"],["label","Ocenione"],[1,"collection-items"],[3,"collectionItem"],["label","W planach"],[3,"parentContainer","position"],[1,"name-edit-button",3,"click","showButton"],["mat-stroked-button","",3,"click","matTooltip"],["matTooltip","Delete collection","mat-stroked-button","",1,"btn-danger",3,"click"],[3,"click","parentContainer","position"]],template:function(e,t){if(e&1){let n=h();c(0,"div",null,0)(2,"div",1)(3,"section",2)(4,"div",3),u(5,"img",4),a(),c(6,"div",5)(7,"div",6),p("mouseenter",function(){return g(n),_(t.showNameEditButton.set(!0))})("mouseleave",function(){return g(n),_(t.showNameEditButton.set(!1))}),c(8,"app-editable-text-field",7),p("editEnd",function(Z){return g(n),_(t.onRenameCollectionEnd(Z))}),a(),C(9,ai,1,1,"app-edit-text-button",8),a(),c(10,"p"),d(11),a()()(),C(12,ri,7,2,"div",9),a(),c(13,"mat-tab-group",10)(14,"mat-tab",11)(15,"div",12),oe(16,li,1,1,"app-collection-item",13,dn),a()(),c(18,"mat-tab",14)(19,"div",12),oe(20,mi,1,1,"app-collection-item",13,dn),a()()(),C(22,si,1,3,"app-floating-action-button",15),a()}if(e&2){let n,m,Z,ae,ct;r(4),l("routerLink",Pt(10,oi,(n=t.owner())==null?null:n.id)),r(),l("src",(m=(m=t.owner())==null?null:m.profilePictureUrl)!==null&&m!==void 0?m:"user-avatar.png",I)("matTooltip",(Z=t.owner())==null?null:Z.username),r(3),l("text",(ae=t.collection())==null?null:ae.name)("isEditing",t.isEditingCollectionName()),r(),M(t.isOwner()?9:-1),r(2),O((ct=t.collection())==null?null:ct.category),r(),M(t.isOwner()?12:-1),r(),l("animationDuration",0),r(3),ce(t.ratedItems()),r(4),ce(t.todoItems()),r(2),M(t.isOwner()?22:-1)}},dependencies:[z,ue,N,Ze,Wt,Dt,Zt,Kt,Yt,an,je,fe,T,V,E,le,Le,Ue,B],styles:[".custom-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--background-color);padding:var(--spacing-medium) 0;position:sticky;top:0;z-index:1000}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--spacing-medium)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;box-shadow:var(--shadow-medium);cursor:pointer;transition:transform .3s ease,box-shadow .3s ease}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:var(--shadow-heavy)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{transform:scale(.95)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;font-size:var(--font-size-h2);font-weight:var(--font-weight-bold)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .name-edit-button[_ngcontent-%COMP%]{display:flex;margin:-8px 0 0 var(--spacing-small)}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title-with-category-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--text-color-grey);margin:0}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-bold);color:var(--text-color-additional);text-decoration:none}.custom-header[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:var(--spacing-small)}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);transition:background-color .2s,color .2s}.custom-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-color-hover)}.collection-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-small);margin-top:var(--spacing-medium)}"]})};export{pn as CollectionDetailsComponent};
