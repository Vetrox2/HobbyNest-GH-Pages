import{a as K}from"./chunk-5EPH2VXO.js";import"./chunk-UMYJIUDX.js";import"./chunk-BWLKB7OI.js";import{a as q}from"./chunk-QYTQSEDS.js";import"./chunk-6GCO2BRC.js";import{a as F}from"./chunk-DOY7HE67.js";import"./chunk-G53EOHRJ.js";import"./chunk-6EEI6ZG5.js";import"./chunk-37VZEYXA.js";import"./chunk-6QQD2BWC.js";import"./chunk-EFUO5WB3.js";import"./chunk-HUJZVVKV.js";import"./chunk-QQTTX4SM.js";import"./chunk-XXWI5HUA.js";import{a as U}from"./chunk-H45XPOFK.js";import"./chunk-ITOU54WJ.js";import"./chunk-LWZQ6JOT.js";import{a as Y,b as J}from"./chunk-6RI4EBCT.js";import"./chunk-CG2SNRMW.js";import"./chunk-CK7GFSRL.js";import"./chunk-GB5FS4AS.js";import"./chunk-EKZ4N6IU.js";import{c as w,d as D,f as x,h as P}from"./chunk-HU7WFQWJ.js";import{ya as j}from"./chunk-KBHRRCXS.js";import{D as A,Ec as T,Ib as u,Jb as g,Kb as v,Lb as S,Nb as l,Pb as H,Sb as I,Tb as b,Vb as c,Wb as s,Xb as n,Xc as N,Yb as r,Zb as m,bc as $,hb as a,ia as L,jc as y,lc as f,mc as Q,nc as G,qc as E,ra as _,rb as C,rc as z,sa as h,sc as O,wc as p,z as W}from"./chunk-GTZL7DLP.js";var ie=["scrollContainer"],ne=["scrollWrapper"],oe=["*"],M=class e{scrollContainer;scrollWrapper;canScrollLeft=!1;canScrollRight=!1;scrollButtonVisible=!1;scrollSub;resizeObserver;ngAfterViewInit(){this.updateScrollButtons(),this.scrollSub=W(this.scrollContainer.nativeElement,"scroll").pipe(A(100)).subscribe(()=>this.updateScrollButtons()),this.resizeObserver=new ResizeObserver(()=>{this.onScrollContainerResized()}),this.resizeObserver.observe(this.scrollContainer.nativeElement)}ngOnDestroy(){this.scrollSub?.unsubscribe(),this.resizeObserver.disconnect()}onScrollContainerResized(){this.updateScrollButtons()}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:300,behavior:"smooth"}),setTimeout(()=>this.updateScrollButtons(),300)}updateScrollButtons(){this.scrollButtonVisible=this.scrollContainer.nativeElement.clientWidth===this.scrollWrapper.nativeElement.clientWidth;let t=this.scrollContainer.nativeElement;this.canScrollLeft=t.scrollLeft>0,this.canScrollRight=t.scrollLeft<t.scrollWidth-t.clientWidth}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-horizontal-scroll"]],viewQuery:function(i,o){if(i&1&&(E(ie,7),E(ne,7)),i&2){let d;z(d=O())&&(o.scrollContainer=d.first),z(d=O())&&(o.scrollWrapper=d.first)}},ngContentSelectors:oe,decls:11,vars:6,consts:[["scrollWrapper",""],["scrollContainer",""],[1,"scroll-wrapper"],[1,"scroll-btn","left",3,"click","disabled"],[1,"scroll-container",3,"scroll"],[1,"scroll-btn","right",3,"click","disabled"]],template:function(i,o){if(i&1){let d=$();Q(),n(0,"div",2,0)(2,"button",3),y("click",function(){return _(d),h(o.scrollLeft())}),n(3,"mat-icon"),p(4,"keyboard_arrow_left"),r()(),n(5,"div",4,1),y("scroll",function(){return _(d),h(o.updateScrollButtons())}),G(7),r(),n(8,"button",5),y("click",function(){return _(d),h(o.scrollRight())}),n(9,"mat-icon"),p(10,"keyboard_arrow_right"),r()()()}i&2&&(a(2),H("hidden",!o.scrollButtonVisible),l("disabled",!o.canScrollLeft),a(6),H("hidden",!o.scrollButtonVisible),l("disabled",!o.canScrollRight))},dependencies:[J,Y],styles:[".scroll-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;overflow:hidden;width:100%}.scroll-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:hidden;scroll-behavior:smooth;gap:var(--spacing-medium);padding:var(--spacing-medium) var(--spacing-small);width:fit-content}.scroll-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1;background-color:#000000e6;color:#fff;border:none;padding:var(--spacing-small) var(--spacing-medium);font-size:var(--font-size-base);border-radius:var(--border-radius-large);cursor:pointer;transition:opacity .2s ease-in-out}.scroll-btn.left[_ngcontent-%COMP%]{left:var(--spacing-small)}.scroll-btn.right[_ngcontent-%COMP%]{right:var(--spacing-small)}.scroll-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:default}.scroll-btn.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}"]})};var Z=(e,t)=>t.id,R=(e,t)=>t.itemApiId,B=()=>[F],V=()=>[];function re(e,t){if(e&1&&m(0,"app-collection-tile",2),e&2){let i=t.$implicit;l("@fadeIn",void 0)("collection",i)}}function le(e,t){if(e&1&&(n(0,"section")(1,"h2"),p(2,"Recently Modified"),r(),n(3,"app-horizontal-scroll"),c(4,re,1,2,"app-collection-tile",2,Z),r()()),e&2){let i=f();a(4),s(i.recentModifiedCollections())}}function ae(e,t){if(e&1&&m(0,"app-media-item-tile",3),e&2){let i=t.$implicit;l("@fadeIn",void 0)("mediaItem",i)}}function ce(e,t){if(e&1&&(n(0,"section")(1,"h2"),p(2,"Trending Among Friends"),r(),n(3,"app-horizontal-scroll"),c(4,ae,1,2,"app-media-item-tile",3,Z),r()()),e&2){let i=f();a(4),s(i.trendingAmongFriends())}}function se(e,t){if(e&1&&m(0,"app-media-item-tile",3),e&2){let i=t.$implicit;l("@fadeIn",void 0)("mediaItem",i)}}function me(e,t){if(e&1&&c(0,se,1,2,"app-media-item-tile",3,R),e&2){let i=f();s(i.trendingMovies())}}function pe(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&l("@fadeOut",void 0)}function de(e,t){e&1&&c(0,pe,1,1,"app-media-item-tile-placeholder",null,b),e&2&&s(T(0,V).constructor(10))}function fe(e,t){if(e&1&&m(0,"app-media-item-tile",3),e&2){let i=t.$implicit;l("@fadeIn",void 0)("mediaItem",i)}}function ue(e,t){if(e&1&&c(0,fe,1,2,"app-media-item-tile",3,R),e&2){let i=f();s(i.trendingSeries())}}function _e(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&l("@fadeOut",void 0)}function he(e,t){e&1&&c(0,_e,1,1,"app-media-item-tile-placeholder",null,b),e&2&&s(T(0,V).constructor(10))}function Ce(e,t){if(e&1&&m(0,"app-media-item-tile",3),e&2){let i=t.$implicit;l("@fadeIn",void 0)("mediaItem",i)}}function ge(e,t){if(e&1&&c(0,Ce,1,2,"app-media-item-tile",3,R),e&2){let i=f();s(i.trendingGames())}}function ve(e,t){e&1&&m(0,"app-media-item-tile-placeholder"),e&2&&l("@fadeOut",void 0)}function Se(e,t){e&1&&c(0,ve,1,1,"app-media-item-tile-placeholder",null,b),e&2&&s(T(0,V).constructor(10))}var X=class e{homeService=L(q);recentModifiedCollections=N(()=>this.homeService.recentModifiedCollections().slice(0,10));trendingAmongFriends=this.homeService.trendingAmongFriends;trendingMovies=this.homeService.trendingMovies;trendingGames=this.homeService.trendingGames;trendingSeries=this.homeService.trendingSeries;ngOnInit(){this.homeService.fetchData()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-home"]],decls:27,vars:5,consts:[[500],[1,"main-container"],[1,"collection-tile",3,"collection"],[3,"mediaItem"]],template:function(i,o){i&1&&(n(0,"div",1),u(1,le,6,0,"section")(2,ce,6,0,"section"),n(3,"section")(4,"h2"),p(5,"Trending Movies"),r(),n(6,"app-horizontal-scroll"),u(7,me,2,0)(8,de,2,1),v(9,7,B,null,8,null,null,0,g),r()(),n(11,"section")(12,"h2"),p(13,"Trending Series"),r(),n(14,"app-horizontal-scroll"),u(15,ue,2,0)(16,he,2,1),v(17,15,B,null,16,null,null,0,g),r()(),n(19,"section")(20,"h2"),p(21,"Trending Games"),r(),n(22,"app-horizontal-scroll"),u(23,ge,2,0)(24,Se,2,1),v(25,23,B,null,24,null,null,0,g),r()()()),i&2&&(a(),I(o.recentModifiedCollections().length>0?1:-1),a(),I(o.trendingAmongFriends().length>0?2:-1),a(7),S(o.trendingMovies().length>0),a(8),S(o.trendingSeries().length>0),a(8),S(o.trendingGames().length>0))},dependencies:[M,K,F,U,j],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xxl)}.main-container[_ngcontent-%COMP%]   .collection-tile[_ngcontent-%COMP%]{width:250px}.main-container[_ngcontent-%COMP%]   app-horizontal-scroll[_ngcontent-%COMP%]{display:flex;margin:0 calc(-1 * var(--spacing-small))}"],data:{animation:[w("fadeOut",[P(":leave",[D("500ms ease-out",x({opacity:0}))])]),w("fadeIn",[P(":enter",[x({opacity:0}),D("600ms ease-in",x({opacity:1}))])])]}})};export{X as HomeComponent};
