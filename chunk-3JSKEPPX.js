import{a as y,b as V}from"./chunk-LQ337VE2.js";import{a as T}from"./chunk-QQTBYX4Q.js";import{e as U}from"./chunk-NZOIZJP2.js";import{f as B}from"./chunk-3OMDW2B2.js";import{a as j}from"./chunk-6YTSYAD3.js";import{a as q,b as N}from"./chunk-3354VIHL.js";import{a as E,b as D,i as R}from"./chunk-BQHFBY6P.js";import{b as A,f as I}from"./chunk-4JQI7GWC.js";import{s as k}from"./chunk-R5CXRUDK.js";import{Y as S}from"./chunk-W36LFFSO.js";import{Cc as d,Dc as x,Ec as p,Ka as w,Lc as P,Ob as C,Tb as u,Yb as h,bc as r,cc as a,cd as v,dc as F,hc as g,jb as O,ma as f,nb as c,pc as _,rc as o,wa as l,xa as m,xb as b}from"./chunk-YUWHBJVV.js";function X(n,s){if(n&1){let t=g();r(0,"button",4),_("click",function(){l(t);let i=o(2);return m(i.deleteFriend())})("mouseenter",function(){l(t);let i=o(2);return m(i.hoverAddFriendButton=!0)})("mouseleave",function(){l(t);let i=o(2);return m(i.hoverAddFriendButton=!1)}),r(1,"mat-icon"),d(2),a(),d(3),a()}if(n&2){let t=o().$implicit,e=o();c(2),x(e.hoverAddFriendButton?"person_remove":"how_to_reg"),c(),p(" ",e.actionButtonsSmall?"":e.hoverAddFriendButton?t("friend.actions.deleteFriend"):t("friend.actions.friends")," ")}}function G(n,s){if(n&1){let t=g();r(0,"button",4),_("click",function(){l(t);let i=o(2);return m(i.deleteFriend())})("mouseenter",function(){l(t);let i=o(2);return m(i.hoverAddFriendButton=!0)})("mouseleave",function(){l(t);let i=o(2);return m(i.hoverAddFriendButton=!1)}),r(1,"mat-icon"),d(2),a(),d(3),a()}if(n&2){let t=o().$implicit,e=o();c(2),x(e.hoverAddFriendButton?"person_remove":"hourglass_empty"),c(),p(" ",e.actionButtonsSmall?"":e.hoverAddFriendButton?t("friend.actions.cancelRequest"):t("friend.actions.requestSent")," ")}}function H(n,s){if(n&1){let t=g();r(0,"button",5),_("click",function(){l(t);let i=o(2);return m(i.acceptFriendRequest())}),r(1,"mat-icon"),d(2,"done"),a(),d(3),a(),r(4,"button",6),_("click",function(){l(t);let i=o(2);return m(i.deleteFriend())}),r(5,"mat-icon"),d(6,"close"),a(),d(7),a()}if(n&2){let t=o().$implicit,e=o();c(3),p(" ",e.actionButtonsSmall?"":t("friend.actions.accept")," "),c(4),p(" ",e.actionButtonsSmall?"":t("friend.actions.decline")," ")}}function J(n,s){if(n&1){let t=g();r(0,"button",5),_("click",function(){l(t);let i=o(2);return m(i.addFriend())}),r(1,"mat-icon"),d(2,"person_add"),a(),d(3),a()}if(n&2){let t=o().$implicit,e=o();c(3),p(" ",e.actionButtonsSmall?"":t("friend.actions.addFriend")," ")}}function K(n,s){if(n&1&&(r(0,"div",1),C(1,X,4,2,"button",2)(2,G,4,2,"button",2)(3,H,8,2)(4,J,4,1,"button",3),a()),n&2){let t,e=o();u("ngClass",e.actionButtonsSmall?"smallButton":""),c(),h((t=e.relationStatus())===e.friendStatus.Accepted?1:t===e.friendStatus.Sent?2:t===e.friendStatus.Received?3:4)}}var M=class n{actionButtonsSmall=!1;userId=w(0);friendService=f(V);dialogService=f(U);friendStatus=y;friend=v(()=>this.friendService.selfFriends()?.find(s=>this.userId()===s.id));relationStatus=v(()=>this.friend()?.status??"");hoverAddFriendButton=!1;addFriend(){this.friendService.sendFriendRequest(this.userId())}acceptFriendRequest(){this.friendService.acceptFriendRequest(this.userId())}deleteFriend(){this.dialogService.openConfirmDeleteDialog(this.friend()?.username??"").subscribe(s=>{s&&this.friendService.deleteFriend(this.userId())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=b({type:n,selectors:[["app-friend-actions"]],inputs:{actionButtonsSmall:"actionButtonsSmall",userId:[1,"userId"]},decls:1,vars:0,consts:[["class","friend-button-container",3,"ngClass",4,"transloco"],[1,"friend-button-container",3,"ngClass"],["mat-stroked-button","",1,"button-with-cancel"],["mat-stroked-button",""],["mat-stroked-button","",1,"button-with-cancel",3,"click","mouseenter","mouseleave"],["mat-stroked-button","",3,"click"],["mat-stroked-button","",1,"decline",3,"click"]],template:function(t,e){t&1&&C(0,K,5,2,"div",0)},dependencies:[I,A,N,q,S,k],styles:[".friend-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--spacing-small);width:fit-content}.friend-button-container[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{background-color:var(--danger-color);transition:background-color .2s,color .2s}.friend-button-container[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]:hover{background-color:var(--danger-color-hover)}.friend-button-container[_ngcontent-%COMP%]   .button-with-cancel[_ngcontent-%COMP%]{transition:background-color .3s,color .3s}.friend-button-container[_ngcontent-%COMP%]   .button-with-cancel[_ngcontent-%COMP%]:hover{background-color:var(--danger-color-hover)}.smallButton[_ngcontent-%COMP%]{gap:0px}.smallButton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;transform:scaleX(1.6666666667)}.smallButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:scaleX(.6);margin:0 -10px}"]})};var Q=n=>["/profile",n];function W(n,s){if(n&1&&(r(0,"div",4),F(1,"app-friend-actions",5),a()),n&2){let t=o();c(),u("userId",t.friend.id)("actionButtonsSmall",t.actionButtonsSmall)}}var $=class n{friend;actionButtonsOn=!0;actionButtonsSmall=!1;bgClass="";userService=f(T);amIThisUser=v(()=>this.userService.selfUser()?.id===this.friend.id);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=b({type:n,selectors:[["app-friend-tile"]],inputs:{friend:"friend",actionButtonsOn:"actionButtonsOn",actionButtonsSmall:"actionButtonsSmall",bgClass:"bgClass"},decls:8,vars:7,consts:[[3,"ngClass"],[1,"content"],[1,"left-container",3,"routerLink"],["appImgFallback","user-avatar.png","alt","avatar","draggable","false",3,"src"],[1,"right-container"],[3,"userId","actionButtonsSmall"]],template:function(t,e){if(t&1&&(r(0,"mat-card",0)(1,"div",1)(2,"div",2),F(3,"img",3),r(4,"mat-card-title"),d(5),a()(),F(6,"span"),C(7,W,2,2,"div",4),a()()),t&2){let i;u("ngClass",e.bgClass),c(2),u("routerLink",P(5,Q,e.friend.id)),c(),u("src",(i=e.friend.profilePictureUrl)!==null&&i!==void 0?i:"user-avatar.png",O),c(2),x(e.friend.username),c(2),h(e.actionButtonsOn&&!e.amIThisUser()?7:-1)}},dependencies:[M,R,E,D,B,S,j],styles:[".transparent[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none}mat-card[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;min-width:min(250px,100%);max-width:100%;max-height:100%}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;height:100%;padding:0 clamp(var(--spacing-small),2.5%,var(--spacing-medium))}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;cursor:pointer;height:100%;max-width:70%}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65%;aspect-ratio:1/1;object-fit:cover;border-radius:50%;margin:0}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin-left:10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}mat-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{font-size:80%}"]})};export{M as a,$ as b};
